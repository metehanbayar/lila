(()=>{var e={};e.id=344,e.ids=[344],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},79646:e=>{"use strict";e.exports=require("child_process")},81115:e=>{"use strict";e.exports=require("constants")},55511:e=>{"use strict";e.exports=require("crypto")},19185:e=>{"use strict";e.exports=require("dgram")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},41204:e=>{"use strict";e.exports=require("string_decoder")},66136:e=>{"use strict";e.exports=require("timers")},34631:e=>{"use strict";e.exports=require("tls")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},4573:e=>{"use strict";e.exports=require("node:buffer")},31421:e=>{"use strict";e.exports=require("node:child_process")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},73024:e=>{"use strict";e.exports=require("node:fs")},51455:e=>{"use strict";e.exports=require("node:fs/promises")},37067:e=>{"use strict";e.exports=require("node:http")},44708:e=>{"use strict";e.exports=require("node:https")},48161:e=>{"use strict";e.exports=require("node:os")},76760:e=>{"use strict";e.exports=require("node:path")},1708:e=>{"use strict";e.exports=require("node:process")},57075:e=>{"use strict";e.exports=require("node:stream")},73136:e=>{"use strict";e.exports=require("node:url")},57975:e=>{"use strict";e.exports=require("node:util")},38522:e=>{"use strict";e.exports=require("node:zlib")},78757:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>h,routeModule:()=>m,serverHooks:()=>q,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>l});var s={};t.r(s),t.d(s,{GET:()=>d});var i=t(42706),o=t(28203),u=t(45994),n=t(39187),a=t(99947),p=t.n(a);let c={user:"sa",password:"Ata2230404.",server:"192.168.1.11",database:"Samba-Merkez",options:{encrypt:!0,trustServerCertificate:!0}};async function d(){try{await p().connect(c);let e=await p().query(`
      select ROW_NUMBER() OVER(ORDER BY sm.Name,smc.Name,smi.SubMenuTag,smi.Name,mip.MenuItemPortionId,mip.Id ASC) AS Row#,
        mip.MenuItemPortionId as portion_id,
        mip.Id as prices_id,
        smc.Name as Kategori,
        smi.Name as \xdcr\xfcn,
        mp.Name as Porsiyon,
        mip.Price as Fiyat
      from ScreenMenuItems smi
      join ScreenMenuCategories smc on smc.Id=smi.ScreenMenuCategoryId
      join ScreenMenus sm on sm.Id=smc.ScreenMenuId
      join MenuItems mi on mi.Id=smi.MenuItemId
      join MenuItemPortions mp on mp.MenuItemId=mi.Id
      join MenuItemPrices mip on mip.MenuItemPortionId=mp.Id
      where mip.PriceTag is null
      order by 4,5,6,7,1,2
    `),r=await fetch("http://localhost:3000/api/products"),t=await r.json();for(let r of e.recordset){let e=t.find(e=>e.mssqlProductName===r.Ürün&&e.variations?.some(e=>e.name===r.Porsiyon));if(e){let t=e.variations?.find(e=>e.name===r.Porsiyon);t&&(t.price=r.Fiyat.toString())}}for(let e of t)await fetch(`http://localhost:3000/api/products/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return n.NextResponse.json({success:!0,message:"Fiyatlar başarıyla g\xfcncellendi",updatedProducts:t})}catch(e){return console.error("Fiyat g\xfcncelleme hatası:",e),n.NextResponse.json({success:!1,error:"Fiyatlar g\xfcncellenirken bir hata oluştu"},{status:500})}}let m=new i.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/prices/route",pathname:"/api/prices",filename:"route",bundlePath:"app/api/prices/route"},resolvedPagePath:"C:\\Users\\PC\\Desktop\\qr men\xfc son hali\\lila\\src\\app\\api\\prices\\route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:x,workUnitAsyncStorage:l,serverHooks:q}=m;function h(){return(0,u.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:l})}},96487:()=>{},78335:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[994,452,947],()=>t(78757));module.exports=s})();