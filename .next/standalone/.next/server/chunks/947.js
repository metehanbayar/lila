exports.id=947,exports.ids=[947],exports.modules={49015:(e,t,r)=>{"use strict";function n(e,t,r){function n(e){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,t&&t.apply(this,arguments),this.toString=function(){return this.name+": "+this.message}}return void 0===r&&(r=Error),n.prototype=Object.create(r.prototype),n.prototype.name=e,n.prototype.constructor=n,n}r.r(t),r.d(t,{ArithmeticException:()=>h,ChronoField:()=>M,ChronoLocalDate:()=>z,ChronoLocalDateTime:()=>e8,ChronoUnit:()=>R,ChronoZonedDateTime:()=>eJ,Clock:()=>e3,DateTimeException:()=>c,DateTimeFormatter:()=>eH,DateTimeFormatterBuilder:()=>eF,DateTimeParseException:()=>u,DayOfWeek:()=>F,DecimalStyle:()=>e_,Duration:()=>I,IllegalArgumentException:()=>f,IllegalStateException:()=>p,Instant:()=>e6,IsoChronology:()=>eX,IsoFields:()=>ei,LocalDate:()=>e2,LocalDateTime:()=>e5,LocalTime:()=>e4,Month:()=>B,MonthDay:()=>eY,NullPointerException:()=>m,OffsetDateTime:()=>e1,OffsetTime:()=>eQ,ParsePosition:()=>H,Period:()=>q,ResolverStyle:()=>V,SignStyle:()=>eE,Temporal:()=>$,TemporalAccessor:()=>L,TemporalAdjuster:()=>ez,TemporalAdjusters:()=>eW,TemporalAmount:()=>C,TemporalField:()=>P,TemporalQueries:()=>k,TemporalQuery:()=>U,TemporalUnit:()=>O,TextStyle:()=>ev,UnsupportedTemporalTypeException:()=>d,ValueRange:()=>D,Year:()=>e$,YearConstants:()=>N,YearMonth:()=>eV,ZoneId:()=>G,ZoneOffset:()=>J,ZoneOffsetTransition:()=>tt,ZoneRegion:()=>eM,ZoneRules:()=>K,ZoneRulesProvider:()=>eD,ZonedDateTime:()=>e0,_:()=>tu,convert:()=>tl,nativeJs:()=>tc,use:()=>th});var i,o,s,a,l,c=n("DateTimeException",function(e,t){void 0===t&&(t=null);var r=e||this.name;null!==t&&t instanceof Error&&(r+="\n-------\nCaused by: "+t.stack+"\n-------\n"),this.message=r}),u=n("DateTimeParseException",function(e,t,r,n){void 0===t&&(t=""),void 0===r&&(r=0),void 0===n&&(n=null);var i=e||this.name;i+=": "+t+", at index: "+r,null!==n&&n instanceof Error&&(i+="\n-------\nCaused by: "+n.stack+"\n-------\n"),this.message=i,this.parsedString=function(){return t},this.errorIndex=function(){return r}}),d=n("UnsupportedTemporalTypeException",null,c),h=n("ArithmeticException"),f=n("IllegalArgumentException"),p=n("IllegalStateException"),m=n("NullPointerException");function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,r){if(!e){if(r)throw new r(t);throw Error(t)}}function v(e,t){if(null==e)throw new m(t+" must not be null");return e}function b(e,t,r){if(!(e instanceof t))throw new f(r+" must be an instance of "+(t.name?t.name:t)+(e&&e.constructor&&e.constructor.name?", but is "+e.constructor.name:""));return e}function T(e){throw TypeError('abstract method "'+e+'" is not implemented')}var w=Object.freeze({__proto__:null,abstractMethodFail:T,assert:E,requireInstance:b,requireNonNull:v}),S=function(){function e(){}return e.intDiv=function(t,r){var n=t/r;return n=e.roundDown(n),e.safeZero(n)},e.intMod=function(t,r){var n=t-e.intDiv(t,r)*r;return n=e.roundDown(n),e.safeZero(n)},e.roundDown=function(e){return e<0?Math.ceil(e):Math.floor(e)},e.floorDiv=function(t,r){var n=Math.floor(t/r);return e.safeZero(n)},e.floorMod=function(t,r){var n=t-e.floorDiv(t,r)*r;return e.safeZero(n)},e.safeAdd=function(t,r){if(e.verifyInt(t),e.verifyInt(r),0===t)return e.safeZero(r);if(0===r)return e.safeZero(t);var n=e.safeToInt(t+r);if(n===t||n===r)throw new h("Invalid addition beyond MAX_SAFE_INTEGER!");return n},e.safeSubtract=function(t,r){return(e.verifyInt(t),e.verifyInt(r),0===t&&0===r)?0:0===t?e.safeZero(-1*r):0===r?e.safeZero(t):e.safeToInt(t-r)},e.safeMultiply=function(t,r){if(e.verifyInt(t),e.verifyInt(r),1===t)return e.safeZero(r);if(1===r)return e.safeZero(t);if(0===t||0===r)return 0;var n=e.safeToInt(t*r);if(n/r!==t||-0x1fffffffffffff===t&&-1===r||-0x1fffffffffffff===r&&-1===t)throw new h("Multiplication overflows: "+t+" * "+r);return n},e.parseInt=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){var r=parseInt(t);return e.safeToInt(r)}),e.safeToInt=function(t){return e.verifyInt(t),e.safeZero(t)},e.verifyInt=function(e){if(null==e)throw new h("Invalid value: '"+e+"', using null or undefined as argument");if(isNaN(e))throw new h("Invalid int value, using NaN as argument");if(Number.isInteger){if(!Number.isInteger(Number(e)))throw new h("Invalid value: '"+e+"' is a float")}else if(e%1!=0)throw new h("Invalid value: '"+e+"' is a float");if(e>0x1fffffffffffff||e<-0x1fffffffffffff)throw new h("Calculation overflows an int: "+e)},e.safeZero=function(e){return 0===e?0:+e},e.compareNumbers=function(e,t){return e<t?-1:e>t?1:0},e.smi=function(e){return e>>>1&0x40000000|0xbfffffff&e},e.hash=function(t){if(t!=t||t===1/0)return 0;for(var r=t;t>0xffffffff;)t/=0xffffffff,r^=t;return e.smi(r)},e.hashCode=function(){for(var t=17,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var o=0;o<n.length;o++){var s=n[o];t=(t<<5)-t+e.hash(s)}return e.hash(t)},e}();S.MAX_SAFE_INTEGER=0x1fffffffffffff,S.MIN_SAFE_INTEGER=-0x1fffffffffffff;var A=function(){function e(e){this._name=e}var t=e.prototype;return t.equals=function(e){return this===e},t.toString=function(){return this._name},t.toJSON=function(){return this.toString()},e}(),C=function(){function e(){}var t=e.prototype;return t.get=function(e){T("get")},t.units=function(){T("units")},t.addTo=function(e){T("addTo")},t.subtractFrom=function(e){T("subtractFrom")},e}();"undefined"!=typeof Symbol&&Symbol.toPrimitive&&(C.prototype[Symbol.toPrimitive]=function(e){if("number"!==e)return this.toString();throw TypeError("A conversion from TemporalAmount to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});var O=function(){function e(){}var t=e.prototype;return t.duration=function(){T("duration")},t.isDurationEstimated=function(){T("isDurationEstimated")},t.isDateBased=function(){T("isDateBased")},t.isTimeBased=function(){T("isTimeBased")},t.isSupportedBy=function(e){T("isSupportedBy")},t.addTo=function(e,t){T("addTo")},t.between=function(e,t){T("between")},e}(),I=function(e){function t(t,r){var n;return(n=e.call(this)||this)._seconds=S.safeToInt(t),n._nanos=S.safeToInt(r),n}g(t,e),t.ofDays=function(e){return t._create(S.safeMultiply(e,e4.SECONDS_PER_DAY),0)},t.ofHours=function(e){return t._create(S.safeMultiply(e,e4.SECONDS_PER_HOUR),0)},t.ofMinutes=function(e){return t._create(S.safeMultiply(e,e4.SECONDS_PER_MINUTE),0)},t.ofSeconds=function(e,r){void 0===r&&(r=0);var n=S.safeAdd(e,S.floorDiv(r,e4.NANOS_PER_SECOND)),i=S.floorMod(r,e4.NANOS_PER_SECOND);return t._create(n,i)},t.ofMillis=function(e){var r=S.intDiv(e,1e3),n=S.intMod(e,1e3);return n<0&&(n+=1e3,r--),t._create(r,1e6*n)},t.ofNanos=function(e){var t=S.intDiv(e,e4.NANOS_PER_SECOND),r=S.intMod(e,e4.NANOS_PER_SECOND);return r<0&&(r+=e4.NANOS_PER_SECOND,t--),this._create(t,r)},t.of=function(e,r){return t.ZERO.plus(e,r)},t.from=function(e){v(e,"amount"),b(e,C);var r=t.ZERO;return e.units().forEach(function(t){r=r.plus(e.get(t),t)}),r},t.between=function(e,t){v(e,"startInclusive"),v(t,"endExclusive");var r=e.until(t,R.SECONDS),n=0;if(e.isSupported(M.NANO_OF_SECOND)&&t.isSupported(M.NANO_OF_SECOND))try{var i=e.getLong(M.NANO_OF_SECOND);if(n=t.getLong(M.NANO_OF_SECOND)-i,r>0&&n<0)n+=e4.NANOS_PER_SECOND;else if(r<0&&n>0)n-=e4.NANOS_PER_SECOND;else if(0===r&&0!==n){var o=t.with(M.NANO_OF_SECOND,i);r=e.until(o,R.SECONDS)}}catch(e){}return this.ofSeconds(r,n)},t.parse=function(e){v(e,"text");var r=RegExp("([-+]?)P(?:([-+]?[0-9]+)D)?(T(?:([-+]?[0-9]+)H)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)(?:[.,]([0-9]{0,9}))?S)?)?","i").exec(e);if(null!==r&&"T"===r[3]==!1){var n="-"===r[1],i=r[2],o=r[4],s=r[5],a=r[6],l=r[7];if(null!=i||null!=o||null!=s||null!=a){var c=t._parseNumber(e,i,e4.SECONDS_PER_DAY,"days"),d=t._parseNumber(e,o,e4.SECONDS_PER_HOUR,"hours"),h=t._parseNumber(e,s,e4.SECONDS_PER_MINUTE,"minutes"),f=t._parseNumber(e,a,1,"seconds"),p=null!=a&&"-"===a.charAt(0),m=t._parseFraction(e,l,p?-1:1);try{return t._create(n,c,d,h,f,m)}catch(t){throw new u("Text cannot be parsed to a Duration: overflow",e,0,t)}}}throw new u("Text cannot be parsed to a Duration",e,0)},t._parseNumber=function(e,t,r,n){if(null==t)return 0;try{return"+"===t[0]&&(t=t.substring(1)),S.safeMultiply(parseFloat(t),r)}catch(t){throw new u("Text cannot be parsed to a Duration: "+n,e,0,t)}},t._parseFraction=function(e,t,r){return null==t||0===t.length?0:parseFloat(t=(t+"000000000").substring(0,9))*r},t._create=function(){return arguments.length<=2?t._createSecondsNanos(arguments[0],arguments[1]):t._createNegateDaysHoursMinutesSecondsNanos(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},t._createNegateDaysHoursMinutesSecondsNanos=function(e,r,n,i,o,s){var a=S.safeAdd(r,S.safeAdd(n,S.safeAdd(i,o)));return e?t.ofSeconds(a,s).negated():t.ofSeconds(a,s)},t._createSecondsNanos=function(e,r){return(void 0===e&&(e=0),void 0===r&&(r=0),0===e&&0===r)?t.ZERO:new t(e,r)};var r=t.prototype;return r.get=function(e){if(e===R.SECONDS)return this._seconds;if(e===R.NANOS)return this._nanos;throw new d("Unsupported unit: "+e)},r.units=function(){return[R.SECONDS,R.NANOS]},r.isZero=function(){return 0===this._seconds&&0===this._nanos},r.isNegative=function(){return this._seconds<0},r.seconds=function(){return this._seconds},r.nano=function(){return this._nanos},r.withSeconds=function(e){return t._create(e,this._nanos)},r.withNanos=function(e){return M.NANO_OF_SECOND.checkValidIntValue(e),t._create(this._seconds,e)},r.plusDuration=function(e){return v(e,"duration"),this.plus(e.seconds(),e.nano())},r.plus=function(e,t){return 1==arguments.length?this.plusDuration(e):2==arguments.length&&t instanceof O?this.plusAmountUnit(e,t):this.plusSecondsNanos(e,t)},r.plusAmountUnit=function(e,t){if(v(e,"amountToAdd"),v(t,"unit"),t===R.DAYS)return this.plusSecondsNanos(S.safeMultiply(e,e4.SECONDS_PER_DAY),0);if(t.isDurationEstimated())throw new d("Unit must not have an estimated duration");if(0===e)return this;if(t instanceof R){switch(t){case R.NANOS:return this.plusNanos(e);case R.MICROS:return this.plusSecondsNanos(1e3*S.intDiv(e,1e9),1e3*S.intMod(e,1e9));case R.MILLIS:return this.plusMillis(e);case R.SECONDS:return this.plusSeconds(e)}return this.plusSecondsNanos(S.safeMultiply(t.duration().seconds(),e),0)}var r=t.duration().multipliedBy(e);return this.plusSecondsNanos(r.seconds(),r.nano())},r.plusDays=function(e){return this.plusSecondsNanos(S.safeMultiply(e,e4.SECONDS_PER_DAY),0)},r.plusHours=function(e){return this.plusSecondsNanos(S.safeMultiply(e,e4.SECONDS_PER_HOUR),0)},r.plusMinutes=function(e){return this.plusSecondsNanos(S.safeMultiply(e,e4.SECONDS_PER_MINUTE),0)},r.plusSeconds=function(e){return this.plusSecondsNanos(e,0)},r.plusMillis=function(e){return this.plusSecondsNanos(S.intDiv(e,1e3),1e6*S.intMod(e,1e3))},r.plusNanos=function(e){return this.plusSecondsNanos(0,e)},r.plusSecondsNanos=function(e,r){if(v(e,"secondsToAdd"),v(r,"nanosToAdd"),0===e&&0===r)return this;var n=S.safeAdd(this._seconds,e);n=S.safeAdd(n,S.intDiv(r,e4.NANOS_PER_SECOND)),r=S.intMod(r,e4.NANOS_PER_SECOND);var i=S.safeAdd(this._nanos,r);return t.ofSeconds(n,i)},r.minus=function(e,t){return 1==arguments.length?this.minusDuration(e):this.minusAmountUnit(e,t)},r.minusDuration=function(e){v(e,"duration");var t=e.seconds(),r=e.nano();return -0x1fffffffffffff===t?this.plus(0x1fffffffffffff,-r):this.plus(-t,-r)},r.minusAmountUnit=function(e,t){return v(e,"amountToSubtract"),v(t,"unit"),-0x1fffffffffffff===e?this.plusAmountUnit(0x1fffffffffffff,t):this.plusAmountUnit(-e,t)},r.minusDays=function(e){return -0x1fffffffffffff===e?this.plusDays(0x1fffffffffffff):this.plusDays(-e)},r.minusHours=function(e){return -0x1fffffffffffff===e?this.plusHours(0x1fffffffffffff):this.plusHours(-e)},r.minusMinutes=function(e){return -0x1fffffffffffff===e?this.plusMinutes(0x1fffffffffffff):this.plusMinutes(-e)},r.minusSeconds=function(e){return -0x1fffffffffffff===e?this.plusSeconds(0x1fffffffffffff):this.plusSeconds(-e)},r.minusMillis=function(e){return -0x1fffffffffffff===e?this.plusMillis(0x1fffffffffffff):this.plusMillis(-e)},r.minusNanos=function(e){return -0x1fffffffffffff===e?this.plusNanos(0x1fffffffffffff):this.plusNanos(-e)},r.multipliedBy=function(e){if(0===e)return t.ZERO;if(1===e)return this;var r=S.safeMultiply(this._seconds,e),n=S.safeMultiply(this._nanos,e);return r+=S.intDiv(n,e4.NANOS_PER_SECOND),n=S.intMod(n,e4.NANOS_PER_SECOND),t.ofSeconds(r,n)},r.dividedBy=function(e){if(0===e)throw new h("Cannot divide by zero");if(1===e)return this;var r=S.intDiv(this._seconds,e),n=S.roundDown((this._seconds/e-r)*e4.NANOS_PER_SECOND),i=S.intDiv(this._nanos,e);return i=n+i,t.ofSeconds(r,i)},r.negated=function(){return this.multipliedBy(-1)},r.abs=function(){return this.isNegative()?this.negated():this},r.addTo=function(e){return v(e,"temporal"),0!==this._seconds&&(e=e.plus(this._seconds,R.SECONDS)),0!==this._nanos&&(e=e.plus(this._nanos,R.NANOS)),e},r.subtractFrom=function(e){return v(e,"temporal"),0!==this._seconds&&(e=e.minus(this._seconds,R.SECONDS)),0!==this._nanos&&(e=e.minus(this._nanos,R.NANOS)),e},r.toDays=function(){return S.intDiv(this._seconds,e4.SECONDS_PER_DAY)},r.toHours=function(){return S.intDiv(this._seconds,e4.SECONDS_PER_HOUR)},r.toMinutes=function(){return S.intDiv(this._seconds,e4.SECONDS_PER_MINUTE)},r.toMillis=function(){var e=Math.round(S.safeMultiply(this._seconds,1e3));return S.safeAdd(e,S.intDiv(this._nanos,1e6))},r.toNanos=function(){var e=S.safeMultiply(this._seconds,e4.NANOS_PER_SECOND);return S.safeAdd(e,this._nanos)},r.compareTo=function(e){v(e,"otherDuration"),b(e,t,"otherDuration");var r=S.compareNumbers(this._seconds,e.seconds());return 0!==r?r:this._nanos-e.nano()},r.equals=function(e){return this===e||e instanceof t&&this.seconds()===e.seconds()&&this.nano()===e.nano()},r.toString=function(){if(this===t.ZERO)return"PT0S";var e,r=S.intDiv(this._seconds,e4.SECONDS_PER_HOUR),n=S.intDiv(S.intMod(this._seconds,e4.SECONDS_PER_HOUR),e4.SECONDS_PER_MINUTE),i=S.intMod(this._seconds,e4.SECONDS_PER_MINUTE),o="PT";if(0!==r&&(o+=r+"H"),0!==n&&(o+=n+"M"),0===i&&0===this._nanos&&o.length>2)return o;if(i<0&&this._nanos>0?-1===i?o+="-0":o+=i+1:o+=i,this._nanos>0)for(o+=".",o+=e=(e=i<0?""+(2*e4.NANOS_PER_SECOND-this._nanos):""+(e4.NANOS_PER_SECOND+this._nanos)).slice(1,e.length);"0"===o.charAt(o.length-1);)o=o.slice(0,o.length-1);return o+"S"},r.toJSON=function(){return this.toString()},t}(C),N=function(){},R=function(e){function t(t,r){var n;return(n=e.call(this)||this)._name=t,n._duration=r,n}g(t,e);var r=t.prototype;return r.duration=function(){return this._duration},r.isDurationEstimated=function(){return this.isDateBased()||this===t.FOREVER},r.isDateBased=function(){return this.compareTo(t.DAYS)>=0&&this!==t.FOREVER},r.isTimeBased=function(){return 0>this.compareTo(t.DAYS)},r.isSupportedBy=function(e){if(this===t.FOREVER)return!1;try{return e.plus(1,this),!0}catch(t){try{return e.plus(-1,this),!0}catch(e){return!1}}},r.addTo=function(e,t){return e.plus(t,this)},r.between=function(e,t){return e.until(t,this)},r.toString=function(){return this._name},r.compareTo=function(e){return this.duration().compareTo(e.duration())},t}(O),P=function(){function e(){}var t=e.prototype;return t.isDateBased=function(){T("isDateBased")},t.isTimeBased=function(){T("isTimeBased")},t.baseUnit=function(){T("baseUnit")},t.rangeUnit=function(){T("rangeUnit")},t.range=function(){T("range")},t.rangeRefinedBy=function(e){T("rangeRefinedBy")},t.getFrom=function(e){T("getFrom")},t.adjustInto=function(e,t){T("adjustInto")},t.isSupportedBy=function(e){T("isSupportedBy")},t.displayName=function(){T("displayName")},t.equals=function(e){T("equals")},t.name=function(){T("name")},e}(),D=function(){function e(e,t,r,n){E(!(e>t),"Smallest minimum value '"+e+"' must be less than largest minimum value '"+t+"'",f),E(!(r>n),"Smallest maximum value '"+r+"' must be less than largest maximum value '"+n+"'",f),E(!(t>n),"Minimum value '"+t+"' must be less than maximum value '"+n+"'",f),this._minSmallest=e,this._minLargest=t,this._maxLargest=n,this._maxSmallest=r}var t=e.prototype;return t.isFixed=function(){return this._minSmallest===this._minLargest&&this._maxSmallest===this._maxLargest},t.minimum=function(){return this._minSmallest},t.largestMinimum=function(){return this._minLargest},t.maximum=function(){return this._maxLargest},t.smallestMaximum=function(){return this._maxSmallest},t.isValidValue=function(e){return this.minimum()<=e&&e<=this.maximum()},t.checkValidValue=function(e,t){return this.isValidValue(e)?e:E(!1,null!=t?"Invalid value for "+t+" (valid values "+this.toString()+"): "+e:"Invalid value (valid values "+this.toString()+"): "+e,c)},t.checkValidIntValue=function(e,t){if(!1===this.isValidIntValue(e))throw new c("Invalid int value for "+t+": "+e);return e},t.isValidIntValue=function(e){return this.isIntValue()&&this.isValidValue(e)},t.isIntValue=function(){return this.minimum()>=S.MIN_SAFE_INTEGER&&this.maximum()<=S.MAX_SAFE_INTEGER},t.equals=function(t){return t===this||t instanceof e&&this._minSmallest===t._minSmallest&&this._minLargest===t._minLargest&&this._maxSmallest===t._maxSmallest&&this._maxLargest===t._maxLargest},t.hashCode=function(){return S.hashCode(this._minSmallest,this._minLargest,this._maxSmallest,this._maxLargest)},t.toString=function(){return this.minimum()+(this.minimum()!==this.largestMinimum()?"/"+this.largestMinimum():"")+(" - "+this.smallestMaximum())+(this.smallestMaximum()!==this.maximum()?"/"+this.maximum():"")},e.of=function(){return 2==arguments.length?new e(arguments[0],arguments[0],arguments[1],arguments[1]):3==arguments.length?new e(arguments[0],arguments[0],arguments[1],arguments[2]):4==arguments.length?new e(arguments[0],arguments[1],arguments[2],arguments[3]):E(!1,"Invalid number of arguments "+arguments.length,f)},e}(),M=function(e){function t(t,r,n,i){var o;return(o=e.call(this)||this)._name=t,o._baseUnit=r,o._rangeUnit=n,o._range=i,o}g(t,e),t.byName=function(e){for(var r in t)if(t[r]&&t[r]instanceof t&&t[r].name()===e)return t[r]};var r=t.prototype;return r.name=function(){return this._name},r.baseUnit=function(){return this._baseUnit},r.rangeUnit=function(){return this._rangeUnit},r.range=function(){return this._range},r.displayName=function(){return this.toString()},r.checkValidValue=function(e){return this.range().checkValidValue(e,this)},r.checkValidIntValue=function(e){return this.range().checkValidIntValue(e,this)},r.isDateBased=function(){return this===t.DAY_OF_WEEK||this===t.ALIGNED_DAY_OF_WEEK_IN_MONTH||this===t.ALIGNED_DAY_OF_WEEK_IN_YEAR||this===t.DAY_OF_MONTH||this===t.DAY_OF_YEAR||this===t.EPOCH_DAY||this===t.ALIGNED_WEEK_OF_MONTH||this===t.ALIGNED_WEEK_OF_YEAR||this===t.MONTH_OF_YEAR||this===t.PROLEPTIC_MONTH||this===t.YEAR_OF_ERA||this===t.YEAR||this===t.ERA},r.isTimeBased=function(){return this===t.NANO_OF_SECOND||this===t.NANO_OF_DAY||this===t.MICRO_OF_SECOND||this===t.MICRO_OF_DAY||this===t.MILLI_OF_SECOND||this===t.MILLI_OF_DAY||this===t.SECOND_OF_MINUTE||this===t.SECOND_OF_DAY||this===t.MINUTE_OF_HOUR||this===t.MINUTE_OF_DAY||this===t.HOUR_OF_AMPM||this===t.CLOCK_HOUR_OF_AMPM||this===t.HOUR_OF_DAY||this===t.CLOCK_HOUR_OF_DAY||this===t.AMPM_OF_DAY},r.rangeRefinedBy=function(e){return e.range(this)},r.getFrom=function(e){return e.getLong(this)},r.toString=function(){return this.name()},r.equals=function(e){return this===e},r.adjustInto=function(e,t){return e.with(this,t)},r.isSupportedBy=function(e){return e.isSupported(this)},t}(P),k=function(){function e(){}return e.zoneId=function(){return e.ZONE_ID},e.chronology=function(){return e.CHRONO},e.precision=function(){return e.PRECISION},e.zone=function(){return e.ZONE},e.offset=function(){return e.OFFSET},e.localDate=function(){return e.LOCAL_DATE},e.localTime=function(){return e.LOCAL_TIME},e}(),L=function(){function e(){}var t=e.prototype;return t.query=function(e){return e===k.zoneId()||e===k.chronology()||e===k.precision()?null:e.queryFrom(this)},t.get=function(e){return this.range(e).checkValidIntValue(this.getLong(e),e)},t.getLong=function(e){T("getLong")},t.range=function(e){if(e instanceof M){if(this.isSupported(e))return e.range();throw new d("Unsupported field: "+e)}return e.rangeRefinedBy(this)},t.isSupported=function(e){T("isSupported")},e}(),U=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.queryFrom=function(e){T("queryFrom")},t}(A);function x(e,t){var r=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t}(U);return r.prototype.queryFrom=t,new r(e)}var F=function(e){function t(t,r){var n;return(n=e.call(this)||this)._ordinal=t,n._name=r,n}g(t,e);var r=t.prototype;return r.ordinal=function(){return this._ordinal},r.name=function(){return this._name},t.values=function(){return i.slice()},t.valueOf=function(e){for(var r=0;r<i.length&&i[r].name()!==e;r++);return t.of(r+1)},t.of=function(e){if(e<1||e>7)throw new c("Invalid value for DayOfWeek: "+e);return i[e-1]},t.from=function(e){if(E(null!=e,"temporal",m),e instanceof t)return e;try{return t.of(e.get(M.DAY_OF_WEEK))}catch(t){if(t instanceof c)throw new c("Unable to obtain DayOfWeek from TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""),t);throw t}},r.value=function(){return this._ordinal+1},r.displayName=function(e,t){throw new f("Pattern using (localized) text not implemented yet!")},r.isSupported=function(e){return e instanceof M?e===M.DAY_OF_WEEK:null!=e&&e.isSupportedBy(this)},r.range=function(e){if(e===M.DAY_OF_WEEK)return e.range();if(e instanceof M)throw new d("Unsupported field: "+e);return e.rangeRefinedBy(this)},r.get=function(e){return e===M.DAY_OF_WEEK?this.value():this.range(e).checkValidIntValue(this.getLong(e),e)},r.getLong=function(e){if(e===M.DAY_OF_WEEK)return this.value();if(e instanceof M)throw new d("Unsupported field: "+e);return e.getFrom(this)},r.plus=function(e){var t=S.floorMod(e,7);return i[S.floorMod(this._ordinal+(t+7),7)]},r.minus=function(e){return this.plus(-1*S.floorMod(e,7))},r.query=function(e){return e===k.precision()?R.DAYS:e===k.localDate()||e===k.localTime()||e===k.chronology()||e===k.zone()||e===k.zoneId()||e===k.offset()?null:(E(null!=e,"query",m),e.queryFrom(this))},r.adjustInto=function(e){return v(e,"temporal"),e.with(M.DAY_OF_WEEK,this.value())},r.equals=function(e){return this===e},r.toString=function(){return this._name},r.compareTo=function(e){return v(e,"other"),b(e,t,"other"),this._ordinal-e._ordinal},r.toJSON=function(){return this.toString()},t}(L),B=function(e){function t(t,r){var n;return(n=e.call(this)||this)._value=S.safeToInt(t),n._name=r,n}g(t,e);var r=t.prototype;return r.value=function(){return this._value},r.ordinal=function(){return this._value-1},r.name=function(){return this._name},r.displayName=function(e,t){throw new f("Pattern using (localized) text not implemented yet!")},r.isSupported=function(e){return null!==e&&(e instanceof M?e===M.MONTH_OF_YEAR:null!=e&&e.isSupportedBy(this))},r.get=function(e){return e===M.MONTH_OF_YEAR?this.value():this.range(e).checkValidIntValue(this.getLong(e),e)},r.getLong=function(e){if(e===M.MONTH_OF_YEAR)return this.value();if(e instanceof M)throw new d("Unsupported field: "+e);return e.getFrom(this)},r.plus=function(e){var r=S.intMod(e,12)+12,n=S.intMod(this.value()+r,12);return n=0===n?12:n,t.of(n)},r.minus=function(e){return this.plus(-1*S.intMod(e,12))},r.length=function(e){switch(this){case t.FEBRUARY:return e?29:28;case t.APRIL:case t.JUNE:case t.SEPTEMBER:case t.NOVEMBER:return 30;default:return 31}},r.minLength=function(){switch(this){case t.FEBRUARY:return 28;case t.APRIL:case t.JUNE:case t.SEPTEMBER:case t.NOVEMBER:return 30;default:return 31}},r.maxLength=function(){switch(this){case t.FEBRUARY:return 29;case t.APRIL:case t.JUNE:case t.SEPTEMBER:case t.NOVEMBER:return 30;default:return 31}},r.firstDayOfYear=function(e){var r=e?1:0;switch(this){case t.JANUARY:return 1;case t.FEBRUARY:return 32;case t.MARCH:return 60+r;case t.APRIL:return 91+r;case t.MAY:return 121+r;case t.JUNE:return 152+r;case t.JULY:return 182+r;case t.AUGUST:return 213+r;case t.SEPTEMBER:return 244+r;case t.OCTOBER:return 274+r;case t.NOVEMBER:return 305+r;case t.DECEMBER:default:return 335+r}},r.firstMonthOfQuarter=function(){switch(this){case t.JANUARY:case t.FEBRUARY:case t.MARCH:return t.JANUARY;case t.APRIL:case t.MAY:case t.JUNE:return t.APRIL;case t.JULY:case t.AUGUST:case t.SEPTEMBER:return t.JULY;case t.OCTOBER:case t.NOVEMBER:case t.DECEMBER:default:return t.OCTOBER}},r.query=function(t){return(E(null!=t,"query() parameter must not be null",c),t===k.chronology())?eX.INSTANCE:t===k.precision()?R.MONTHS:e.prototype.query.call(this,t)},r.toString=function(){switch(this){case t.JANUARY:return"JANUARY";case t.FEBRUARY:return"FEBRUARY";case t.MARCH:return"MARCH";case t.APRIL:return"APRIL";case t.MAY:return"MAY";case t.JUNE:return"JUNE";case t.JULY:return"JULY";case t.AUGUST:return"AUGUST";case t.SEPTEMBER:return"SEPTEMBER";case t.OCTOBER:return"OCTOBER";case t.NOVEMBER:return"NOVEMBER";case t.DECEMBER:return"DECEMBER";default:return"unknown Month, value: "+this.value()}},r.toJSON=function(){return this.toString()},r.adjustInto=function(e){return e.with(M.MONTH_OF_YEAR,this.value())},r.compareTo=function(e){return v(e,"other"),b(e,t,"other"),this._value-e._value},r.equals=function(e){return this===e},t.valueOf=function(e){for(var r=0;r<o.length&&o[r].name()!==e;r++);return t.of(r+1)},t.values=function(){return o.slice()},t.of=function(e){return(e<1||e>12)&&E(!1,"Invalid value for MonthOfYear: "+e,c),o[e-1]},t.from=function(e){if(e instanceof t)return e;try{return t.of(e.get(M.MONTH_OF_YEAR))}catch(t){throw new c("Unable to obtain Month from TemporalAccessor: "+e+" of type "+(e&&null!=e.constructor?e.constructor.name:""),t)}},t}(L),j=/([-+]?)P(?:([-+]?[0-9]+)Y)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)W)?(?:([-+]?[0-9]+)D)?/,q=function(e){function t(r,n,i){o=e.call(this)||this;var o,s=S.safeToInt(r),a=S.safeToInt(n),l=S.safeToInt(i);return 0===s&&0===a&&0===l?(t.ZERO||(o._years=s,o._months=a,o._days=l,t.ZERO=_(o)),t.ZERO||_(o)):(o._years=s,o._months=a,o._days=l,o)}g(t,e),t.ofYears=function(e){return t.create(e,0,0)},t.ofMonths=function(e){return t.create(0,e,0)},t.ofWeeks=function(e){return t.create(0,0,S.safeMultiply(e,7))},t.ofDays=function(e){return t.create(0,0,e)},t.of=function(e,r,n){return t.create(e,r,n)},t.from=function(e){if(e instanceof t)return e;v(e,"amount");for(var r=0,n=0,i=0,o=e.units(),s=0;s<o.length;s++){var a=o[s],l=e.get(a);if(a===R.YEARS)r=S.safeToInt(l);else if(a===R.MONTHS)n=S.safeToInt(l);else if(a===R.DAYS)i=S.safeToInt(l);else throw new c("Unit must be Years, Months or Days, but was "+a)}return t.create(r,n,i)},t.between=function(e,t){return v(e,"startDate"),v(t,"endDate"),b(e,e2,"startDate"),b(t,e2,"endDate"),e.until(t)},t.parse=function(e){v(e,"text");try{return t._parse(e)}catch(t){if(t instanceof h)throw new u("Text cannot be parsed to a Period",e,0,t);throw t}},t._parse=function(e){var r=j.exec(e);if(null!=r){var n="-"===r[1]?-1:1,i=r[2],o=r[3],s=r[4],a=r[5];if(null!=i||null!=o||null!=s||null!=a){var l=t._parseNumber(e,i,n),c=t._parseNumber(e,o,n),d=t._parseNumber(e,s,n),h=t._parseNumber(e,a,n);return h=S.safeAdd(h,S.safeMultiply(d,7)),t.create(l,c,h)}}throw new u("Text cannot be parsed to a Period",e,0)},t._parseNumber=function(e,t,r){if(null==t)return 0;var n=S.parseInt(t);return S.safeMultiply(n,r)},t.create=function(e,r,n){return new t(e,r,n)};var r=t.prototype;return r.units=function(){return[R.YEARS,R.MONTHS,R.DAYS]},r.chronology=function(){return eX.INSTANCE},r.get=function(e){if(e===R.YEARS)return this._years;if(e===R.MONTHS)return this._months;if(e===R.DAYS)return this._days;throw new d("Unsupported unit: "+e)},r.isZero=function(){return this===t.ZERO},r.isNegative=function(){return this._years<0||this._months<0||this._days<0},r.years=function(){return this._years},r.months=function(){return this._months},r.days=function(){return this._days},r.withYears=function(e){return e===this._years?this:t.create(e,this._months,this._days)},r.withMonths=function(e){return e===this._months?this:t.create(this._years,e,this._days)},r.withDays=function(e){return e===this._days?this:t.create(this._years,this._months,e)},r.plus=function(e){var r=t.from(e);return t.create(S.safeAdd(this._years,r._years),S.safeAdd(this._months,r._months),S.safeAdd(this._days,r._days))},r.plusYears=function(e){return 0===e?this:t.create(S.safeToInt(S.safeAdd(this._years,e)),this._months,this._days)},r.plusMonths=function(e){return 0===e?this:t.create(this._years,S.safeToInt(S.safeAdd(this._months,e)),this._days)},r.plusDays=function(e){return 0===e?this:t.create(this._years,this._months,S.safeToInt(S.safeAdd(this._days,e)))},r.minus=function(e){var r=t.from(e);return t.create(S.safeSubtract(this._years,r._years),S.safeSubtract(this._months,r._months),S.safeSubtract(this._days,r._days))},r.minusYears=function(e){return this.plusYears(-1*e)},r.minusMonths=function(e){return this.plusMonths(-1*e)},r.minusDays=function(e){return this.plusDays(-1*e)},r.multipliedBy=function(e){return this===t.ZERO||1===e?this:t.create(S.safeMultiply(this._years,e),S.safeMultiply(this._months,e),S.safeMultiply(this._days,e))},r.negated=function(){return this.multipliedBy(-1)},r.normalized=function(){var e=this.toTotalMonths(),r=S.intDiv(e,12),n=S.intMod(e,12);return r===this._years&&n===this._months?this:t.create(S.safeToInt(r),n,this._days)},r.toTotalMonths=function(){return 12*this._years+this._months},r.addTo=function(e){return v(e,"temporal"),0!==this._years?e=0!==this._months?e.plus(this.toTotalMonths(),R.MONTHS):e.plus(this._years,R.YEARS):0!==this._months&&(e=e.plus(this._months,R.MONTHS)),0!==this._days&&(e=e.plus(this._days,R.DAYS)),e},r.subtractFrom=function(e){return v(e,"temporal"),0!==this._years?e=0!==this._months?e.minus(this.toTotalMonths(),R.MONTHS):e.minus(this._years,R.YEARS):0!==this._months&&(e=e.minus(this._months,R.MONTHS)),0!==this._days&&(e=e.minus(this._days,R.DAYS)),e},r.equals=function(e){return this===e||e instanceof t&&this._years===e._years&&this._months===e._months&&this._days===e._days},r.hashCode=function(){return S.hashCode(this._years,this._months,this._days)},r.toString=function(){if(this===t.ZERO)return"P0D";var e="P";return 0!==this._years&&(e+=this._years+"Y"),0!==this._months&&(e+=this._months+"M"),0!==this._days&&(e+=this._days+"D"),e},r.toJSON=function(){return this.toString()},t}(C),H=function(){function e(e){this._index=e,this._errorIndex=-1}var t=e.prototype;return t.getIndex=function(){return this._index},t.setIndex=function(e){this._index=e},t.getErrorIndex=function(){return this._errorIndex},t.setErrorIndex=function(e){this._errorIndex=e},e}(),Y=function(){function e(){this._map={}}var t=e.prototype;return t.putAll=function(e){for(var t in e._map)this._map[t]=e._map[t];return this},t.containsKey=function(e){return this._map.hasOwnProperty(e.name())&&void 0!==this.get(e)},t.get=function(e){return this._map[e.name()]},t.put=function(e,t){return this.set(e,t)},t.set=function(e,t){return this._map[e.name()]=t,this},t.retainAll=function(e){for(var t={},r=0;r<e.length;r++){var n=e[r].name();t[n]=this._map[n]}return this._map=t,this},t.remove=function(e){var t=e.name(),r=this._map[t];return this._map[t]=void 0,r},t.keySet=function(){return this._map},t.clear=function(){this._map={}},e}(),V=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t}(A);V.STRICT=new V("STRICT"),V.SMART=new V("SMART"),V.LENIENT=new V("LENIENT");var $=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.isSupported=function(e){T("isSupported")},r.minus=function(e,t){return arguments.length<2?this._minusAmount(e):this._minusUnit(e,t)},r._minusAmount=function(e){return v(e,"amount"),b(e,C,"amount"),e.subtractFrom(this)},r._minusUnit=function(e,t){return v(e,"amountToSubtract"),v(t,"unit"),b(t,O,"unit"),this._plusUnit(-e,t)},r.plus=function(e,t){return arguments.length<2?this._plusAmount(e):this._plusUnit(e,t)},r._plusAmount=function(e){return v(e,"amount"),b(e,C,"amount"),e.addTo(this)},r._plusUnit=function(e,t){T("_plusUnit")},r.until=function(e,t){T("until")},r.with=function(e,t){return arguments.length<2?this._withAdjuster(e):this._withField(e,t)},r._withAdjuster=function(e){return v(e,"adjuster"),E("function"==typeof e.adjustInto,"adjuster must be a TemporalAdjuster",f),e.adjustInto(this)},r._withField=function(e,t){T("_withField")},t}(L);"undefined"!=typeof Symbol&&Symbol.toPrimitive&&($.prototype[Symbol.toPrimitive]=function(e){if("number"!==e)return this.toString();throw TypeError("A conversion from Temporal to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});var z=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.isSupported=function(e){return e instanceof M?e.isDateBased():e instanceof R?e.isDateBased():null!=e&&e.isSupportedBy(this)},r.query=function(t){return t===k.chronology()?this.chronology():t===k.precision()?R.DAYS:t===k.localDate()?e2.ofEpochDay(this.toEpochDay()):t===k.localTime()||t===k.zone()||t===k.zoneId()||t===k.offset()?null:e.prototype.query.call(this,t)},r.adjustInto=function(e){return e.with(M.EPOCH_DAY,this.toEpochDay())},r.format=function(e){return v(e,"formatter"),b(e,eH,"formatter"),e.format(this)},t}($),W=function(){function e(){}return e.startsWith=function(e,t){return 0===e.indexOf(t)},e.hashCode=function(e){var t=e.length;if(0===t)return 0;for(var r=0,n=0;n<t;n++)r=(r<<5)-r+e.charCodeAt(n)|0;return S.smi(r)},e}(),G=function(){function e(){}e.systemDefault=function(){throw new c("not supported operation")},e.getAvailableZoneIds=function(){throw new c("not supported operation")},e.of=function(e){throw new c("not supported operation"+e)},e.ofOffset=function(e,t){throw new c("not supported operation"+e+t)},e.from=function(e){throw new c("not supported operation"+e)};var t=e.prototype;return t.id=function(){T("ZoneId.id")},t.rules=function(){T("ZoneId.rules")},t.normalized=function(){var e=this.rules();return e.isFixedOffset()?e.offset(e6.EPOCH):this},t.equals=function(t){return this===t||t instanceof e&&this.id()===t.id()},t.hashCode=function(){return W.hashCode(this.id())},t.toString=function(){return this.id()},t.toJSON=function(){return this.toString()},e}(),K=function(){function e(){}e.of=function(e){return v(e,"offset"),new Z(e)};var t=e.prototype;return t.isFixedOffset=function(){T("ZoneRules.isFixedOffset")},t.offset=function(e){return e instanceof e6?this.offsetOfInstant(e):this.offsetOfLocalDateTime(e)},t.offsetOfInstant=function(e){T("ZoneRules.offsetInstant")},t.offsetOfEpochMilli=function(e){T("ZoneRules.offsetOfEpochMilli")},t.offsetOfLocalDateTime=function(e){T("ZoneRules.offsetLocalDateTime")},t.validOffsets=function(e){T("ZoneRules.validOffsets")},t.transition=function(e){T("ZoneRules.transition")},t.standardOffset=function(e){T("ZoneRules.standardOffset")},t.daylightSavings=function(e){T("ZoneRules.daylightSavings")},t.isDaylightSavings=function(e){T("ZoneRules.isDaylightSavings")},t.isValidOffset=function(e,t){T("ZoneRules.isValidOffset")},t.nextTransition=function(e){T("ZoneRules.nextTransition")},t.previousTransition=function(e){T("ZoneRules.previousTransition")},t.transitions=function(){T("ZoneRules.transitions")},t.transitionRules=function(){T("ZoneRules.transitionRules")},t.toString=function(){T("ZoneRules.toString")},t.toJSON=function(){return this.toString()},e}(),Z=function(e){function t(t){var r;return(r=e.call(this)||this)._offset=t,r}g(t,e);var r=t.prototype;return r.isFixedOffset=function(){return!0},r.offsetOfInstant=function(){return this._offset},r.offsetOfEpochMilli=function(){return this._offset},r.offsetOfLocalDateTime=function(){return this._offset},r.validOffsets=function(){return[this._offset]},r.transition=function(){return null},r.standardOffset=function(){return this._offset},r.daylightSavings=function(){return I.ZERO},r.isDaylightSavings=function(){return!1},r.isValidOffset=function(e,t){return this._offset.equals(t)},r.nextTransition=function(){return null},r.previousTransition=function(){return null},r.transitions=function(){return[]},r.transitionRules=function(){return[]},r.equals=function(e){return this===e||e instanceof t&&this._offset.equals(e._offset)},r.toString=function(){return"FixedRules:"+this._offset.toString()},t}(K),X={},Q={},J=function(e){function t(r){var n;return n=e.call(this)||this,t._validateTotalSeconds(r),n._totalSeconds=S.safeToInt(r),n._rules=K.of(_(n)),n._id=t._buildId(r),n}g(t,e);var r=t.prototype;return r.totalSeconds=function(){return this._totalSeconds},r.id=function(){return this._id},t._buildId=function(e){if(0===e)return"Z";var t=Math.abs(e),r=S.intDiv(t,e4.SECONDS_PER_HOUR),n=S.intMod(S.intDiv(t,e4.SECONDS_PER_MINUTE),e4.MINUTES_PER_HOUR),i=(e<0?"-":"+")+(r<10?"0":"")+r+(n<10?":0":":")+n,o=S.intMod(t,e4.SECONDS_PER_MINUTE);return 0!==o&&(i+=(o<10?":0":":")+o),i},t._validateTotalSeconds=function(e){if(Math.abs(e)>t.MAX_SECONDS)throw new c("Zone offset not in valid range: -18:00 to +18:00")},t._validate=function(e,t,r){if(e<-18||e>18)throw new c("Zone offset hours not in valid range: value "+e+" is not in the range -18 to 18");if(e>0){if(t<0||r<0)throw new c("Zone offset minutes and seconds must be positive because hours is positive")}else if(e<0){if(t>0||r>0)throw new c("Zone offset minutes and seconds must be negative because hours is negative")}else if(t>0&&r<0||t<0&&r>0)throw new c("Zone offset minutes and seconds must have the same sign");if(Math.abs(t)>59)throw new c("Zone offset minutes not in valid range: abs(value) "+Math.abs(t)+" is not in the range 0 to 59");if(Math.abs(r)>59)throw new c("Zone offset seconds not in valid range: abs(value) "+Math.abs(r)+" is not in the range 0 to 59");if(18===Math.abs(e)&&(Math.abs(t)>0||Math.abs(r)>0))throw new c("Zone offset not in valid range: -18:00 to +18:00")},t.of=function(e){v(e,"offsetId");var r,n,i,o=Q[e];if(null!=o)return o;switch(e.length){case 2:e=e[0]+"0"+e[1];case 3:r=t._parseNumber(e,1,!1),n=0,i=0;break;case 5:r=t._parseNumber(e,1,!1),n=t._parseNumber(e,3,!1),i=0;break;case 6:r=t._parseNumber(e,1,!1),n=t._parseNumber(e,4,!0),i=0;break;case 7:r=t._parseNumber(e,1,!1),n=t._parseNumber(e,3,!1),i=t._parseNumber(e,5,!1);break;case 9:r=t._parseNumber(e,1,!1),n=t._parseNumber(e,4,!0),i=t._parseNumber(e,7,!0);break;default:throw new c("Invalid ID for ZoneOffset, invalid format: "+e)}var s=e[0];if("+"!==s&&"-"!==s)throw new c("Invalid ID for ZoneOffset, plus/minus not found when expected: "+e);return"-"===s?t.ofHoursMinutesSeconds(-r,-n,-i):t.ofHoursMinutesSeconds(r,n,i)},t._parseNumber=function(e,t,r){if(r&&":"!==e[t-1])throw new c("Invalid ID for ZoneOffset, colon not found when expected: "+e);var n=e[t],i=e[t+1];if(n<"0"||n>"9"||i<"0"||i>"9")throw new c("Invalid ID for ZoneOffset, non numeric characters found: "+e);return(n.charCodeAt(0)-48)*10+(i.charCodeAt(0)-48)},t.ofHours=function(e){return t.ofHoursMinutesSeconds(e,0,0)},t.ofHoursMinutes=function(e,r){return t.ofHoursMinutesSeconds(e,r,0)},t.ofHoursMinutesSeconds=function(e,r,n){t._validate(e,r,n);var i=e*e4.SECONDS_PER_HOUR+r*e4.SECONDS_PER_MINUTE+n;return t.ofTotalSeconds(i)},t.ofTotalMinutes=function(e){var r=e*e4.SECONDS_PER_MINUTE;return t.ofTotalSeconds(r)},t.ofTotalSeconds=function(e){if(e%(15*e4.SECONDS_PER_MINUTE)!=0)return new t(e);var r=X[e];return null==r&&(r=new t(e),X[e]=r,Q[r.id()]=r),r},r.rules=function(){return this._rules},r.get=function(e){return this.getLong(e)},r.getLong=function(e){if(e===M.OFFSET_SECONDS)return this._totalSeconds;if(e instanceof M)throw new c("Unsupported field: "+e);return e.getFrom(this)},r.query=function(e){return(v(e,"query"),e===k.offset()||e===k.zone())?this:e===k.localDate()||e===k.localTime()||e===k.precision()||e===k.chronology()||e===k.zoneId()?null:e.queryFrom(this)},r.adjustInto=function(e){return e.with(M.OFFSET_SECONDS,this._totalSeconds)},r.compareTo=function(e){return v(e,"other"),e._totalSeconds-this._totalSeconds},r.equals=function(e){return this===e||e instanceof t&&this._totalSeconds===e._totalSeconds},r.hashCode=function(){return this._totalSeconds},r.toString=function(){return this._id},t}(G),ee=function(e){function t(){var t;return(t=e.call(this)||this).fieldValues=new Y,t.chrono=null,t.zone=null,t.date=null,t.time=null,t.leapSecond=!1,t.excessDays=null,t}g(t,e),t.create=function(e,r){var n=new t;return n._addFieldValue(e,r),n};var r=t.prototype;return r.getFieldValue0=function(e){return this.fieldValues.get(e)},r._addFieldValue=function(e,t){v(e,"field");var r=this.getFieldValue0(e);if(null!=r&&r!==t)throw new c("Conflict found: "+e+" "+r+" differs from "+e+" "+t+": "+this);return this._putFieldValue0(e,t)},r._putFieldValue0=function(e,t){return this.fieldValues.put(e,t),this},r.resolve=function(e,t){return null!=t&&this.fieldValues.retainAll(t),this._mergeDate(e),this._mergeTime(e),this._resolveTimeInferZeroes(e),null!=this.excessDays&&!1===this.excessDays.isZero()&&null!=this.date&&null!=this.time&&(this.date=this.date.plus(this.excessDays),this.excessDays=q.ZERO),this._resolveInstant(),this},r._mergeDate=function(e){this._checkDate(eX.INSTANCE.resolveDate(this.fieldValues,e))},r._checkDate=function(e){if(null!=e)for(var t in this._addObject(e),this.fieldValues.keySet()){var r=M.byName(t);if(r&&void 0!==this.fieldValues.get(r)&&r.isDateBased()){var n=void 0;try{n=e.getLong(r)}catch(e){if(e instanceof c)continue;throw e}var i=this.fieldValues.get(r);if(n!==i)throw new c("Conflict found: Field "+r+" "+n+" differs from "+r+" "+i+" derived from "+e)}}},r._mergeTime=function(e){if(this.fieldValues.containsKey(M.CLOCK_HOUR_OF_DAY)){var t=this.fieldValues.remove(M.CLOCK_HOUR_OF_DAY);e!==V.LENIENT&&(e===V.SMART&&0===t||M.CLOCK_HOUR_OF_DAY.checkValidValue(t)),this._addFieldValue(M.HOUR_OF_DAY,24===t?0:t)}if(this.fieldValues.containsKey(M.CLOCK_HOUR_OF_AMPM)){var r=this.fieldValues.remove(M.CLOCK_HOUR_OF_AMPM);e!==V.LENIENT&&(e===V.SMART&&0===r||M.CLOCK_HOUR_OF_AMPM.checkValidValue(r)),this._addFieldValue(M.HOUR_OF_AMPM,12===r?0:r)}if(e!==V.LENIENT&&(this.fieldValues.containsKey(M.AMPM_OF_DAY)&&M.AMPM_OF_DAY.checkValidValue(this.fieldValues.get(M.AMPM_OF_DAY)),this.fieldValues.containsKey(M.HOUR_OF_AMPM)&&M.HOUR_OF_AMPM.checkValidValue(this.fieldValues.get(M.HOUR_OF_AMPM))),this.fieldValues.containsKey(M.AMPM_OF_DAY)&&this.fieldValues.containsKey(M.HOUR_OF_AMPM)){var n=this.fieldValues.remove(M.AMPM_OF_DAY),i=this.fieldValues.remove(M.HOUR_OF_AMPM);this._addFieldValue(M.HOUR_OF_DAY,12*n+i)}if(this.fieldValues.containsKey(M.NANO_OF_DAY)){var o=this.fieldValues.remove(M.NANO_OF_DAY);e!==V.LENIENT&&M.NANO_OF_DAY.checkValidValue(o),this._addFieldValue(M.SECOND_OF_DAY,S.intDiv(o,1e9)),this._addFieldValue(M.NANO_OF_SECOND,S.intMod(o,1e9))}if(this.fieldValues.containsKey(M.MICRO_OF_DAY)){var s=this.fieldValues.remove(M.MICRO_OF_DAY);e!==V.LENIENT&&M.MICRO_OF_DAY.checkValidValue(s),this._addFieldValue(M.SECOND_OF_DAY,S.intDiv(s,1e6)),this._addFieldValue(M.MICRO_OF_SECOND,S.intMod(s,1e6))}if(this.fieldValues.containsKey(M.MILLI_OF_DAY)){var a=this.fieldValues.remove(M.MILLI_OF_DAY);e!==V.LENIENT&&M.MILLI_OF_DAY.checkValidValue(a),this._addFieldValue(M.SECOND_OF_DAY,S.intDiv(a,1e3)),this._addFieldValue(M.MILLI_OF_SECOND,S.intMod(a,1e3))}if(this.fieldValues.containsKey(M.SECOND_OF_DAY)){var l=this.fieldValues.remove(M.SECOND_OF_DAY);e!==V.LENIENT&&M.SECOND_OF_DAY.checkValidValue(l),this._addFieldValue(M.HOUR_OF_DAY,S.intDiv(l,3600)),this._addFieldValue(M.MINUTE_OF_HOUR,S.intMod(S.intDiv(l,60),60)),this._addFieldValue(M.SECOND_OF_MINUTE,S.intMod(l,60))}if(this.fieldValues.containsKey(M.MINUTE_OF_DAY)){var c=this.fieldValues.remove(M.MINUTE_OF_DAY);e!==V.LENIENT&&M.MINUTE_OF_DAY.checkValidValue(c),this._addFieldValue(M.HOUR_OF_DAY,S.intDiv(c,60)),this._addFieldValue(M.MINUTE_OF_HOUR,S.intMod(c,60))}if(e!==V.LENIENT&&(this.fieldValues.containsKey(M.MILLI_OF_SECOND)&&M.MILLI_OF_SECOND.checkValidValue(this.fieldValues.get(M.MILLI_OF_SECOND)),this.fieldValues.containsKey(M.MICRO_OF_SECOND)&&M.MICRO_OF_SECOND.checkValidValue(this.fieldValues.get(M.MICRO_OF_SECOND))),this.fieldValues.containsKey(M.MILLI_OF_SECOND)&&this.fieldValues.containsKey(M.MICRO_OF_SECOND)){var u=this.fieldValues.remove(M.MILLI_OF_SECOND),d=this.fieldValues.get(M.MICRO_OF_SECOND);this._putFieldValue0(M.MICRO_OF_SECOND,1e3*u+S.intMod(d,1e3))}if(this.fieldValues.containsKey(M.MICRO_OF_SECOND)&&this.fieldValues.containsKey(M.NANO_OF_SECOND)){var h=this.fieldValues.get(M.NANO_OF_SECOND);this._putFieldValue0(M.MICRO_OF_SECOND,S.intDiv(h,1e3)),this.fieldValues.remove(M.MICRO_OF_SECOND)}if(this.fieldValues.containsKey(M.MILLI_OF_SECOND)&&this.fieldValues.containsKey(M.NANO_OF_SECOND)){var f=this.fieldValues.get(M.NANO_OF_SECOND);this._putFieldValue0(M.MILLI_OF_SECOND,S.intDiv(f,1e6)),this.fieldValues.remove(M.MILLI_OF_SECOND)}if(this.fieldValues.containsKey(M.MICRO_OF_SECOND)){var p=this.fieldValues.remove(M.MICRO_OF_SECOND);this._putFieldValue0(M.NANO_OF_SECOND,1e3*p)}else if(this.fieldValues.containsKey(M.MILLI_OF_SECOND)){var m=this.fieldValues.remove(M.MILLI_OF_SECOND);this._putFieldValue0(M.NANO_OF_SECOND,1e6*m)}},r._resolveTimeInferZeroes=function(e){var t=this.fieldValues.get(M.HOUR_OF_DAY),r=this.fieldValues.get(M.MINUTE_OF_HOUR),n=this.fieldValues.get(M.SECOND_OF_MINUTE),i=this.fieldValues.get(M.NANO_OF_SECOND);if(null!=t&&(null!=r||null==n&&null==i)&&(null==r||null!=n||null==i)){if(e!==V.LENIENT){if(null!=t){e===V.SMART&&24===t&&(null==r||0===r)&&(null==n||0===n)&&(null==i||0===i)&&(t=0,this.excessDays=q.ofDays(1));var o=M.HOUR_OF_DAY.checkValidIntValue(t);if(null!=r){var s=M.MINUTE_OF_HOUR.checkValidIntValue(r);if(null!=n){var a=M.SECOND_OF_MINUTE.checkValidIntValue(n);if(null!=i){var l=M.NANO_OF_SECOND.checkValidIntValue(i);this._addObject(e4.of(o,s,a,l))}else this._addObject(e4.of(o,s,a))}else null==i&&this._addObject(e4.of(o,s))}else null==n&&null==i&&this._addObject(e4.of(o,0))}}else if(null!=t){var c=t;if(null!=r){if(null!=n){null==i&&(i=0);var u=S.safeMultiply(c,36e11);u=S.safeAdd(u,S.safeMultiply(r,6e10)),u=S.safeAdd(u,S.safeMultiply(n,1e9)),u=S.safeAdd(u,i);var d=S.floorDiv(u,864e11),h=S.floorMod(u,864e11);this._addObject(e4.ofNanoOfDay(h)),this.excessDays=q.ofDays(d)}else{var f=S.safeMultiply(c,3600);f=S.safeAdd(f,S.safeMultiply(r,60));var p=S.floorDiv(f,86400),m=S.floorMod(f,86400);this._addObject(e4.ofSecondOfDay(m)),this.excessDays=q.ofDays(p)}}else{var g=S.safeToInt(S.floorDiv(c,24));c=S.floorMod(c,24),this._addObject(e4.of(c,0)),this.excessDays=q.ofDays(g)}}this.fieldValues.remove(M.HOUR_OF_DAY),this.fieldValues.remove(M.MINUTE_OF_HOUR),this.fieldValues.remove(M.SECOND_OF_MINUTE),this.fieldValues.remove(M.NANO_OF_SECOND)}},r._addObject=function(e){e instanceof z?this.date=e:e instanceof e4&&(this.time=e)},r._resolveInstant=function(){if(null!=this.date&&null!=this.time){var e=this.fieldValues.get(M.OFFSET_SECONDS);if(null!=e){var t=J.ofTotalSeconds(e),r=this.date.atTime(this.time).atZone(t).getLong(M.INSTANT_SECONDS);this.fieldValues.put(M.INSTANT_SECONDS,r)}else if(null!=this.zone){var n=this.date.atTime(this.time).atZone(this.zone).getLong(M.INSTANT_SECONDS);this.fieldValues.put(M.INSTANT_SECONDS,n)}}},r.build=function(e){return e.queryFrom(this)},r.isSupported=function(e){return null!=e&&(this.fieldValues.containsKey(e)&&void 0!==this.fieldValues.get(e)||null!=this.date&&this.date.isSupported(e)||null!=this.time&&this.time.isSupported(e))},r.getLong=function(e){v(e,"field");var t=this.getFieldValue0(e);if(null==t){if(null!=this.date&&this.date.isSupported(e))return this.date.getLong(e);if(null!=this.time&&this.time.isSupported(e))return this.time.getLong(e);throw new c("Field not found: "+e)}return t},r.query=function(e){if(e===k.zoneId())return this.zone;if(e===k.chronology())return this.chrono;if(e===k.localDate())return null!=this.date?e2.from(this.date):null;if(e===k.localTime())return this.time;if(e===k.zone()||e===k.offset());else if(e===k.precision())return null;return e.queryFrom(this)},t}(L),et=function(){function e(){if(1==arguments.length){if(arguments[0]instanceof e){this._constructorSelf.apply(this,arguments);return}this._constructorFormatter.apply(this,arguments)}else this._constructorParam.apply(this,arguments);this._caseSensitive=!0,this._strict=!0,this._parsed=[new er(this)]}var t=e.prototype;return t._constructorParam=function(e,t,r){this._locale=e,this._symbols=t,this._overrideChronology=r},t._constructorFormatter=function(e){this._locale=e.locale(),this._symbols=e.decimalStyle(),this._overrideChronology=e.chronology()},t._constructorSelf=function(e){this._locale=e._locale,this._symbols=e._symbols,this._overrideChronology=e._overrideChronology,this._overrideZone=e._overrideZone,this._caseSensitive=e._caseSensitive,this._strict=e._strict,this._parsed=[new er(this)]},t.copy=function(){return new e(this)},t.symbols=function(){return this._symbols},t.isStrict=function(){return this._strict},t.setStrict=function(e){this._strict=e},t.locale=function(){return this._locale},t.setLocale=function(e){this._locale=e},t.startOptional=function(){this._parsed.push(this.currentParsed().copy())},t.endOptional=function(e){e?this._parsed.splice(this._parsed.length-2,1):this._parsed.splice(this._parsed.length-1,1)},t.isCaseSensitive=function(){return this._caseSensitive},t.setCaseSensitive=function(e){this._caseSensitive=e},t.subSequenceEquals=function(e,t,r,n,i){if(t+i>e.length||n+i>r.length)return!1;this.isCaseSensitive()||(e=e.toLowerCase(),r=r.toLowerCase());for(var o=0;o<i;o++)if(e[t+o]!==r[n+o])return!1;return!0},t.charEquals=function(e,t){return this.isCaseSensitive()?e===t:this.charEqualsIgnoreCase(e,t)},t.charEqualsIgnoreCase=function(e,t){return e===t||e.toLowerCase()===t.toLowerCase()},t.setParsedField=function(e,t,r,n){var i=this.currentParsed().fieldValues,o=i.get(e);return i.set(e,t),null!=o&&o!==t?~r:n},t.setParsedZone=function(e){v(e,"zone"),this.currentParsed().zone=e},t.getParsed=function(e){return this.currentParsed().fieldValues.get(e)},t.toParsed=function(){return this.currentParsed()},t.currentParsed=function(){return this._parsed[this._parsed.length-1]},t.setParsedLeapSecond=function(){this.currentParsed().leapSecond=!0},t.getEffectiveChronology=function(){var e=this.currentParsed().chrono;return null==e&&null==(e=this._overrideChronology)&&(e=eX.INSTANCE),e},e}(),er=function(e){function t(t){var r;return(r=e.call(this)||this).chrono=null,r.zone=null,r.fieldValues=new Y,r.leapSecond=!1,r.dateTimeParseContext=t,r}g(t,e);var r=t.prototype;return r.copy=function(){var e=new t;return e.chrono=this.chrono,e.zone=this.zone,e.fieldValues.putAll(this.fieldValues),e.leapSecond=this.leapSecond,e.dateTimeParseContext=this.dateTimeParseContext,e},r.toString=function(){return this.fieldValues+", "+this.chrono+", "+this.zone},r.isSupported=function(e){return this.fieldValues.containsKey(e)},r.get=function(e){var t=this.fieldValues.get(e);return E(null!=t),t},r.query=function(t){return t===k.chronology()?this.chrono:t===k.zoneId()||t===k.zone()?this.zone:e.prototype.query.call(this,t)},r.toBuilder=function(){var e=new ee;return e.fieldValues.putAll(this.fieldValues),e.chrono=this.dateTimeParseContext.getEffectiveChronology(),null!=this.zone?e.zone=this.zone:e.zone=this.overrideZone,e.leapSecond=this.leapSecond,e.excessDays=this.excessDays,e},t}($),en=function(){function e(t,r,n){2==arguments.length&&arguments[1]instanceof eH?(this._temporal=e.adjust(t,r),this._locale=r.locale(),this._symbols=r.decimalStyle()):(this._temporal=t,this._locale=r,this._symbols=n),this._optional=0}e.adjust=function(e,t){return e};var t=e.prototype;return t.symbols=function(){return this._symbols},t.startOptional=function(){this._optional++},t.endOptional=function(){this._optional--},t.getValueQuery=function(e){var t=this._temporal.query(e);if(null==t&&0===this._optional)throw new c("Unable to extract value: "+this._temporal);return t},t.getValue=function(e){try{return this._temporal.getLong(e)}catch(e){if(e instanceof c&&this._optional>0)return null;throw e}},t.temporal=function(){return this._temporal},t.locale=function(){return this._locale},t.setDateTime=function(e){this._temporal=e},t.setLocale=function(e){this._locale=e},e}(),ei={},eo=[0,90,181,273,0,91,182,274],es=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.isDateBased=function(){return!0},r.isTimeBased=function(){return!1},r._isIso=function(){return!0},t._getWeekRangeByLocalDate=function(e){var r=t._getWeekBasedYear(e);return D.of(1,t._getWeekRangeByYear(r))},t._getWeekRangeByYear=function(e){var t=e2.of(e,1,1);return t.dayOfWeek()===F.THURSDAY||t.dayOfWeek()===F.WEDNESDAY&&t.isLeapYear()?53:52},t._getWeek=function(e){var r=e.dayOfWeek().ordinal(),n=e.dayOfYear()-1,i=n+(3-r),o=S.intDiv(i,7),s=i-7*o-3;if(s<-3&&(s+=7),n<s)return t._getWeekRangeByLocalDate(e.withDayOfYear(180).minusYears(1)).maximum();var a=S.intDiv(n-s,7)+1;return 53===a&&!1===(-3===s||-2===s&&e.isLeapYear())&&(a=1),a},t._getWeekBasedYear=function(e){var t=e.year(),r=e.dayOfYear();if(r<=3)r-e.dayOfWeek().ordinal()<-2&&t--;else if(r>=363){var n=e.dayOfWeek().ordinal();(r=r-363-(e.isLeapYear()?1:0))-n>=0&&t++}return t},r.displayName=function(){return this.toString()},r.resolve=function(){return null},r.name=function(){return this.toString()},t}(P),ea=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.toString=function(){return"DayOfQuarter"},r.baseUnit=function(){return R.DAYS},r.rangeUnit=function(){return ey},r.range=function(){return D.of(1,90,92)},r.isSupportedBy=function(e){return e.isSupported(M.DAY_OF_YEAR)&&e.isSupported(M.MONTH_OF_YEAR)&&e.isSupported(M.YEAR)&&this._isIso(e)},r.rangeRefinedBy=function(e){if(!1===e.isSupported(this))throw new d("Unsupported field: DayOfQuarter");var t=e.getLong(ef);if(1===t){var r=e.getLong(M.YEAR);return eX.isLeapYear(r)?D.of(1,91):D.of(1,90)}return 2===t?D.of(1,91):3===t||4===t?D.of(1,92):this.range()},r.getFrom=function(e){if(!1===e.isSupported(this))throw new d("Unsupported field: DayOfQuarter");var t=e.get(M.DAY_OF_YEAR),r=e.get(M.MONTH_OF_YEAR),n=e.getLong(M.YEAR);return t-eo[S.intDiv(r-1,3)+(eX.isLeapYear(n)?4:0)]},r.adjustInto=function(e,t){var r=this.getFrom(e);return this.range().checkValidValue(t,this),e.with(M.DAY_OF_YEAR,e.getLong(M.DAY_OF_YEAR)+(t-r))},r.resolve=function(e,t,r){var n,i=e.get(M.YEAR),o=e.get(ef);if(null==i||null==o)return null;var s=M.YEAR.checkValidIntValue(i),a=e.get(eh);if(r===V.LENIENT)n=(n=(n=e2.of(s,1,1)).plusMonths(S.safeMultiply(S.safeSubtract(o,1),3))).plusDays(S.safeSubtract(a,1));else{var l=ef.range().checkValidIntValue(o,ef);if(r===V.STRICT){var c=92;1===l?c=eX.isLeapYear(s)?91:90:2===l&&(c=91),D.of(1,c).checkValidValue(a,this)}else this.range().checkValidValue(a,this);n=e2.of(s,(l-1)*3+1,1).plusDays(a-1)}return e.remove(this),e.remove(M.YEAR),e.remove(ef),n},t}(es),el=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.toString=function(){return"QuarterOfYear"},r.baseUnit=function(){return ey},r.rangeUnit=function(){return R.YEARS},r.range=function(){return D.of(1,4)},r.isSupportedBy=function(e){return e.isSupported(M.MONTH_OF_YEAR)&&this._isIso(e)},r.rangeRefinedBy=function(e){return this.range()},r.getFrom=function(e){if(!1===e.isSupported(this))throw new d("Unsupported field: QuarterOfYear");var t=e.getLong(M.MONTH_OF_YEAR);return S.intDiv(t+2,3)},r.adjustInto=function(e,t){var r=this.getFrom(e);return this.range().checkValidValue(t,this),e.with(M.MONTH_OF_YEAR,e.getLong(M.MONTH_OF_YEAR)+(t-r)*3)},t}(es),ec=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.toString=function(){return"WeekOfWeekBasedYear"},r.baseUnit=function(){return R.WEEKS},r.rangeUnit=function(){return eg},r.range=function(){return D.of(1,52,53)},r.isSupportedBy=function(e){return e.isSupported(M.EPOCH_DAY)&&this._isIso(e)},r.rangeRefinedBy=function(e){if(!1===e.isSupported(this))throw new d("Unsupported field: WeekOfWeekBasedYear");return es._getWeekRangeByLocalDate(e2.from(e))},r.getFrom=function(e){if(!1===e.isSupported(this))throw new d("Unsupported field: WeekOfWeekBasedYear");return es._getWeek(e2.from(e))},r.adjustInto=function(e,t){return this.range().checkValidValue(t,this),e.plus(S.safeSubtract(t,this.getFrom(e)),R.WEEKS)},r.resolve=function(e,t,r){var n,i=e.get(em),o=e.get(M.DAY_OF_WEEK);if(null==i||null==o)return null;var s=em.range().checkValidIntValue(i,em),a=e.get(ep);if(r===V.LENIENT){var l=o,c=0;l>7?(c=S.intDiv(l-1,7),l=S.intMod(l-1,7)+1):l<1&&(c=S.intDiv(l,7)-1,l=S.intMod(l,7)+7),n=e2.of(s,1,4).plusWeeks(a-1).plusWeeks(c).with(M.DAY_OF_WEEK,l)}else{var u=M.DAY_OF_WEEK.checkValidIntValue(o);if(r===V.STRICT){var d=e2.of(s,1,4);es._getWeekRangeByLocalDate(d).checkValidValue(a,this)}else this.range().checkValidValue(a,this);n=e2.of(s,1,4).plusWeeks(a-1).with(M.DAY_OF_WEEK,u)}return e.remove(this),e.remove(em),e.remove(M.DAY_OF_WEEK),n},r.displayName=function(){return"Week"},t}(es),eu=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.toString=function(){return"WeekBasedYear"},r.baseUnit=function(){return eg},r.rangeUnit=function(){return R.FOREVER},r.range=function(){return M.YEAR.range()},r.isSupportedBy=function(e){return e.isSupported(M.EPOCH_DAY)&&this._isIso(e)},r.rangeRefinedBy=function(e){return M.YEAR.range()},r.getFrom=function(e){if(!1===e.isSupported(this))throw new d("Unsupported field: WeekBasedYear");return es._getWeekBasedYear(e2.from(e))},r.adjustInto=function(e,t){if(!1===this.isSupportedBy(e))throw new d("Unsupported field: WeekBasedYear");var r=this.range().checkValidIntValue(t,em),n=e2.from(e),i=n.get(M.DAY_OF_WEEK),o=es._getWeek(n);53===o&&52===es._getWeekRangeByYear(r)&&(o=52);var s=e2.of(r,1,4),a=i-s.get(M.DAY_OF_WEEK)+(o-1)*7;return s=s.plusDays(a),e.with(s)},t}(es),ed=function(e){function t(t,r){var n;return(n=e.call(this)||this)._name=t,n._duration=r,n}g(t,e);var r=t.prototype;return r.duration=function(){return this._duration},r.isDurationEstimated=function(){return!0},r.isDateBased=function(){return!0},r.isTimeBased=function(){return!1},r.isSupportedBy=function(e){return e.isSupported(M.EPOCH_DAY)},r.addTo=function(e,t){switch(this){case eg:var r=S.safeAdd(e.get(em),t);return e.with(em,r);case ey:return e.plus(S.intDiv(t,256),R.YEARS).plus(3*S.intMod(t,256),R.MONTHS);default:throw new p("Unreachable")}},r.between=function(e,t){switch(this){case eg:return S.safeSubtract(t.getLong(em),e.getLong(em));case ey:return S.intDiv(e.until(t,R.MONTHS),3);default:throw new p("Unreachable")}},r.toString=function(){return this._name},t}(O),eh=null,ef=null,ep=null,em=null,eg=null,ey=null,e_=function(){function e(e,t,r,n){this._zeroDigit=e,this._zeroDigitCharCode=e.charCodeAt(0),this._positiveSign=t,this._negativeSign=r,this._decimalSeparator=n}var t=e.prototype;return t.positiveSign=function(){return this._positiveSign},t.withPositiveSign=function(t){return t===this._positiveSign?this:new e(this._zeroDigit,t,this._negativeSign,this._decimalSeparator)},t.negativeSign=function(){return this._negativeSign},t.withNegativeSign=function(t){return t===this._negativeSign?this:new e(this._zeroDigit,this._positiveSign,t,this._decimalSeparator)},t.zeroDigit=function(){return this._zeroDigit},t.withZeroDigit=function(t){return t===this._zeroDigit?this:new e(t,this._positiveSign,this._negativeSign,this._decimalSeparator)},t.decimalSeparator=function(){return this._decimalSeparator},t.withDecimalSeparator=function(t){return t===this._decimalSeparator?this:new e(this._zeroDigit,this._positiveSign,this._negativeSign,t)},t.convertToDigit=function(e){var t=e.charCodeAt(0)-this._zeroDigitCharCode;return t>=0&&t<=9?t:-1},t.convertNumberToI18N=function(e){if("0"===this._zeroDigit)return e;for(var t=this._zeroDigitCharCode-48,r="",n=0;n<e.length;n++)r+=String.fromCharCode(e.charCodeAt(n)+t);return r},t.equals=function(t){return this===t||t instanceof e&&this._zeroDigit===t._zeroDigit&&this._positiveSign===t._positiveSign&&this._negativeSign===t._negativeSign&&this._decimalSeparator===t._decimalSeparator},t.hashCode=function(){return this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator},t.toString=function(){return"DecimalStyle["+this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator+"]"},e.of=function(){throw Error("not yet supported")},e.availableLocales=function(){throw Error("not yet supported")},e}();e_.STANDARD=new e_("0","+","-",".");var eE=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.parse=function(e,r,n){switch(this){case t.NORMAL:return!e||!r;case t.ALWAYS:case t.EXCEEDS_PAD:return!0;default:return!r&&!n}},t}(A);eE.NORMAL=new eE("NORMAL"),eE.NEVER=new eE("NEVER"),eE.ALWAYS=new eE("ALWAYS"),eE.EXCEEDS_PAD=new eE("EXCEEDS_PAD"),eE.NOT_NEGATIVE=new eE("NOT_NEGATIVE");var ev=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.isStandalone=function(){switch(this){case t.FULL_STANDALONE:case t.SHORT_STANDALONE:case t.NARROW_STANDALONE:return!0;default:return!1}},r.asStandalone=function(){switch(this){case t.FULL:return t.FULL_STANDALONE;case t.SHORT:return t.SHORT_STANDALONE;case t.NARROW:return t.NARROW_STANDALONE;default:return this}},r.asNormal=function(){switch(this){case t.FULL_STANDALONE:return t.FULL;case t.SHORT_STANDALONE:return t.SHORT;case t.NARROW_STANDALONE:return t.NARROW;default:return this}},t}(A);ev.FULL=new ev("FULL"),ev.FULL_STANDALONE=new ev("FULL_STANDALONE"),ev.SHORT=new ev("SHORT"),ev.SHORT_STANDALONE=new ev("SHORT_STANDALONE"),ev.NARROW=new ev("NARROW"),ev.NARROW_STANDALONE=new ev("NARROW_STANDALONE");var eb=function(){function e(e){if(e.length>1)throw new f('invalid literal, too long: "'+e+'"');this._literal=e}var t=e.prototype;return t.print=function(e,t){return t.append(this._literal),!0},t.parse=function(e,t,r){if(r===t.length)return~r;var n=t.charAt(r);return!1===e.charEquals(this._literal,n)?~r:r+this._literal.length},t.toString=function(){return"'"===this._literal?"''":"'"+this._literal+"'"},e}(),eT=function(){function e(e,t){this._printerParsers=e,this._optional=t}var t=e.prototype;return t.withOptional=function(t){return t===this._optional?this:new e(this._printerParsers,t)},t.print=function(e,t){var r=t.length();this._optional&&e.startOptional();try{for(var n=0;n<this._printerParsers.length;n++){var i=this._printerParsers[n];if(!1===i.print(e,t))return t.setLength(r),!0}}finally{this._optional&&e.endOptional()}return!0},t.parse=function(e,t,r){if(this._optional){e.startOptional();for(var n=r,i=0;i<this._printerParsers.length;i++)if((n=this._printerParsers[i].parse(e,t,n))<0)return e.endOptional(!1),r;return e.endOptional(!0),n}for(var o=0;o<this._printerParsers.length&&!((r=this._printerParsers[o].parse(e,t,r))<0);o++);return r},t.toString=function(){var e="";if(null!=this._printerParsers){e+=this._optional?"[":"(";for(var t=0;t<this._printerParsers.length;t++)e+=this._printerParsers[t].toString();e+=this._optional?"]":")"}return e},e}(),ew=function(){function e(e,t,r,n){if(v(e,"field"),!1===e.range().isFixed())throw new f("Field must have a fixed set of values: "+e);if(t<0||t>9)throw new f("Minimum width must be from 0 to 9 inclusive but was "+t);if(r<1||r>9)throw new f("Maximum width must be from 1 to 9 inclusive but was "+r);if(r<t)throw new f("Maximum width must exceed or equal the minimum width but "+r+" < "+t);this.field=e,this.minWidth=t,this.maxWidth=r,this.decimalPoint=n}var t=e.prototype;return t.print=function(e,t){var r=e.getValue(this.field);if(null===r)return!1;var n=e.symbols();if(0===r){if(this.minWidth>0){this.decimalPoint&&t.append(n.decimalSeparator());for(var i=0;i<this.minWidth;i++)t.append(n.zeroDigit())}}else{var o=this.convertToFraction(r,n.zeroDigit()),s=Math.min(Math.max(o.length,this.minWidth),this.maxWidth);if(1*(o=o.substr(0,s))>0)for(;o.length>this.minWidth&&"0"===o[o.length-1];)o=o.substr(0,o.length-1);var a=o;a=n.convertNumberToI18N(a),this.decimalPoint&&t.append(n.decimalSeparator()),t.append(a)}return!0},t.parse=function(e,t,r){var n=e.isStrict()?this.minWidth:0,i=e.isStrict()?this.maxWidth:9,o=t.length;if(r===o)return n>0?~r:r;if(this.decimalPoint){if(t[r]!==e.symbols().decimalSeparator())return n>0?~r:r;r++}var s=r+n;if(s>o)return~r;for(var a=Math.min(r+i,o),l=0,c=r;c<a;){var u=t.charAt(c++),d=e.symbols().convertToDigit(u);if(d<0){if(c<s)return~r;c--;break}l=10*l+d}var h=Math.pow(10,c-r),f=this.convertFromFraction(l,h);return e.setParsedField(this.field,f,r,c)},t.convertToFraction=function(e,t){var r=this.field.range();r.checkValidValue(e,this.field);for(var n=r.minimum(),i=r.maximum()-n+1,o=e-n,s=""+S.intDiv(1e9*o,i);s.length<9;)s=t+s;return s},t.convertFromFraction=function(e,t){var r=this.field.range(),n=r.minimum(),i=r.maximum()-n+1;return S.intDiv(e*i,t)},t.toString=function(){var e=this.decimalPoint?",DecimalPoint":"";return"Fraction("+this.field+","+this.minWidth+","+this.maxWidth+e+")"},e}(),eS=[0,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],eA=function(){function e(e,t,r,n,i){void 0===i&&(i=0),this._field=e,this._minWidth=t,this._maxWidth=r,this._signStyle=n,this._subsequentWidth=i}var t=e.prototype;return t.field=function(){return this._field},t.minWidth=function(){return this._minWidth},t.maxWidth=function(){return this._maxWidth},t.signStyle=function(){return this._signStyle},t.withFixedWidth=function(){return -1===this._subsequentWidth?this:new e(this._field,this._minWidth,this._maxWidth,this._signStyle,-1)},t.withSubsequentWidth=function(t){return new e(this._field,this._minWidth,this._maxWidth,this._signStyle,this._subsequentWidth+t)},t._isFixedWidth=function(){return -1===this._subsequentWidth||this._subsequentWidth>0&&this._minWidth===this._maxWidth&&this._signStyle===eE.NOT_NEGATIVE},t.print=function(e,t){var r=e.getValue(this._field);if(null==r)return!1;var n=this._getValue(e,r),i=e.symbols(),o=""+Math.abs(n);if(o.length>this._maxWidth)throw new c("Field "+this._field+" cannot be printed as the value "+n+" exceeds the maximum print width of "+this._maxWidth);if(o=i.convertNumberToI18N(o),n>=0)switch(this._signStyle){case eE.EXCEEDS_PAD:this._minWidth<15&&n>=eS[this._minWidth]&&t.append(i.positiveSign());break;case eE.ALWAYS:t.append(i.positiveSign())}else switch(this._signStyle){case eE.NORMAL:case eE.EXCEEDS_PAD:case eE.ALWAYS:t.append(i.negativeSign());break;case eE.NOT_NEGATIVE:throw new c("Field "+this._field+" cannot be printed as the value "+n+" cannot be negative according to the SignStyle")}for(var s=0;s<this._minWidth-o.length;s++)t.append(i.zeroDigit());return t.append(o),!0},t.parse=function(e,t,r){var n=t.length;if(r===n)return~r;E(r>=0&&r<n);var i=t.charAt(r),o=!1,s=!1;if(i===e.symbols().positiveSign()){if(!1===this._signStyle.parse(!0,e.isStrict(),this._minWidth===this._maxWidth))return~r;s=!0,r++}else if(i===e.symbols().negativeSign()){if(!1===this._signStyle.parse(!1,e.isStrict(),this._minWidth===this._maxWidth))return~r;o=!0,r++}else if(this._signStyle===eE.ALWAYS&&e.isStrict())return~r;var a=e.isStrict()||this._isFixedWidth()?this._minWidth:1,l=r+a;if(l>n)return~r;for(var c=(e.isStrict()||this._isFixedWidth()?this._maxWidth:9)+Math.max(this._subsequentWidth,0),u=0,d=r,f=0;f<2;f++){for(var p=Math.min(d+c,n);d<p;){var m=t.charAt(d++),g=e.symbols().convertToDigit(m);if(g<0){if(--d<l)return~r;break}if(d-r>15)throw new h("number text exceeds length");u=10*u+g}if(this._subsequentWidth>0&&0===f)c=Math.max(a,d-r-this._subsequentWidth),d=r,u=0;else break}if(o){if(0===u&&e.isStrict())return~(r-1);0!==u&&(u=-u)}else if(this._signStyle===eE.EXCEEDS_PAD&&e.isStrict()){var y=d-r;if(s){if(y<=this._minWidth)return~(r-1)}else if(y>this._minWidth)return~r}return this._setValue(e,u,r,d)},t._getValue=function(e,t){return t},t._setValue=function(e,t,r,n){return e.setParsedField(this._field,t,r,n)},t.toString=function(){return 1===this._minWidth&&15===this._maxWidth&&this._signStyle===eE.NORMAL?"Value("+this._field+")":this._minWidth===this._maxWidth&&this._signStyle===eE.NOT_NEGATIVE?"Value("+this._field+","+this._minWidth+")":"Value("+this._field+","+this._minWidth+","+this._maxWidth+","+this._signStyle+")"},e}(),eC=function(e){function t(t,r,n,i,o){var s;if(s=e.call(this,t,r,n,eE.NOT_NEGATIVE)||this,r<1||r>10)throw new f("The width must be from 1 to 10 inclusive but was "+r);if(n<1||n>10)throw new f("The maxWidth must be from 1 to 10 inclusive but was "+n);if(n<r)throw new f("The maxWidth must be greater than the width");if(null===o){if(!1===t.range().isValidValue(i))throw new f("The base value must be within the range of the field");if(i+eS[r]>S.MAX_SAFE_INTEGER)throw new c("Unable to add printer-parser as the range exceeds the capacity of an int")}return s._baseValue=i,s._baseDate=o,s}g(t,e);var r=t.prototype;return r._getValue=function(e,t){var r=Math.abs(t),n=this._baseValue;return(null!==this._baseDate&&(e.temporal(),n=eX.INSTANCE.date(this._baseDate).get(this._field)),t>=n&&t<n+eS[this._minWidth])?r%eS[this._minWidth]:r%eS[this._maxWidth]},r._setValue=function(e,t,r,n){var i=this._baseValue;if(null!=this._baseDate&&(i=e.getEffectiveChronology().date(this._baseDate).get(this._field)),n-r===this._minWidth&&t>=0){var o=eS[this._minWidth],s=i%o,a=i-s;(t=i>0?a+t:a-t)<i&&(t+=o)}return e.setParsedField(this._field,t,r,n)},r.withFixedWidth=function(){return -1===this._subsequentWidth?this:new t(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate)},r.withSubsequentWidth=function(e){return new t(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate,this._subsequentWidth+e)},r.isFixedWidth=function(t){return!1!==t.isStrict()&&e.prototype.isFixedWidth.call(this,t)},r.toString=function(){return"ReducedValue("+this._field+","+this._minWidth+","+this._maxWidth+","+(null!=this._baseDate?this._baseDate:this._baseValue)+")"},t}(eA),eO=["+HH","+HHmm","+HH:mm","+HHMM","+HH:MM","+HHMMss","+HH:MM:ss","+HHMMSS","+HH:MM:SS"],eI=function(){function e(e,t){v(e,"noOffsetText"),v(t,"pattern"),this.noOffsetText=e,this.type=this._checkPattern(t)}var t=e.prototype;return t._checkPattern=function(e){for(var t=0;t<eO.length;t++)if(eO[t]===e)return t;throw new f("Invalid zone offset pattern: "+e)},t.print=function(e,t){var r=e.getValue(M.OFFSET_SECONDS);if(null==r)return!1;var n=S.safeToInt(r);if(0===n)t.append(this.noOffsetText);else{var i=Math.abs(S.intMod(S.intDiv(n,3600),100)),o=Math.abs(S.intMod(S.intDiv(n,60),60)),s=Math.abs(S.intMod(n,60)),a=t.length(),l=i;t.append(n<0?"-":"+").appendChar(S.intDiv(i,10)+"0").appendChar(S.intMod(i,10)+"0"),(this.type>=3||this.type>=1&&o>0)&&(t.append(this.type%2==0?":":"").appendChar(S.intDiv(o,10)+"0").appendChar(o%10+"0"),l+=o,(this.type>=7||this.type>=5&&s>0)&&(t.append(this.type%2==0?":":"").appendChar(S.intDiv(s,10)+"0").appendChar(s%10+"0"),l+=s)),0===l&&(t.setLength(a),t.append(this.noOffsetText))}return!0},t.parse=function(e,t,r){var n=t.length,i=this.noOffsetText.length;if(0===i){if(r===n)return e.setParsedField(M.OFFSET_SECONDS,0,r,r)}else{if(r===n)return~r;if(e.subSequenceEquals(t,r,this.noOffsetText,0,i))return e.setParsedField(M.OFFSET_SECONDS,0,r,r+i)}var o=t[r];if("+"===o||"-"===o){var s=[0,0,0,0];if(s[0]=r+1,!1===(this._parseNumber(s,1,t,!0)||this._parseNumber(s,2,t,this.type>=3)||this._parseNumber(s,3,t,!1))){var a=S.safeZero(("-"===o?-1:1)*(3600*s[1]+60*s[2]+s[3]));return e.setParsedField(M.OFFSET_SECONDS,a,r,s[0])}}return 0===i?e.setParsedField(M.OFFSET_SECONDS,0,r,r+i):~r},t._parseNumber=function(e,t,r,n){if((this.type+3)/2<t)return!1;var i=e[0];if(this.type%2==0&&t>1){if(i+1>r.length||":"!==r[i])return n;i++}if(i+2>r.length)return n;var o=r[i++],s=r[i++];if(o<"0"||o>"9"||s<"0"||s>"9")return n;var a=(o.charCodeAt(0)-48)*10+(s.charCodeAt(0)-48);return a<0||a>59?n:(e[t]=a,e[0]=i,!1)},t.toString=function(){var e=this.noOffsetText.replace("'","''");return"Offset("+eO[this.type]+",'"+e+"')"},e}();eI.INSTANCE_ID=new eI("Z","+HH:MM:ss"),eI.PATTERNS=eO;var eN=function(){function e(e,t,r){this._printerParser=e,this._padWidth=t,this._padChar=r}var t=e.prototype;return t.print=function(e,t){var r=t.length();if(!1===this._printerParser.print(e,t))return!1;var n=t.length()-r;if(n>this._padWidth)throw new c("Cannot print as output of "+n+" characters exceeds pad width of "+this._padWidth);for(var i=0;i<this._padWidth-n;i++)t.insert(r,this._padChar);return!0},t.parse=function(e,t,r){var n=e.isStrict(),i=e.isCaseSensitive();if(E(!(r>t.length)),E(r>=0),r===t.length)return~r;var o=r+this._padWidth;if(o>t.length){if(n)return~r;o=t.length}for(var s=r;s<o&&(i?t[s]===this._padChar:e.charEquals(t[s],this._padChar));)s++;t=t.substring(0,o);var a=this._printerParser.parse(e,t,s);return a!==o&&n?~(r+s):a},t.toString=function(){return"Pad("+this._printerParser+","+this._padWidth+(" "===this._padChar?")":",'"+this._padChar+"')")},e}(),eR=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.print=function(){return!0},r.parse=function(e,r,n){switch(this){case t.SENSITIVE:e.setCaseSensitive(!0);break;case t.INSENSITIVE:e.setCaseSensitive(!1);break;case t.STRICT:e.setStrict(!0);break;case t.LENIENT:e.setStrict(!1)}return n},r.toString=function(){switch(this){case t.SENSITIVE:return"ParseCaseSensitive(true)";case t.INSENSITIVE:return"ParseCaseSensitive(false)";case t.STRICT:return"ParseStrict(true)";case t.LENIENT:return"ParseStrict(false)"}},t}(A);eR.SENSITIVE=new eR("SENSITIVE"),eR.INSENSITIVE=new eR("INSENSITIVE"),eR.STRICT=new eR("STRICT"),eR.LENIENT=new eR("LENIENT");var eP=function(){function e(e){this._literal=e}var t=e.prototype;return t.print=function(e,t){return t.append(this._literal),!0},t.parse=function(e,t,r){return(E(!(r>t.length||r<0)),!1===e.subSequenceEquals(t,r,this._literal,0,this._literal.length))?~r:r+this._literal.length},t.toString=function(){return"'"+this._literal.replace("'","''")+"'"},e}(),eD=function(){function e(){}return e.getRules=function(e){throw new c("unsupported ZoneId:"+e)},e.getAvailableZoneIds=function(){return[]},e}(),eM=function(e){function t(t,r){var n;return(n=e.call(this)||this)._id=t,n._rules=r,n}g(t,e),t.ofId=function(e){var r=eD.getRules(e);return new t(e,r)};var r=t.prototype;return r.id=function(){return this._id},r.rules=function(){return this._rules},t}(G),ek=function(){function e(e,t){this.query=e,this.description=t}var t=e.prototype;return t.print=function(e,t){var r=e.getValueQuery(this.query);return null!=r&&(t.append(r.id()),!0)},t.parse=function(e,t,r){var n=t.length;if(r>n||r===n)return~r;var i=t.charAt(r);if("+"===i||"-"===i){var o=e.copy(),s=eI.INSTANCE_ID.parse(o,t,r);if(s<0)return s;var a=o.getParsed(M.OFFSET_SECONDS),l=J.ofTotalSeconds(a);return e.setParsedZone(l),s}if(n>=r+2){var c=t.charAt(r+1);if(e.charEquals(i,"U")&&e.charEquals(c,"T"))return n>=r+3&&e.charEquals(t.charAt(r+2),"C")?this._parsePrefixedOffset(e,t,r,r+3):this._parsePrefixedOffset(e,t,r,r+2);if(e.charEquals(i,"G")&&n>=r+3&&e.charEquals(c,"M")&&e.charEquals(t.charAt(r+2),"T"))return this._parsePrefixedOffset(e,t,r,r+3)}if("SYSTEM"===t.substr(r,6))return e.setParsedZone(G.systemDefault()),r+6;if(e.charEquals(i,"Z"))return e.setParsedZone(J.UTC),r+1;var u=eD.getAvailableZoneIds();ex.size!==u.length&&(ex=eL.createTreeMap(u));for(var d=n-r,h=ex.treeMap,f=null,p=0;null!=h;){var m=t.substr(r,Math.min(h.length,d));null!=(h=h.get(m))&&h.isLeaf&&(f=m,p=h.length)}return null!=f?(e.setParsedZone(eM.ofId(f)),r+p):~r},t._parsePrefixedOffset=function(e,t,r,n){var i=t.substring(r,n).toUpperCase(),o=e.copy();if(n<t.length&&e.charEquals(t.charAt(n),"Z"))return e.setParsedZone(G.ofOffset(i,J.UTC)),n;var s=eI.INSTANCE_ID.parse(o,t,n);if(s<0)return e.setParsedZone(G.ofOffset(i,J.UTC)),n;var a=o.getParsed(M.OFFSET_SECONDS),l=J.ofTotalSeconds(a);return e.setParsedZone(G.ofOffset(i,l)),s},t.toString=function(){return this.description},e}(),eL=function(){function e(e,t){this.size=e,this.treeMap=t}return e.createTreeMap=function(t){for(var r=t.sort(function(e,t){return e.length-t.length}),n=new eU(r[0].length,!1),i=0;i<r.length;i++)n.add(r[i]);return new e(r.length,n)},e}(),eU=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=!1),this.length=e,this.isLeaf=t,this._treeMap={}}var t=e.prototype;return t.add=function(t){var r=t.length;if(r===this.length)this._treeMap[t]=new e(r,!0);else if(r>this.length){var n=t.substr(0,this.length),i=this._treeMap[n];null==i&&(i=new e(r,!1),this._treeMap[n]=i),i.add(t)}},t.get=function(e){return this._treeMap[e]},e}(),ex=new eL([]),eF=function(){function e(){this._active=this,this._parent=null,this._printerParsers=[],this._optional=!1,this._padNextWidth=0,this._padNextChar=null,this._valueParserIndex=-1}e._of=function(t,r){v(t,"parent"),v(r,"optional");var n=new e;return n._parent=t,n._optional=r,n};var t=e.prototype;return t.parseCaseSensitive=function(){return this._appendInternalPrinterParser(eR.SENSITIVE),this},t.parseCaseInsensitive=function(){return this._appendInternalPrinterParser(eR.INSENSITIVE),this},t.parseStrict=function(){return this._appendInternalPrinterParser(eR.STRICT),this},t.parseLenient=function(){return this._appendInternalPrinterParser(eR.LENIENT),this},t.parseDefaulting=function(e,t){return v(e),this._appendInternal(new ej(e,t)),this},t.appendValue=function(){return 1==arguments.length?this._appendValue1.apply(this,arguments):2==arguments.length?this._appendValue2.apply(this,arguments):this._appendValue4.apply(this,arguments)},t._appendValue1=function(e){return v(e),this._appendValuePrinterParser(new eA(e,1,15,eE.NORMAL)),this},t._appendValue2=function(e,t){if(v(e),t<1||t>15)throw new f("The width must be from 1 to 15 inclusive but was "+t);var r=new eA(e,t,t,eE.NOT_NEGATIVE);return this._appendValuePrinterParser(r),this},t._appendValue4=function(e,t,r,n){if(v(e),v(n),t===r&&n===eE.NOT_NEGATIVE)return this._appendValue2(e,r);if(t<1||t>15)throw new f("The minimum width must be from 1 to 15 inclusive but was "+t);if(r<1||r>15)throw new f("The minimum width must be from 1 to 15 inclusive but was "+r);if(r<t)throw new f("The maximum width must exceed or equal the minimum width but "+r+" < "+t);var i=new eA(e,t,r,n);return this._appendValuePrinterParser(i),this},t.appendValueReduced=function(){return 4==arguments.length&&arguments[3]instanceof z?this._appendValueReducedFieldWidthMaxWidthBaseDate.apply(this,arguments):this._appendValueReducedFieldWidthMaxWidthBaseValue.apply(this,arguments)},t._appendValueReducedFieldWidthMaxWidthBaseValue=function(e,t,r,n){v(e,"field");var i=new eC(e,t,r,n,null);return this._appendValuePrinterParser(i),this},t._appendValueReducedFieldWidthMaxWidthBaseDate=function(e,t,r,n){v(e,"field"),v(n,"baseDate"),b(n,z,"baseDate");var i=new eC(e,t,r,0,n);return this._appendValuePrinterParser(i),this},t._appendValuePrinterParser=function(e){if(E(null!=e),this._active._valueParserIndex>=0&&this._active._printerParsers[this._active._valueParserIndex]instanceof eA){var t=this._active._valueParserIndex,r=this._active._printerParsers[t];e.minWidth()===e.maxWidth()&&e.signStyle()===eE.NOT_NEGATIVE?(r=r.withSubsequentWidth(e.maxWidth()),this._appendInternal(e.withFixedWidth()),this._active._valueParserIndex=t):(r=r.withFixedWidth(),this._active._valueParserIndex=this._appendInternal(e)),this._active._printerParsers[t]=r}else this._active._valueParserIndex=this._appendInternal(e);return this},t.appendFraction=function(e,t,r,n){return this._appendInternal(new ew(e,t,r,n)),this},t.appendInstant=function(e){if(void 0===e&&(e=-2),e<-2||e>9)throw new f("Invalid fractional digits: "+e);return this._appendInternal(new eB(e)),this},t.appendOffsetId=function(){return this._appendInternal(eI.INSTANCE_ID),this},t.appendOffset=function(e,t){return this._appendInternalPrinterParser(new eI(t,e)),this},t.appendZoneId=function(){return this._appendInternal(new ek(k.zoneId(),"ZoneId()")),this},t.appendPattern=function(e){return v(e,"pattern"),this._parsePattern(e),this},t.appendZoneText=function(){throw new f("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},t.appendText=function(){throw new f("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},t.appendLocalizedOffset=function(){throw new f("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},t.appendWeekField=function(){throw new f("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},t._parsePattern=function(e){for(var t={G:M.ERA,y:M.YEAR_OF_ERA,u:M.YEAR,Q:ei.QUARTER_OF_YEAR,q:ei.QUARTER_OF_YEAR,M:M.MONTH_OF_YEAR,L:M.MONTH_OF_YEAR,D:M.DAY_OF_YEAR,d:M.DAY_OF_MONTH,F:M.ALIGNED_DAY_OF_WEEK_IN_MONTH,E:M.DAY_OF_WEEK,c:M.DAY_OF_WEEK,e:M.DAY_OF_WEEK,a:M.AMPM_OF_DAY,H:M.HOUR_OF_DAY,k:M.CLOCK_HOUR_OF_DAY,K:M.HOUR_OF_AMPM,h:M.CLOCK_HOUR_OF_AMPM,m:M.MINUTE_OF_HOUR,s:M.SECOND_OF_MINUTE,S:M.NANO_OF_SECOND,A:M.MILLI_OF_DAY,n:M.NANO_OF_SECOND,N:M.NANO_OF_DAY},r=0;r<e.length;r++){var n=e.charAt(r);if(n>="A"&&n<="Z"||n>="a"&&n<="z"){for(var i=r++;r<e.length&&e.charAt(r)===n;r++);var o=r-i;if("p"===n){var s=0;if(r<e.length&&((n=e.charAt(r))>="A"&&n<="Z"||n>="a"&&n<="z")){for(s=o,i=r++;r<e.length&&e.charAt(r)===n;r++);o=r-i}if(0===s)throw new f("Pad letter 'p' must be followed by valid pad pattern: "+e);this.padNext(s)}var a=t[n];if(null!=a)this._parseField(n,o,a);else if("z"===n){if(o>4)throw new f("Too many pattern letters: "+n);4===o?this.appendZoneText(ev.FULL):this.appendZoneText(ev.SHORT)}else if("V"===n){if(2!==o)throw new f("Pattern letter count must be 2: "+n);this.appendZoneId()}else if("Z"===n){if(o<4)this.appendOffset("+HHMM","+0000");else if(4===o)this.appendLocalizedOffset(ev.FULL);else if(5===o)this.appendOffset("+HH:MM:ss","Z");else throw new f("Too many pattern letters: "+n)}else if("O"===n){if(1===o)this.appendLocalizedOffset(ev.SHORT);else if(4===o)this.appendLocalizedOffset(ev.FULL);else throw new f("Pattern letter count must be 1 or 4: "+n)}else if("X"===n){if(o>5)throw new f("Too many pattern letters: "+n);this.appendOffset(eI.PATTERNS[o+(1===o?0:1)],"Z")}else if("x"===n){if(o>5)throw new f("Too many pattern letters: "+n);var l=1===o?"+00":o%2==0?"+0000":"+00:00";this.appendOffset(eI.PATTERNS[o+(1===o?0:1)],l)}else if("W"===n){if(o>1)throw new f("Too many pattern letters: "+n);this.appendWeekField("W",o)}else if("w"===n){if(o>2)throw new f("Too many pattern letters: "+n);this.appendWeekField("w",o)}else if("Y"===n)this.appendWeekField("Y",o);else throw new f("Unknown pattern letter: "+n);r--}else if("'"===n){for(var c=r++;r<e.length;r++)if("'"===e.charAt(r)){if(r+1<e.length&&"'"===e.charAt(r+1))r++;else break}if(r>=e.length)throw new f("Pattern ends with an incomplete string literal: "+e);var u=e.substring(c+1,r);0===u.length?this.appendLiteral("'"):this.appendLiteral(u.replace("''","'"))}else if("["===n)this.optionalStart();else if("]"===n){if(null===this._active._parent)throw new f("Pattern invalid as it contains ] without previous [");this.optionalEnd()}else if("{"===n||"}"===n||"#"===n)throw new f("Pattern includes reserved character: '"+n+"'");else this.appendLiteral(n)}},t._parseField=function(e,t,r){switch(e){case"u":case"y":2===t?this.appendValueReduced(r,2,2,eC.BASE_DATE):t<4?this.appendValue(r,t,15,eE.NORMAL):this.appendValue(r,t,15,eE.EXCEEDS_PAD);break;case"M":case"Q":switch(t){case 1:this.appendValue(r);break;case 2:this.appendValue(r,2);break;case 3:this.appendText(r,ev.SHORT);break;case 4:this.appendText(r,ev.FULL);break;case 5:this.appendText(r,ev.NARROW);break;default:throw new f("Too many pattern letters: "+e)}break;case"L":case"q":switch(t){case 1:this.appendValue(r);break;case 2:this.appendValue(r,2);break;case 3:this.appendText(r,ev.SHORT_STANDALONE);break;case 4:this.appendText(r,ev.FULL_STANDALONE);break;case 5:this.appendText(r,ev.NARROW_STANDALONE);break;default:throw new f("Too many pattern letters: "+e)}break;case"e":switch(t){case 1:case 2:this.appendWeekField("e",t);break;case 3:this.appendText(r,ev.SHORT);break;case 4:this.appendText(r,ev.FULL);break;case 5:this.appendText(r,ev.NARROW);break;default:throw new f("Too many pattern letters: "+e)}break;case"c":switch(t){case 1:this.appendWeekField("c",t);break;case 2:throw new f("Invalid number of pattern letters: "+e);case 3:this.appendText(r,ev.SHORT_STANDALONE);break;case 4:this.appendText(r,ev.FULL_STANDALONE);break;case 5:this.appendText(r,ev.NARROW_STANDALONE);break;default:throw new f("Too many pattern letters: "+e)}break;case"a":if(1===t)this.appendText(r,ev.SHORT);else throw new f("Too many pattern letters: "+e);break;case"E":case"G":switch(t){case 1:case 2:case 3:this.appendText(r,ev.SHORT);break;case 4:this.appendText(r,ev.FULL);break;case 5:this.appendText(r,ev.NARROW);break;default:throw new f("Too many pattern letters: "+e)}break;case"S":this.appendFraction(M.NANO_OF_SECOND,t,t,!1);break;case"F":if(1===t)this.appendValue(r);else throw new f("Too many pattern letters: "+e);break;case"d":case"h":case"H":case"k":case"K":case"m":case"s":if(1===t)this.appendValue(r);else if(2===t)this.appendValue(r,t);else throw new f("Too many pattern letters: "+e);break;case"D":if(1===t)this.appendValue(r);else if(t<=3)this.appendValue(r,t);else throw new f("Too many pattern letters: "+e);break;default:1===t?this.appendValue(r):this.appendValue(r,t)}},t.padNext=function(){return 1==arguments.length?this._padNext1.apply(this,arguments):this._padNext2.apply(this,arguments)},t._padNext1=function(e){return this._padNext2(e," ")},t._padNext2=function(e,t){if(e<1)throw new f("The pad width must be at least one but was "+e);return this._active._padNextWidth=e,this._active._padNextChar=t,this._active._valueParserIndex=-1,this},t.optionalStart=function(){return this._active._valueParserIndex=-1,this._active=e._of(this._active,!0),this},t.optionalEnd=function(){if(null==this._active._parent)throw new p("Cannot call optionalEnd() as there was no previous call to optionalStart()");if(this._active._printerParsers.length>0){var e=new eT(this._active._printerParsers,this._active._optional);this._active=this._active._parent,this._appendInternal(e)}else this._active=this._active._parent;return this},t._appendInternal=function(e){return E(null!=e),this._active._padNextWidth>0&&(null!=e&&(e=new eN(e,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(e),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},t.appendLiteral=function(e){return E(null!=e),e.length>0&&(1===e.length?this._appendInternalPrinterParser(new eb(e.charAt(0))):this._appendInternalPrinterParser(new eP(e))),this},t._appendInternalPrinterParser=function(e){return E(null!=e),this._active._padNextWidth>0&&(null!=e&&(e=new eN(e,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(e),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},t.append=function(e){return v(e,"formatter"),this._appendInternal(e._toPrinterParser(!1)),this},t.toFormatter=function(e){for(void 0===e&&(e=V.SMART);null!=this._active._parent;)this.optionalEnd();return new eH(new eT(this._printerParsers,!1),null,e_.STANDARD,e,null,null,null)},e}(),eB=function(){function e(e){this.fractionalDigits=e}var t=e.prototype;return t.print=function(e,t){var r=e.getValue(M.INSTANT_SECONDS),n=0;if(e.temporal().isSupported(M.NANO_OF_SECOND)&&(n=e.temporal().getLong(M.NANO_OF_SECOND)),null==r)return!1;var i=M.NANO_OF_SECOND.checkValidIntValue(n);if(r>=-0xe79747c00){var o=r-31556952e4+0xe79747c00,s=S.floorDiv(o,31556952e4)+1,a=S.floorMod(o,31556952e4),l=e5.ofEpochSecond(a-0xe79747c00,0,J.UTC);s>0&&t.append("+").append(s),t.append(l.toString()),0===l.second()&&t.append(":00")}else{var c=r+0xe79747c00,u=S.intDiv(c,31556952e4),d=S.intMod(c,31556952e4),h=e5.ofEpochSecond(d-0xe79747c00,0,J.UTC),f=t.length();t.append(h.toString()),0===h.second()&&t.append(":00"),u<0&&(-1e4===h.year()?t.replace(f,f+2,""+(u-1)):0===d?t.insert(f,u):t.insert(f+1,Math.abs(u)))}if(-2===this.fractionalDigits)0!==i&&(t.append("."),0===S.intMod(i,1e6)?t.append((""+(S.intDiv(i,1e6)+1e3)).substring(1)):0===S.intMod(i,1e3)?t.append((""+(S.intDiv(i,1e3)+1e6)).substring(1)):t.append((""+(i+1e9)).substring(1)));else if(this.fractionalDigits>0||-1===this.fractionalDigits&&i>0){t.append(".");for(var p=1e8,m=0;-1===this.fractionalDigits&&i>0||m<this.fractionalDigits;m++){var g=S.intDiv(i,p);t.append(g),i-=g*p,p=S.intDiv(p,10)}}return t.append("Z"),!0},t.parse=function(e,t,r){var n,i=e.copy(),o=this.fractionalDigits<0?0:this.fractionalDigits,s=this.fractionalDigits<0?9:this.fractionalDigits,a=new eF().append(eH.ISO_LOCAL_DATE).appendLiteral("T").appendValue(M.HOUR_OF_DAY,2).appendLiteral(":").appendValue(M.MINUTE_OF_HOUR,2).appendLiteral(":").appendValue(M.SECOND_OF_MINUTE,2).appendFraction(M.NANO_OF_SECOND,o,s,!0).appendLiteral("Z").toFormatter()._toPrinterParser(!1).parse(i,t,r);if(a<0)return a;var l=i.getParsed(M.YEAR),c=i.getParsed(M.MONTH_OF_YEAR),u=i.getParsed(M.DAY_OF_MONTH),d=i.getParsed(M.HOUR_OF_DAY),h=i.getParsed(M.MINUTE_OF_HOUR),f=i.getParsed(M.SECOND_OF_MINUTE),p=i.getParsed(M.NANO_OF_SECOND),m=null!=f?f:0,g=null!=p?p:0,y=S.intMod(l,1e4),_=0;24===d&&0===h&&0===m&&0===g?(d=0,_=1):23===d&&59===h&&60===m&&(e.setParsedLeapSecond(),m=59);try{n=e5.of(y,c,u,d,h,m,0).plusDays(_).toEpochSecond(J.UTC)+S.safeMultiply(S.intDiv(l,1e4),31556952e4)}catch(e){return~r}var E=a;return E=e.setParsedField(M.INSTANT_SECONDS,n,r,E),e.setParsedField(M.NANO_OF_SECOND,g,r,E)},t.toString=function(){return"Instant()"},e}(),ej=function(){function e(e,t){this._field=e,this._value=t}var t=e.prototype;return t.print=function(){return!0},t.parse=function(e,t,r){return null==e.getParsed(this._field)&&e.setParsedField(this._field,this._value,r,r),r},e}(),eq=function(){function e(){this._str=""}var t=e.prototype;return t.append=function(e){return this._str+=e,this},t.appendChar=function(e){return this._str+=e[0],this},t.insert=function(e,t){return this._str=this._str.slice(0,e)+t+this._str.slice(e),this},t.replace=function(e,t,r){return this._str=this._str.slice(0,e)+r+this._str.slice(t),this},t.length=function(){return this._str.length},t.setLength=function(e){return this._str=this._str.slice(0,e),this},t.toString=function(){return this._str},e}(),eH=function(){function e(e,t,r,n,i,o,s){void 0===o&&(o=eX.INSTANCE),E(null!=e),E(null!=r),E(null!=n),this._printerParser=e,this._locale=t,this._decimalStyle=r,this._resolverStyle=n,this._resolverFields=i,this._chrono=o,this._zone=s}e.parsedExcessDays=function(){return e.PARSED_EXCESS_DAYS},e.parsedLeapSecond=function(){return e.PARSED_LEAP_SECOND},e.ofPattern=function(e){return new eF().appendPattern(e).toFormatter()};var t=e.prototype;return t.locale=function(){return this._locale},t.decimalStyle=function(){return this._decimalStyle},t.chronology=function(){return this._chrono},t.withChronology=function(t){return null!=this._chrono&&this._chrono.equals(t)?this:new e(this._printerParser,this._locale,this._decimalStyle,this._resolverStyle,this._resolverFields,t,this._zone)},t.withLocale=function(){return this},t.withResolverStyle=function(t){return(v(t,"resolverStyle"),t.equals(this._resolverStyle))?this:new e(this._printerParser,this._locale,this._decimalStyle,t,this._resolverFields,this._chrono,this._zone)},t.format=function(e){var t=new eq(32);return this._formatTo(e,t),t.toString()},t._formatTo=function(e,t){v(e,"temporal"),v(t,"appendable");var r=new en(e,this);this._printerParser.print(r,t)},t.parse=function(e,t){return 1==arguments.length?this.parse1(e):this.parse2(e,t)},t.parse1=function(e){v(e,"text");try{return this._parseToBuilder(e,null).resolve(this._resolverStyle,this._resolverFields)}catch(t){if(t instanceof u)throw t;throw this._createError(e,t)}},t.parse2=function(e,t){v(e,"text"),v(t,"type");try{return this._parseToBuilder(e,null).resolve(this._resolverStyle,this._resolverFields).build(t)}catch(t){if(t instanceof u)throw t;throw this._createError(e,t)}},t._createError=function(e,t){return new u("Text '"+(e.length>64?e.substring(0,64)+"...":e)+"' could not be parsed: "+t.message,e,0,t)},t._parseToBuilder=function(e,t){var r=null!=t?t:new H(0),n=this._parseUnresolved0(e,r);if(null==n||r.getErrorIndex()>=0||null==t&&r.getIndex()<e.length){var i="";if(i=e.length>64?e.substr(0,64).toString()+"...":e,r.getErrorIndex()>=0)throw new u("Text '"+i+"' could not be parsed at index "+r.getErrorIndex(),e,r.getErrorIndex());throw new u("Text '"+i+"' could not be parsed, unparsed text found at index "+r.getIndex(),e,r.getIndex())}return n.toBuilder()},t.parseUnresolved=function(e,t){return this._parseUnresolved0(e,t)},t._parseUnresolved0=function(e,t){E(null!=e,"text",m),E(null!=t,"position",m);var r=new et(this),n=t.getIndex();return(n=this._printerParser.parse(r,e,n))<0?(t.setErrorIndex(~n),null):(t.setIndex(n),r.toParsed())},t._toPrinterParser=function(e){return this._printerParser.withOptional(e)},t.toString=function(){var e=this._printerParser.toString();return 0===e.indexOf("[")?e:e.substring(1,e.length-1)},e}(),eY=function(e){function t(t,r){var n;return(n=e.call(this)||this)._month=S.safeToInt(t),n._day=S.safeToInt(r),n}g(t,e),t.now=function(e){return 0==arguments.length?t.now0():1==arguments.length&&e instanceof G?t.nowZoneId(e):t.nowClock(e)},t.now0=function(){return this.nowClock(e3.systemDefaultZone())},t.nowZoneId=function(e){return v(e,"zone"),this.nowClock(e3.system(e))},t.nowClock=function(e){v(e,"clock");var r=e2.now(e);return t.of(r.month(),r.dayOfMonth())},t.of=function(e,r){return 2==arguments.length&&e instanceof B?t.ofMonthNumber(e,r):t.ofNumberNumber(e,r)},t.ofMonthNumber=function(e,r){if(v(e,"month"),M.DAY_OF_MONTH.checkValidValue(r),r>e.maxLength())throw new c("Illegal value for DayOfMonth field, value "+r+" is not valid for month "+e.toString());return new t(e.value(),r)},t.ofNumberNumber=function(e,r){return v(e,"month"),v(r,"dayOfMonth"),t.of(B.of(e),r)},t.from=function(e){if(v(e,"temporal"),b(e,L,"temporal"),e instanceof t)return e;try{return t.of(e.get(M.MONTH_OF_YEAR),e.get(M.DAY_OF_MONTH))}catch(t){throw new c("Unable to obtain MonthDay from TemporalAccessor: "+e+", type "+(e&&null!=e.constructor?e.constructor.name:""))}},t.parse=function(e,r){return 1==arguments.length?t.parseString(e):t.parseStringFormatter(e,r)},t.parseString=function(e){return t.parseStringFormatter(e,s)},t.parseStringFormatter=function(e,r){return v(e,"text"),v(r,"formatter"),b(r,eH,"formatter"),r.parse(e,t.FROM)};var r=t.prototype;return r.monthValue=function(){return this._month},r.month=function(){return B.of(this._month)},r.dayOfMonth=function(){return this._day},r.isSupported=function(e){return e instanceof M?e===M.MONTH_OF_YEAR||e===M.DAY_OF_MONTH:null!=e&&e.isSupportedBy(this)},r.range=function(t){return t===M.MONTH_OF_YEAR?t.range():t===M.DAY_OF_MONTH?D.of(1,this.month().minLength(),this.month().maxLength()):e.prototype.range.call(this,t)},r.get=function(e){return this.range(e).checkValidIntValue(this.getLong(e),e)},r.getLong=function(e){if(v(e,"field"),e instanceof M){switch(e){case M.DAY_OF_MONTH:return this._day;case M.MONTH_OF_YEAR:return this._month}throw new d("Unsupported field: "+e)}return e.getFrom(this)},r.isValidYear=function(e){return!1==(29===this._day&&2===this._month&&!1===e$.isLeap(e))},r.withMonth=function(e){return this.with(B.of(e))},r.with=function(e){if(v(e,"month"),e.value()===this._month)return this;var r=Math.min(this._day,e.maxLength());return new t(e.value(),r)},r.withDayOfMonth=function(e){return e===this._day?this:t.of(this._month,e)},r.query=function(t){return(v(t,"query"),b(t,U,"query"),t===k.chronology())?eX.INSTANCE:e.prototype.query.call(this,t)},r.adjustInto=function(e){return v(e,"temporal"),(e=e.with(M.MONTH_OF_YEAR,this._month)).with(M.DAY_OF_MONTH,Math.min(e.range(M.DAY_OF_MONTH).maximum(),this._day))},r.atYear=function(e){return e2.of(e,this._month,this.isValidYear(e)?this._day:28)},r.compareTo=function(e){v(e,"other"),b(e,t,"other");var r=this._month-e.monthValue();return 0===r&&(r=this._day-e.dayOfMonth()),r},r.isAfter=function(e){return v(e,"other"),b(e,t,"other"),this.compareTo(e)>0},r.isBefore=function(e){return v(e,"other"),b(e,t,"other"),0>this.compareTo(e)},r.equals=function(e){return this===e||e instanceof t&&this.monthValue()===e.monthValue()&&this.dayOfMonth()===e.dayOfMonth()},r.toString=function(){return"--"+(this._month<10?"0":"")+this._month+(this._day<10?"-0":"-")+this._day},r.toJSON=function(){return this.toString()},r.format=function(e){return v(e,"formatter"),b(e,eH,"formatter"),e.format(this)},t}(L),eV=function(e){function t(t,r){var n;return(n=e.call(this)||this)._year=S.safeToInt(t),n._month=S.safeToInt(r),n}g(t,e),t.now=function(e){return 0==arguments.length?t.now0():1==arguments.length&&e instanceof G?t.nowZoneId(e):t.nowClock(e)},t.now0=function(){return t.nowClock(e3.systemDefaultZone())},t.nowZoneId=function(e){return t.nowClock(e3.system(e))},t.nowClock=function(e){var r=e2.now(e);return t.of(r.year(),r.month())},t.of=function(e,r){return 2==arguments.length&&r instanceof B?t.ofNumberMonth(e,r):t.ofNumberNumber(e,r)},t.ofNumberMonth=function(e,r){return v(r,"month"),b(r,B,"month"),t.ofNumberNumber(e,r.value())},t.ofNumberNumber=function(e,r){return v(e,"year"),v(r,"month"),M.YEAR.checkValidValue(e),M.MONTH_OF_YEAR.checkValidValue(r),new t(e,r)},t.from=function(e){if(v(e,"temporal"),e instanceof t)return e;try{return t.of(e.get(M.YEAR),e.get(M.MONTH_OF_YEAR))}catch(t){throw new c("Unable to obtain YearMonth from TemporalAccessor: "+e+", type "+(e&&null!=e.constructor?e.constructor.name:""))}},t.parse=function(e,r){return 1==arguments.length?t.parseString(e):t.parseStringFormatter(e,r)},t.parseString=function(e){return t.parseStringFormatter(e,a)},t.parseStringFormatter=function(e,r){return v(r,"formatter"),r.parse(e,t.FROM)};var r=t.prototype;return r.isSupported=function(e){return 1==arguments.length&&e instanceof P?this.isSupportedField(e):this.isSupportedUnit(e)},r.isSupportedField=function(e){return e instanceof M?e===M.YEAR||e===M.MONTH_OF_YEAR||e===M.PROLEPTIC_MONTH||e===M.YEAR_OF_ERA||e===M.ERA:null!=e&&e.isSupportedBy(this)},r.isSupportedUnit=function(e){return e instanceof R?e===R.MONTHS||e===R.YEARS||e===R.DECADES||e===R.CENTURIES||e===R.MILLENNIA||e===R.ERAS:null!=e&&e.isSupportedBy(this)},r.range=function(t){return t===M.YEAR_OF_ERA?0>=this.year()?D.of(1,e$.MAX_VALUE+1):D.of(1,e$.MAX_VALUE):e.prototype.range.call(this,t)},r.get=function(e){return v(e,"field"),b(e,P,"field"),this.range(e).checkValidIntValue(this.getLong(e),e)},r.getLong=function(e){if(v(e,"field"),b(e,P,"field"),e instanceof M){switch(e){case M.MONTH_OF_YEAR:return this._month;case M.PROLEPTIC_MONTH:return this._getProlepticMonth();case M.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case M.YEAR:return this._year;case M.ERA:return this._year<1?0:1}throw new d("Unsupported field: "+e)}return e.getFrom(this)},r._getProlepticMonth=function(){return S.safeAdd(S.safeMultiply(this._year,12),this._month-1)},r.year=function(){return this._year},r.monthValue=function(){return this._month},r.month=function(){return B.of(this._month)},r.isLeapYear=function(){return eX.isLeapYear(this._year)},r.isValidDay=function(e){return e>=1&&e<=this.lengthOfMonth()},r.lengthOfMonth=function(){return this.month().length(this.isLeapYear())},r.lengthOfYear=function(){return this.isLeapYear()?366:365},r.with=function(e,t){return 1==arguments.length?this._withAdjuster(e):this._withField(e,t)},r._withField=function(e,t){if(v(e,"field"),b(e,P,"field"),e instanceof M){switch(e.checkValidValue(t),e){case M.MONTH_OF_YEAR:return this.withMonth(t);case M.PROLEPTIC_MONTH:return this.plusMonths(t-this.getLong(M.PROLEPTIC_MONTH));case M.YEAR_OF_ERA:return this.withYear(this._year<1?1-t:t);case M.YEAR:return this.withYear(t);case M.ERA:return this.getLong(M.ERA)===t?this:this.withYear(1-this._year)}throw new d("Unsupported field: "+e)}return e.adjustInto(this,t)},r.withYear=function(e){return M.YEAR.checkValidValue(e),new t(e,this._month)},r.withMonth=function(e){return M.MONTH_OF_YEAR.checkValidValue(e),new t(this._year,e)},r._plusUnit=function(e,t){if(v(t,"unit"),b(t,O,"unit"),t instanceof R){switch(t){case R.MONTHS:return this.plusMonths(e);case R.YEARS:return this.plusYears(e);case R.DECADES:return this.plusYears(S.safeMultiply(e,10));case R.CENTURIES:return this.plusYears(S.safeMultiply(e,100));case R.MILLENNIA:return this.plusYears(S.safeMultiply(e,1e3));case R.ERAS:return this.with(M.ERA,S.safeAdd(this.getLong(M.ERA),e))}throw new d("Unsupported unit: "+t)}return t.addTo(this,e)},r.plusYears=function(e){if(0===e)return this;var t=M.YEAR.checkValidIntValue(this._year+e);return this.withYear(t)},r.plusMonths=function(e){if(0===e)return this;var r=12*this._year+(this._month-1)+e;return new t(M.YEAR.checkValidIntValue(S.floorDiv(r,12)),S.floorMod(r,12)+1)},r.minusYears=function(e){return e===S.MIN_SAFE_INTEGER?this.plusYears(S.MIN_SAFE_INTEGER).plusYears(1):this.plusYears(-e)},r.minusMonths=function(e){return e===S.MIN_SAFE_INTEGER?this.plusMonths(Math.MAX_SAFE_INTEGER).plusMonths(1):this.plusMonths(-e)},r.query=function(t){return(v(t,"query"),b(t,U,"query"),t===k.chronology())?eX.INSTANCE:t===k.precision()?R.MONTHS:t===k.localDate()||t===k.localTime()||t===k.zone()||t===k.zoneId()||t===k.offset()?null:e.prototype.query.call(this,t)},r.adjustInto=function(e){return v(e,"temporal"),b(e,$,"temporal"),e.with(M.PROLEPTIC_MONTH,this._getProlepticMonth())},r.until=function(e,r){v(e,"endExclusive"),v(r,"unit"),b(e,$,"endExclusive"),b(r,O,"unit");var n=t.from(e);if(r instanceof R){var i=n._getProlepticMonth()-this._getProlepticMonth();switch(r){case R.MONTHS:return i;case R.YEARS:return S.intDiv(i,12);case R.DECADES:return S.intDiv(i,120);case R.CENTURIES:return S.intDiv(i,1200);case R.MILLENNIA:return S.intDiv(i,12e3);case R.ERAS:return n.getLong(M.ERA)-this.getLong(M.ERA)}throw new d("Unsupported unit: "+r)}return r.between(this,n)},r.atDay=function(e){return v(e,"dayOfMonth"),e2.of(this._year,this._month,e)},r.atEndOfMonth=function(){return e2.of(this._year,this._month,this.lengthOfMonth())},r.compareTo=function(e){v(e,"other"),b(e,t,"other");var r=this._year-e.year();return 0===r&&(r=this._month-e.monthValue()),r},r.isAfter=function(e){return this.compareTo(e)>0},r.isBefore=function(e){return 0>this.compareTo(e)},r.equals=function(e){return this===e||e instanceof t&&this.year()===e.year()&&this.monthValue()===e.monthValue()},r.toString=function(){return a.format(this)},r.toJSON=function(){return this.toString()},r.format=function(e){return v(e,"formatter"),e.format(this)},t}($),e$=function(e){function t(t){var r;return(r=e.call(this)||this)._year=S.safeToInt(t),r}g(t,e);var r=t.prototype;return r.value=function(){return this._year},t.now=function(e){return(void 0===e&&(e=void 0),void 0===e)?t.now0():e instanceof G?t.nowZoneId(e):t.nowClock(e)},t.now0=function(){return t.nowClock(e3.systemDefaultZone())},t.nowZoneId=function(e){return v(e,"zone"),b(e,G,"zone"),t.nowClock(e3.system(e))},t.nowClock=function(e){v(e,"clock"),b(e,e3,"clock");var r=e2.now(e);return t.of(r.year())},t.of=function(e){return v(e,"isoYear"),M.YEAR.checkValidValue(e),new t(e)},t.from=function(e){if(v(e,"temporal"),b(e,L,"temporal"),e instanceof t)return e;try{return t.of(e.get(M.YEAR))}catch(t){throw new c("Unable to obtain Year from TemporalAccessor: "+e+", type "+(e&&null!=e.constructor?e.constructor.name:""))}},t.parse=function(e,r){return arguments.length<=1?t.parseText(e):t.parseTextFormatter(e,r)},t.parseText=function(e){return v(e,"text"),t.parse(e,l)},t.parseTextFormatter=function(e,r){return void 0===r&&(r=l),v(e,"text"),v(r,"formatter"),b(r,eH,"formatter"),r.parse(e,t.FROM)},t.isLeap=function(e){return 0===S.intMod(e,4)&&(0!==S.intMod(e,100)||0===S.intMod(e,400))},r.isSupported=function(e){return 1==arguments.length&&e instanceof P?this.isSupportedField(e):this.isSupportedUnit(e)},r.isSupportedField=function(e){return e instanceof M?e===M.YEAR||e===M.YEAR_OF_ERA||e===M.ERA:null!=e&&e.isSupportedBy(this)},r.isSupportedUnit=function(e){return e instanceof R?e===R.YEARS||e===R.DECADES||e===R.CENTURIES||e===R.MILLENNIA||e===R.ERAS:null!=e&&e.isSupportedBy(this)},r.range=function(t){if(this.isSupported(t))return t.range();if(t instanceof M)throw new d("Unsupported field: "+t);return e.prototype.range.call(this,t)},r.get=function(e){return this.range(e).checkValidIntValue(this.getLong(e),e)},r.getLong=function(e){if(v(e,"field"),e instanceof M){switch(e){case M.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case M.YEAR:return this._year;case M.ERA:return this._year<1?0:1}throw new d("Unsupported field: "+e)}return e.getFrom(this)},r.isLeap=function(){return t.isLeap(this._year)},r._withField=function(e,r){if(v(e,"field"),b(e,P,"field"),e instanceof M){switch(e.checkValidValue(r),e){case M.YEAR_OF_ERA:return t.of(this._year<1?1-r:r);case M.YEAR:return t.of(r);case M.ERA:return this.getLong(M.ERA)===r?this:t.of(1-this._year)}throw new d("Unsupported field: "+e)}return e.adjustInto(this,r)},r._plusUnit=function(e,t){if(v(e,"amountToAdd"),v(t,"unit"),b(t,O,"unit"),t instanceof R){switch(t){case R.YEARS:return this.plusYears(e);case R.DECADES:return this.plusYears(S.safeMultiply(e,10));case R.CENTURIES:return this.plusYears(S.safeMultiply(e,100));case R.MILLENNIA:return this.plusYears(S.safeMultiply(e,1e3));case R.ERAS:return this.with(M.ERA,S.safeAdd(this.getLong(M.ERA),e))}throw new d("Unsupported unit: "+t)}return t.addTo(this,e)},r.plusYears=function(e){return 0===e?this:t.of(M.YEAR.checkValidIntValue(S.safeAdd(this._year,e)))},r.minusYears=function(e){return e===S.MIN_SAFE_INTEGER?this.plusYears(S.MAX_SAFE_INTEGER).plusYears(1):this.plusYears(-e)},r.adjustInto=function(e){return v(e,"temporal"),e.with(M.YEAR,this._year)},r.isValidMonthDay=function(e){return null!=e&&e.isValidYear(this._year)},r.length=function(){return this.isLeap()?366:365},r.atDay=function(e){return e2.ofYearDay(this._year,e)},r.atMonth=function(e){return 1==arguments.length&&e instanceof B?this.atMonthMonth(e):this.atMonthNumber(e)},r.atMonthMonth=function(e){return v(e,"month"),b(e,B,"month"),eV.of(this._year,e)},r.atMonthNumber=function(e){return v(e,"month"),eV.of(this._year,e)},r.atMonthDay=function(e){return v(e,"monthDay"),b(e,eY,"monthDay"),e.atYear(this._year)},r.query=function(t){return(v(t,"query()"),b(t,U,"query()"),t===k.chronology())?eX.INSTANCE:t===k.precision()?R.YEARS:t===k.localDate()||t===k.localTime()||t===k.zone()||t===k.zoneId()||t===k.offset()?null:e.prototype.query.call(this,t)},r.compareTo=function(e){return v(e,"other"),b(e,t,"other"),this._year-e._year},r.isAfter=function(e){return v(e,"other"),b(e,t,"other"),this._year>e._year},r.isBefore=function(e){return v(e,"other"),b(e,t,"other"),this._year<e._year},r.format=function(e){return v(e,"formatter"),b(e,eH,"formatter"),e.format(this)},r.equals=function(e){return this===e||e instanceof t&&this.value()===e.value()},r.toString=function(){return""+this._year},r.toJSON=function(){return this.toString()},r.until=function(e,r){var n=t.from(e);if(r instanceof R){var i=n.value()-this.value();switch(r){case R.YEARS:return i;case R.DECADES:return S.intDiv(i,10);case R.CENTURIES:return S.intDiv(i,100);case R.MILLENNIA:return S.intDiv(i,1e3);case R.ERAS:return n.getLong(M.ERA)-this.getLong(M.ERA)}throw new d("Unsupported unit: "+r)}return r.between(this,n)},t}($),ez=function(){function e(){}return e.prototype.adjustInto=function(e){T("adjustInto")},e}(),eW=function(){function e(){}return e.firstDayOfMonth=function(){return eG.FIRST_DAY_OF_MONTH},e.lastDayOfMonth=function(){return eG.LAST_DAY_OF_MONTH},e.firstDayOfNextMonth=function(){return eG.FIRST_DAY_OF_NEXT_MONTH},e.firstDayOfYear=function(){return eG.FIRST_DAY_OF_YEAR},e.lastDayOfYear=function(){return eG.LAST_DAY_OF_YEAR},e.firstDayOfNextYear=function(){return eG.FIRST_DAY_OF_NEXT_YEAR},e.firstInMonth=function(e){return v(e,"dayOfWeek"),new eK(1,e)},e.lastInMonth=function(e){return v(e,"dayOfWeek"),new eK(-1,e)},e.dayOfWeekInMonth=function(e,t){return v(t,"dayOfWeek"),new eK(e,t)},e.next=function(e){return new eZ(2,e)},e.nextOrSame=function(e){return new eZ(0,e)},e.previous=function(e){return new eZ(3,e)},e.previousOrSame=function(e){return new eZ(1,e)},e}(),eG=function(e){function t(t){var r;return(r=e.call(this)||this)._ordinal=t,r}return g(t,e),t.prototype.adjustInto=function(e){switch(this._ordinal){case 0:return e.with(M.DAY_OF_MONTH,1);case 1:return e.with(M.DAY_OF_MONTH,e.range(M.DAY_OF_MONTH).maximum());case 2:return e.with(M.DAY_OF_MONTH,1).plus(1,R.MONTHS);case 3:return e.with(M.DAY_OF_YEAR,1);case 4:return e.with(M.DAY_OF_YEAR,e.range(M.DAY_OF_YEAR).maximum());case 5:return e.with(M.DAY_OF_YEAR,1).plus(1,R.YEARS)}throw new p("Unreachable")},t}(ez);eG.FIRST_DAY_OF_MONTH=new eG(0),eG.LAST_DAY_OF_MONTH=new eG(1),eG.FIRST_DAY_OF_NEXT_MONTH=new eG(2),eG.FIRST_DAY_OF_YEAR=new eG(3),eG.LAST_DAY_OF_YEAR=new eG(4),eG.FIRST_DAY_OF_NEXT_YEAR=new eG(5);var eK=function(e){function t(t,r){var n;return(n=e.call(this)||this)._ordinal=t,n._dowValue=r.value(),n}return g(t,e),t.prototype.adjustInto=function(e){if(this._ordinal>=0){var t=e.with(M.DAY_OF_MONTH,1),r=t.get(M.DAY_OF_WEEK),n=S.intMod(this._dowValue-r+7,7);return n+=(this._ordinal-1)*7,t.plus(n,R.DAYS)}var i=e.with(M.DAY_OF_MONTH,e.range(M.DAY_OF_MONTH).maximum()),o=i.get(M.DAY_OF_WEEK),s=this._dowValue-o;return s=(0===s?0:s>0?s-7:s)-(-this._ordinal-1)*7,i.plus(s,R.DAYS)},t}(ez),eZ=function(e){function t(t,r){var n;return n=e.call(this)||this,v(r,"dayOfWeek"),n._relative=t,n._dowValue=r.value(),n}return g(t,e),t.prototype.adjustInto=function(e){var t=e.get(M.DAY_OF_WEEK);if(this._relative<2&&t===this._dowValue)return e;if((1&this._relative)==0){var r=t-this._dowValue;return e.plus(r>=0?7-r:-r,R.DAYS)}var n=this._dowValue-t;return e.minus(n>=0?7-n:-n,R.DAYS)},t}(ez),eX=function(e){function t(){return e.apply(this,arguments)||this}g(t,e),t.isLeapYear=function(e){return(3&e)==0&&(e%100!=0||e%400==0)};var r=t.prototype;return r._updateResolveMap=function(e,t,r){v(e,"fieldValues"),v(t,"field");var n=e.get(t);if(null!=n&&n!==r)throw new c("Invalid state, field: "+t+" "+n+" conflicts with "+t+" "+r);e.put(t,r)},r.resolveDate=function(e,t){if(e.containsKey(M.EPOCH_DAY))return e2.ofEpochDay(e.remove(M.EPOCH_DAY));var r=e.remove(M.PROLEPTIC_MONTH);null!=r&&(t!==V.LENIENT&&M.PROLEPTIC_MONTH.checkValidValue(r),this._updateResolveMap(e,M.MONTH_OF_YEAR,S.floorMod(r,12)+1),this._updateResolveMap(e,M.YEAR,S.floorDiv(r,12)));var n=e.remove(M.YEAR_OF_ERA);if(null!=n){t!==V.LENIENT&&M.YEAR_OF_ERA.checkValidValue(n);var i=e.remove(M.ERA);if(null==i){var o=e.get(M.YEAR);t===V.STRICT?null!=o?this._updateResolveMap(e,M.YEAR,o>0?n:S.safeSubtract(1,n)):e.put(M.YEAR_OF_ERA,n):this._updateResolveMap(e,M.YEAR,null==o||o>0?n:S.safeSubtract(1,n))}else if(1===i)this._updateResolveMap(e,M.YEAR,n);else if(0===i)this._updateResolveMap(e,M.YEAR,S.safeSubtract(1,n));else throw new c("Invalid value for era: "+i)}else e.containsKey(M.ERA)&&M.ERA.checkValidValue(e.get(M.ERA));if(e.containsKey(M.YEAR)){if(e.containsKey(M.MONTH_OF_YEAR)&&e.containsKey(M.DAY_OF_MONTH)){var s=M.YEAR.checkValidIntValue(e.remove(M.YEAR)),a=e.remove(M.MONTH_OF_YEAR),l=e.remove(M.DAY_OF_MONTH);if(t===V.LENIENT){var u=l-1;return e2.of(s,1,1).plusMonths(a-1).plusDays(u)}return t===V.SMART&&(M.DAY_OF_MONTH.checkValidValue(l),4===a||6===a||9===a||11===a?l=Math.min(l,30):2===a&&(l=Math.min(l,B.FEBRUARY.length(e$.isLeap(s))))),e2.of(s,a,l)}if(e.containsKey(M.DAY_OF_YEAR)){var d=M.YEAR.checkValidIntValue(e.remove(M.YEAR));if(t===V.LENIENT){var h=S.safeSubtract(e.remove(M.DAY_OF_YEAR),1);return e2.ofYearDay(d,1).plusDays(h)}var f=M.DAY_OF_YEAR.checkValidIntValue(e.remove(M.DAY_OF_YEAR));return e2.ofYearDay(d,f)}if(e.containsKey(M.ALIGNED_WEEK_OF_YEAR)){if(e.containsKey(M.ALIGNED_DAY_OF_WEEK_IN_YEAR)){var p=M.YEAR.checkValidIntValue(e.remove(M.YEAR));if(t===V.LENIENT){var m=S.safeSubtract(e.remove(M.ALIGNED_WEEK_OF_YEAR),1),g=S.safeSubtract(e.remove(M.ALIGNED_DAY_OF_WEEK_IN_YEAR),1);return e2.of(p,1,1).plusWeeks(m).plusDays(g)}var y=M.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(e.remove(M.ALIGNED_WEEK_OF_YEAR)),_=M.ALIGNED_DAY_OF_WEEK_IN_YEAR.checkValidIntValue(e.remove(M.ALIGNED_DAY_OF_WEEK_IN_YEAR)),E=e2.of(p,1,1).plusDays((y-1)*7+(_-1));if(t===V.STRICT&&E.get(M.YEAR)!==p)throw new c("Strict mode rejected date parsed to a different year");return E}if(e.containsKey(M.DAY_OF_WEEK)){var v=M.YEAR.checkValidIntValue(e.remove(M.YEAR));if(t===V.LENIENT){var b=S.safeSubtract(e.remove(M.ALIGNED_WEEK_OF_YEAR),1),T=S.safeSubtract(e.remove(M.DAY_OF_WEEK),1);return e2.of(v,1,1).plusWeeks(b).plusDays(T)}var w=M.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(e.remove(M.ALIGNED_WEEK_OF_YEAR)),A=M.DAY_OF_WEEK.checkValidIntValue(e.remove(M.DAY_OF_WEEK)),C=e2.of(v,1,1).plusWeeks(w-1).with(eW.nextOrSame(F.of(A)));if(t===V.STRICT&&C.get(M.YEAR)!==v)throw new c("Strict mode rejected date parsed to a different month");return C}}}return null},r.date=function(e){return e2.from(e)},t}(A),eQ=function(e){function t(t,r){var n;return n=e.call(this)||this,v(t,"time"),b(t,e4,"time"),v(r,"offset"),b(r,J,"offset"),n._time=t,n._offset=r,n}g(t,e),t.from=function(e){if(v(e,"temporal"),e instanceof t)return e;if(e instanceof e1)return e.toOffsetTime();try{var r=e4.from(e),n=J.from(e);return new t(r,n)}catch(t){throw new c("Unable to obtain OffsetTime TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""))}},t.now=function(e){return 0==arguments.length?t._now(e3.systemDefaultZone()):e instanceof e3?t._now(e):t._now(e3.system(e))},t._now=function(e){v(e,"clock");var r=e.instant();return t.ofInstant(r,e.zone().rules().offset(r))},t.of=function(){return arguments.length<=2?t.ofTimeAndOffset.apply(this,arguments):t.ofNumbers.apply(this,arguments)},t.ofNumbers=function(e,r,n,i,o){return new t(e4.of(e,r,n,i),o)},t.ofTimeAndOffset=function(e,r){return new t(e,r)},t.ofInstant=function(e,r){v(e,"instant"),b(e,e6,"instant"),v(r,"zone"),b(r,G,"zone");var n=r.rules().offset(e),i=e.epochSecond()%e4.SECONDS_PER_DAY;return(i=(i+n.totalSeconds())%e4.SECONDS_PER_DAY)<0&&(i+=e4.SECONDS_PER_DAY),new t(e4.ofSecondOfDay(i,e.nano()),n)},t.parse=function(e,r){return void 0===r&&(r=eH.ISO_OFFSET_TIME),v(r,"formatter"),r.parse(e,t.FROM)};var r=t.prototype;return r.adjustInto=function(e){return e.with(M.NANO_OF_DAY,this._time.toNanoOfDay()).with(M.OFFSET_SECONDS,this.offset().totalSeconds())},r.atDate=function(e){return e1.of(e,this._time,this._offset)},r.format=function(e){return v(e,"formatter"),e.format(this,t.FROM)},r.get=function(t){return e.prototype.get.call(this,t)},r.getLong=function(e){return e instanceof M?e===M.OFFSET_SECONDS?this._offset.totalSeconds():this._time.getLong(e):e.getFrom(this)},r.hour=function(){return this._time.hour()},r.minute=function(){return this._time.minute()},r.second=function(){return this._time.second()},r.nano=function(){return this._time.nano()},r.offset=function(){return this._offset},r.isAfter=function(e){return v(e,"other"),this._toEpochNano()>e._toEpochNano()},r.isBefore=function(e){return v(e,"other"),this._toEpochNano()<e._toEpochNano()},r.isEqual=function(e){return v(e,"other"),this._toEpochNano()===e._toEpochNano()},r.isSupported=function(e){return e instanceof M?e.isTimeBased()||e===M.OFFSET_SECONDS:e instanceof R?e.isTimeBased():null!=e&&e.isSupportedBy(this)},r.minusHours=function(e){return this._withLocalTimeOffset(this._time.minusHours(e),this._offset)},r.minusMinutes=function(e){return this._withLocalTimeOffset(this._time.minusMinutes(e),this._offset)},r.minusSeconds=function(e){return this._withLocalTimeOffset(this._time.minusSeconds(e),this._offset)},r.minusNanos=function(e){return this._withLocalTimeOffset(this._time.minusNanos(e),this._offset)},r._minusAmount=function(e){return v(e),e.subtractFrom(this)},r._minusUnit=function(e,t){return this.plus(-1*e,t)},r._plusAmount=function(e){return v(e),e.addTo(this)},r._plusUnit=function(e,t){return t instanceof R?this._withLocalTimeOffset(this._time.plus(e,t),this._offset):t.addTo(this,e)},r.plusHours=function(e){return this._withLocalTimeOffset(this._time.plusHours(e),this._offset)},r.plusMinutes=function(e){return this._withLocalTimeOffset(this._time.plusMinutes(e),this._offset)},r.plusSeconds=function(e){return this._withLocalTimeOffset(this._time.plusSeconds(e),this._offset)},r.plusNanos=function(e){return this._withLocalTimeOffset(this._time.plusNanos(e),this._offset)},r.query=function(t){return(v(t,"query"),t===k.precision())?R.NANOS:t===k.offset()||t===k.zone()?this.offset():t===k.localTime()?this._time:t===k.chronology()||t===k.localDate()||t===k.zoneId()?null:e.prototype.query.call(this,t)},r.range=function(e){return e instanceof M?e===M.OFFSET_SECONDS?e.range():this._time.range(e):e.rangeRefinedBy(this)},r.toLocalTime=function(){return this._time},r.truncatedTo=function(e){return this._withLocalTimeOffset(this._time.truncatedTo(e),this._offset)},r.until=function(e,r){v(e,"endExclusive"),v(r,"unit");var n=t.from(e);if(r instanceof R){var i=n._toEpochNano()-this._toEpochNano();switch(r){case R.NANOS:return i;case R.MICROS:return S.intDiv(i,1e3);case R.MILLIS:return S.intDiv(i,1e6);case R.SECONDS:return S.intDiv(i,e4.NANOS_PER_SECOND);case R.MINUTES:return S.intDiv(i,e4.NANOS_PER_MINUTE);case R.HOURS:return S.intDiv(i,e4.NANOS_PER_HOUR);case R.HALF_DAYS:return S.intDiv(i,12*e4.NANOS_PER_HOUR)}throw new d("Unsupported unit: "+r)}return r.between(this,n)},r.withHour=function(e){return this._withLocalTimeOffset(this._time.withHour(e),this._offset)},r.withMinute=function(e){return this._withLocalTimeOffset(this._time.withMinute(e),this._offset)},r.withSecond=function(e){return this._withLocalTimeOffset(this._time.withSecond(e),this._offset)},r.withNano=function(e){return this._withLocalTimeOffset(this._time.withNano(e),this._offset)},r.withOffsetSameInstant=function(e){if(v(e,"offset"),e.equals(this._offset))return this;var r=e.totalSeconds()-this._offset.totalSeconds();return new t(this._time.plusSeconds(r),e)},r.withOffsetSameLocal=function(e){return null!=e&&e.equals(this._offset)?this:new t(this._time,e)},r._toEpochNano=function(){return this._time.toNanoOfDay()-this._offset.totalSeconds()*e4.NANOS_PER_SECOND},r._withAdjuster=function(e){return(v(e,"adjuster"),e instanceof e4)?this._withLocalTimeOffset(e,this._offset):e instanceof J?this._withLocalTimeOffset(this._time,e):e instanceof t?e:e.adjustInto(this)},r._withField=function(e,t){return(v(e,"field"),e instanceof M)?e===M.OFFSET_SECONDS?this._withLocalTimeOffset(this._time,J.ofTotalSeconds(e.checkValidIntValue(t))):this._withLocalTimeOffset(this._time.with(e,t),this._offset):e.adjustInto(this,t)},r._withLocalTimeOffset=function(e,r){return this._time===e&&this._offset.equals(r)?this:new t(e,r)},r.compareTo=function(e){if(v(e,"other"),b(e,t,"other"),this._offset.equals(e._offset))return this._time.compareTo(e._time);var r=S.compareNumbers(this._toEpochNano(),e._toEpochNano());return 0===r?this._time.compareTo(e._time):r},r.equals=function(e){return this===e||e instanceof t&&this._time.equals(e._time)&&this._offset.equals(e._offset)},r.hashCode=function(){return this._time.hashCode()^this._offset.hashCode()},r.toString=function(){return this._time.toString()+this._offset.toString()},r.toJSON=function(){return this.toString()},t}($),eJ=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.query=function(t){return t===k.zoneId()||t===k.zone()?this.zone():t===k.chronology()?this.toLocalDate().chronology():t===k.precision()?R.NANOS:t===k.offset()?this.offset():t===k.localDate()?e2.ofEpochDay(this.toLocalDate().toEpochDay()):t===k.localTime()?this.toLocalTime():e.prototype.query.call(this,t)},r.format=function(e){return v(e,"formatter"),e.format(this)},r.toInstant=function(){return e6.ofEpochSecond(this.toEpochSecond(),this.toLocalTime().nano())},r.toEpochSecond=function(){return 86400*this.toLocalDate().toEpochDay()+this.toLocalTime().toSecondOfDay()-this.offset().totalSeconds()},r.compareTo=function(e){v(e,"other");var t,r,n=S.compareNumbers(this.toEpochSecond(),e.toEpochSecond());return 0===n&&0==(n=this.toLocalTime().nano()-e.toLocalTime().nano())&&0===(n=this.toLocalDateTime().compareTo(e.toLocalDateTime()))&&(n=(t=this.zone().id())<(r=e.zone().id())?-1:t>r?1:0),n},r.isAfter=function(e){v(e,"other");var t=this.toEpochSecond(),r=e.toEpochSecond();return t>r||t===r&&this.toLocalTime().nano()>e.toLocalTime().nano()},r.isBefore=function(e){v(e,"other");var t=this.toEpochSecond(),r=e.toEpochSecond();return t<r||t===r&&this.toLocalTime().nano()<e.toLocalTime().nano()},r.isEqual=function(e){return v(e,"other"),this.toEpochSecond()===e.toEpochSecond()&&this.toLocalTime().nano()===e.toLocalTime().nano()},r.equals=function(e){return this===e||e instanceof t&&0===this.compareTo(e)},t}($),e0=function(e){function t(t,r,n){var i;return v(t,"dateTime"),v(r,"offset"),v(n,"zone"),(i=e.call(this)||this)._dateTime=t,i._offset=r,i._zone=n,i}g(t,e),t.now=function(e){var r;return r=e instanceof G?e3.system(e):null==e?e3.systemDefaultZone():e,t.ofInstant(r.instant(),r.zone())},t.of=function(){return arguments.length<=2?t.of2.apply(this,arguments):3==arguments.length&&arguments[0]instanceof e2?t.of3.apply(this,arguments):t.of8.apply(this,arguments)},t.of3=function(e,r,n){return t.of2(e5.of(e,r),n)},t.of2=function(e,r){return t.ofLocal(e,r,null)},t.of8=function(e,r,n,i,o,s,a,l){var c=e5.of(e,r,n,i,o,s,a);return t.ofLocal(c,l,null)},t.ofLocal=function(e,r,n){if(v(e,"localDateTime"),v(r,"zone"),r instanceof J)return new t(e,r,r);var i=null,o=r.rules(),s=o.validOffsets(e);if(1===s.length)i=s[0];else if(0===s.length){var a=o.transition(e);e=e.plusSeconds(a.duration().seconds()),i=a.offsetAfter()}else i=null!=n&&s.some(function(e){return e.equals(n)})?n:v(s[0],"offset");return new t(e,i,r)},t.ofInstant=function(){return 2==arguments.length?t.ofInstant2.apply(this,arguments):t.ofInstant3.apply(this,arguments)},t.ofInstant2=function(e,r){return v(e,"instant"),v(r,"zone"),t._create(e.epochSecond(),e.nano(),r)},t.ofInstant3=function(e,r,n){return v(e,"localDateTime"),v(r,"offset"),v(n,"zone"),t._create(e.toEpochSecond(r),e.nano(),n)},t._create=function(e,r,n){var i=n.rules(),o=e6.ofEpochSecond(e,r),s=i.offset(o);return new t(e5.ofEpochSecond(e,r,s),s,n)},t.ofStrict=function(e,r,n){v(e,"localDateTime"),v(r,"offset"),v(n,"zone");var i=n.rules();if(!1===i.isValidOffset(e,r)){var o=i.transition(e);if(null!=o&&o.isGap())throw new c("LocalDateTime "+e+" does not exist in zone "+n+" due to a gap in the local time-line, typically caused by daylight savings");throw new c('ZoneOffset "'+r+'" is not valid for LocalDateTime "'+e+'" in zone "'+n+'"')}return new t(e,r,n)},t.ofLenient=function(e,r,n){if(v(e,"localDateTime"),v(r,"offset"),v(n,"zone"),n instanceof J&&!1===r.equals(n))throw new f("ZoneId must match ZoneOffset");return new t(e,r,n)},t.from=function(e){if(v(e,"temporal"),e instanceof t)return e;var r=G.from(e);if(e.isSupported(M.INSTANT_SECONDS)){var n=t._from(e,r);if(null!=n)return n}var i=e5.from(e);return t.of2(i,r)},t._from=function(e,r){try{return t.__from(e,r)}catch(e){if(!(e instanceof c))throw e}},t.__from=function(e,r){var n=e.getLong(M.INSTANT_SECONDS),i=e.get(M.NANO_OF_SECOND);return t._create(n,i,r)},t.parse=function(e,r){return void 0===r&&(r=eH.ISO_ZONED_DATE_TIME),v(r,"formatter"),r.parse(e,t.FROM)};var r=t.prototype;return r._resolveLocal=function(e){return v(e,"newDateTime"),t.ofLocal(e,this._zone,this._offset)},r._resolveInstant=function(e){return t.ofInstant3(e,this._offset,this._zone)},r._resolveOffset=function(e){return!1===e.equals(this._offset)&&this._zone.rules().isValidOffset(this._dateTime,e)?new t(this._dateTime,e,this._zone):this},r.isSupported=function(e){return e instanceof M||(e instanceof R?e.isDateBased()||e.isTimeBased():null!=e&&e.isSupportedBy(this))},r.range=function(e){return e instanceof M?e===M.INSTANT_SECONDS||e===M.OFFSET_SECONDS?e.range():this._dateTime.range(e):e.rangeRefinedBy(this)},r.get=function(e){return this.getLong(e)},r.getLong=function(e){if(e instanceof M){switch(e){case M.INSTANT_SECONDS:return this.toEpochSecond();case M.OFFSET_SECONDS:return this._offset.totalSeconds()}return this._dateTime.getLong(e)}return v(e,"field"),e.getFrom(this)},r.offset=function(){return this._offset},r.withEarlierOffsetAtOverlap=function(){var e=this._zone.rules().transition(this._dateTime);if(null!=e&&e.isOverlap()){var r=e.offsetBefore();if(!1===r.equals(this._offset))return new t(this._dateTime,r,this._zone)}return this},r.withLaterOffsetAtOverlap=function(){var e=this._zone.rules().transition(this.toLocalDateTime());if(null!=e){var r=e.offsetAfter();if(!1===r.equals(this._offset))return new t(this._dateTime,r,this._zone)}return this},r.zone=function(){return this._zone},r.withZoneSameLocal=function(e){return v(e,"zone"),this._zone.equals(e)?this:t.ofLocal(this._dateTime,e,this._offset)},r.withZoneSameInstant=function(e){return v(e,"zone"),this._zone.equals(e)?this:t._create(this._dateTime.toEpochSecond(this._offset),this._dateTime.nano(),e)},r.withFixedOffsetZone=function(){return this._zone.equals(this._offset)?this:new t(this._dateTime,this._offset,this._offset)},r.year=function(){return this._dateTime.year()},r.monthValue=function(){return this._dateTime.monthValue()},r.month=function(){return this._dateTime.month()},r.dayOfMonth=function(){return this._dateTime.dayOfMonth()},r.dayOfYear=function(){return this._dateTime.dayOfYear()},r.dayOfWeek=function(){return this._dateTime.dayOfWeek()},r.hour=function(){return this._dateTime.hour()},r.minute=function(){return this._dateTime.minute()},r.second=function(){return this._dateTime.second()},r.nano=function(){return this._dateTime.nano()},r._withAdjuster=function(r){return r instanceof e2?this._resolveLocal(e5.of(r,this._dateTime.toLocalTime())):r instanceof e4?this._resolveLocal(e5.of(this._dateTime.toLocalDate(),r)):r instanceof e5?this._resolveLocal(r):r instanceof e6?t._create(r.epochSecond(),r.nano(),this._zone):r instanceof J?this._resolveOffset(r):e.prototype._withAdjuster.call(this,r)},r._withField=function(e,r){if(e instanceof M){switch(e){case M.INSTANT_SECONDS:return t._create(r,this.nano(),this._zone);case M.OFFSET_SECONDS:var n=J.ofTotalSeconds(e.checkValidIntValue(r));return this._resolveOffset(n)}return this._resolveLocal(this._dateTime.with(e,r))}return e.adjustInto(this,r)},r.withYear=function(e){return this._resolveLocal(this._dateTime.withYear(e))},r.withMonth=function(e){return this._resolveLocal(this._dateTime.withMonth(e))},r.withDayOfMonth=function(e){return this._resolveLocal(this._dateTime.withDayOfMonth(e))},r.withDayOfYear=function(e){return this._resolveLocal(this._dateTime.withDayOfYear(e))},r.withHour=function(e){return this._resolveLocal(this._dateTime.withHour(e))},r.withMinute=function(e){return this._resolveLocal(this._dateTime.withMinute(e))},r.withSecond=function(e){return this._resolveLocal(this._dateTime.withSecond(e))},r.withNano=function(e){return this._resolveLocal(this._dateTime.withNano(e))},r.truncatedTo=function(e){return this._resolveLocal(this._dateTime.truncatedTo(e))},r._plusUnit=function(e,t){return t instanceof R?t.isDateBased()?this._resolveLocal(this._dateTime.plus(e,t)):this._resolveInstant(this._dateTime.plus(e,t)):(v(t,"unit"),t.addTo(this,e))},r.plusYears=function(e){return this._resolveLocal(this._dateTime.plusYears(e))},r.plusMonths=function(e){return this._resolveLocal(this._dateTime.plusMonths(e))},r.plusWeeks=function(e){return this._resolveLocal(this._dateTime.plusWeeks(e))},r.plusDays=function(e){return this._resolveLocal(this._dateTime.plusDays(e))},r.plusHours=function(e){return this._resolveInstant(this._dateTime.plusHours(e))},r.plusMinutes=function(e){return this._resolveInstant(this._dateTime.plusMinutes(e))},r.plusSeconds=function(e){return this._resolveInstant(this._dateTime.plusSeconds(e))},r.plusNanos=function(e){return this._resolveInstant(this._dateTime.plusNanos(e))},r._minusUnit=function(e,t){return this._plusUnit(-1*e,t)},r.minusYears=function(e){return this.plusYears(-1*e)},r.minusMonths=function(e){return this.plusMonths(-1*e)},r.minusWeeks=function(e){return this.plusWeeks(-1*e)},r.minusDays=function(e){return this.plusDays(-1*e)},r.minusHours=function(e){return this.plusHours(-1*e)},r.minusMinutes=function(e){return this.plusMinutes(-1*e)},r.minusSeconds=function(e){return this.plusSeconds(-1*e)},r.minusNanos=function(e){return this.plusNanos(-1*e)},r.query=function(t){return t===k.localDate()?this.toLocalDate():(v(t,"query"),e.prototype.query.call(this,t))},r.until=function(e,r){var n=t.from(e);if(r instanceof R){if(n=n.withZoneSameInstant(this._zone),r.isDateBased())return this._dateTime.until(n._dateTime,r);var i=this._offset.totalSeconds()-n._offset.totalSeconds(),o=n._dateTime.plusSeconds(i);return this._dateTime.until(o,r)}return r.between(this,n)},r.toLocalDateTime=function(){return this._dateTime},r.toLocalDate=function(){return this._dateTime.toLocalDate()},r.toLocalTime=function(){return this._dateTime.toLocalTime()},r.toOffsetDateTime=function(){return e1.of(this._dateTime,this._offset)},r.equals=function(e){return this===e||e instanceof t&&this._dateTime.equals(e._dateTime)&&this._offset.equals(e._offset)&&this._zone.equals(e._zone)},r.hashCode=function(){return S.hashCode(this._dateTime.hashCode(),this._offset.hashCode(),this._zone.hashCode())},r.toString=function(){var e=this._dateTime.toString()+this._offset.toString();return this._offset!==this._zone&&(e+="["+this._zone.toString()+"]"),e},r.toJSON=function(){return this.toString()},r.format=function(t){return e.prototype.format.call(this,t)},t}(eJ),e1=function(e){function t(t,r){var n;return n=e.call(this)||this,v(t,"dateTime"),b(t,e5,"dateTime"),v(r,"offset"),b(r,J,"offset"),n._dateTime=t,n._offset=r,n}g(t,e),t.from=function(e){if(v(e,"temporal"),e instanceof t)return e;try{var r=J.from(e);try{var n=e5.from(e);return t.of(n,r)}catch(n){var i=e6.from(e);return t.ofInstant(i,r)}}catch(t){throw new c("Unable to obtain OffsetDateTime TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""))}},t.now=function(e){if(0==arguments.length)return t.now(e3.systemDefaultZone());if(v(e,"clockOrZone"),e instanceof G)return t.now(e3.system(e));if(e instanceof e3){var r=e.instant();return t.ofInstant(r,e.zone().rules().offset(r))}throw new f("clockOrZone must be an instance of ZoneId or Clock")},t.of=function(){return arguments.length<=2?t.ofDateTime.apply(this,arguments):3==arguments.length?t.ofDateAndTime.apply(this,arguments):t.ofNumbers.apply(this,arguments)},t.ofDateTime=function(e,r){return new t(e,r)},t.ofDateAndTime=function(e,r,n){return new t(e5.of(e,r),n)},t.ofNumbers=function(e,r,n,i,o,s,a,l){return void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),new t(e5.of(e,r,n,i,o,s,a),l)},t.ofInstant=function(e,r){v(e,"instant"),v(r,"zone");var n=r.rules().offset(e);return new t(e5.ofEpochSecond(e.epochSecond(),e.nano(),n),n)},t.parse=function(e,r){return void 0===r&&(r=eH.ISO_OFFSET_DATE_TIME),v(r,"formatter"),r.parse(e,t.FROM)};var r=t.prototype;return r.adjustInto=function(e){return e.with(M.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(M.NANO_OF_DAY,this.toLocalTime().toNanoOfDay()).with(M.OFFSET_SECONDS,this.offset().totalSeconds())},r.until=function(e,r){var n=t.from(e);return r instanceof R?(n=n.withOffsetSameInstant(this._offset),this._dateTime.until(n._dateTime,r)):r.between(this,n)},r.atZoneSameInstant=function(e){return e0.ofInstant(this._dateTime,this._offset,e)},r.atZoneSimilarLocal=function(e){return e0.ofLocal(this._dateTime,e,this._offset)},r.query=function(t){return(v(t,"query"),t===k.chronology())?eX.INSTANCE:t===k.precision()?R.NANOS:t===k.offset()||t===k.zone()?this.offset():t===k.localDate()?this.toLocalDate():t===k.localTime()?this.toLocalTime():t===k.zoneId()?null:e.prototype.query.call(this,t)},r.get=function(t){if(t instanceof M){switch(t){case M.INSTANT_SECONDS:throw new c("Field too large for an int: "+t);case M.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.get(t)}return e.prototype.get.call(this,t)},r.getLong=function(e){if(e instanceof M){switch(e){case M.INSTANT_SECONDS:return this.toEpochSecond();case M.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.getLong(e)}return e.getFrom(this)},r.offset=function(){return this._offset},r.year=function(){return this._dateTime.year()},r.monthValue=function(){return this._dateTime.monthValue()},r.month=function(){return this._dateTime.month()},r.dayOfMonth=function(){return this._dateTime.dayOfMonth()},r.dayOfYear=function(){return this._dateTime.dayOfYear()},r.dayOfWeek=function(){return this._dateTime.dayOfWeek()},r.hour=function(){return this._dateTime.hour()},r.minute=function(){return this._dateTime.minute()},r.second=function(){return this._dateTime.second()},r.nano=function(){return this._dateTime.nano()},r.toLocalDateTime=function(){return this._dateTime},r.toLocalDate=function(){return this._dateTime.toLocalDate()},r.toLocalTime=function(){return this._dateTime.toLocalTime()},r.toOffsetTime=function(){return eQ.of(this._dateTime.toLocalTime(),this._offset)},r.toZonedDateTime=function(){return e0.of(this._dateTime,this._offset)},r.toInstant=function(){return this._dateTime.toInstant(this._offset)},r.toEpochSecond=function(){return this._dateTime.toEpochSecond(this._offset)},r.isSupported=function(e){return e instanceof M||e instanceof R?e.isDateBased()||e.isTimeBased():null!=e&&e.isSupportedBy(this)},r.range=function(e){return e instanceof M?e===M.INSTANT_SECONDS||e===M.OFFSET_SECONDS?e.range():this._dateTime.range(e):e.rangeRefinedBy(this)},r._withAdjuster=function(e){return(v(e),e instanceof e2||e instanceof e4||e instanceof e5)?this._withDateTimeOffset(this._dateTime.with(e),this._offset):e instanceof e6?t.ofInstant(e,this._offset):e instanceof J?this._withDateTimeOffset(this._dateTime,e):e instanceof t?e:e.adjustInto(this)},r._withField=function(e,r){if(v(e),e instanceof M){switch(e){case M.INSTANT_SECONDS:return t.ofInstant(e6.ofEpochSecond(r,this.nano()),this._offset);case M.OFFSET_SECONDS:return this._withDateTimeOffset(this._dateTime,J.ofTotalSeconds(e.checkValidIntValue(r)))}return this._withDateTimeOffset(this._dateTime.with(e,r),this._offset)}return e.adjustInto(this,r)},r._withDateTimeOffset=function(e,r){return this._dateTime===e&&this._offset.equals(r)?this:new t(e,r)},r.withYear=function(e){return this._withDateTimeOffset(this._dateTime.withYear(e),this._offset)},r.withMonth=function(e){return this._withDateTimeOffset(this._dateTime.withMonth(e),this._offset)},r.withDayOfMonth=function(e){return this._withDateTimeOffset(this._dateTime.withDayOfMonth(e),this._offset)},r.withDayOfYear=function(e){return this._withDateTimeOffset(this._dateTime.withDayOfYear(e),this._offset)},r.withHour=function(e){return this._withDateTimeOffset(this._dateTime.withHour(e),this._offset)},r.withMinute=function(e){return this._withDateTimeOffset(this._dateTime.withMinute(e),this._offset)},r.withSecond=function(e){return this._withDateTimeOffset(this._dateTime.withSecond(e),this._offset)},r.withNano=function(e){return this._withDateTimeOffset(this._dateTime.withNano(e),this._offset)},r.withOffsetSameLocal=function(e){return v(e,"offset"),this._withDateTimeOffset(this._dateTime,e)},r.withOffsetSameInstant=function(e){if(v(e,"offset"),e.equals(this._offset))return this;var r=e.totalSeconds()-this._offset.totalSeconds();return new t(this._dateTime.plusSeconds(r),e)},r.truncatedTo=function(e){return this._withDateTimeOffset(this._dateTime.truncatedTo(e),this._offset)},r._plusAmount=function(e){return v(e,"amount"),e.addTo(this)},r._plusUnit=function(e,t){return t instanceof R?this._withDateTimeOffset(this._dateTime.plus(e,t),this._offset):t.addTo(this,e)},r.plusYears=function(e){return this._withDateTimeOffset(this._dateTime.plusYears(e),this._offset)},r.plusMonths=function(e){return this._withDateTimeOffset(this._dateTime.plusMonths(e),this._offset)},r.plusWeeks=function(e){return this._withDateTimeOffset(this._dateTime.plusWeeks(e),this._offset)},r.plusDays=function(e){return this._withDateTimeOffset(this._dateTime.plusDays(e),this._offset)},r.plusHours=function(e){return this._withDateTimeOffset(this._dateTime.plusHours(e),this._offset)},r.plusMinutes=function(e){return this._withDateTimeOffset(this._dateTime.plusMinutes(e),this._offset)},r.plusSeconds=function(e){return this._withDateTimeOffset(this._dateTime.plusSeconds(e),this._offset)},r.plusNanos=function(e){return this._withDateTimeOffset(this._dateTime.plusNanos(e),this._offset)},r._minusAmount=function(e){return v(e),e.subtractFrom(this)},r._minusUnit=function(e,t){return this.plus(-1*e,t)},r.minusYears=function(e){return this._withDateTimeOffset(this._dateTime.minusYears(e),this._offset)},r.minusMonths=function(e){return this._withDateTimeOffset(this._dateTime.minusMonths(e),this._offset)},r.minusWeeks=function(e){return this._withDateTimeOffset(this._dateTime.minusWeeks(e),this._offset)},r.minusDays=function(e){return this._withDateTimeOffset(this._dateTime.minusDays(e),this._offset)},r.minusHours=function(e){return this._withDateTimeOffset(this._dateTime.minusHours(e),this._offset)},r.minusMinutes=function(e){return this._withDateTimeOffset(this._dateTime.minusMinutes(e),this._offset)},r.minusSeconds=function(e){return this._withDateTimeOffset(this._dateTime.minusSeconds(e),this._offset)},r.minusNanos=function(e){return this._withDateTimeOffset(this._dateTime.minusNanos(e),this._offset)},r.compareTo=function(e){if(v(e,"other"),b(e,t,"other"),this.offset().equals(e.offset()))return this.toLocalDateTime().compareTo(e.toLocalDateTime());var r=S.compareNumbers(this.toEpochSecond(),e.toEpochSecond());return 0===r&&0==(r=this.toLocalTime().nano()-e.toLocalTime().nano())&&(r=this.toLocalDateTime().compareTo(e.toLocalDateTime())),r},r.isAfter=function(e){v(e,"other");var t=this.toEpochSecond(),r=e.toEpochSecond();return t>r||t===r&&this.toLocalTime().nano()>e.toLocalTime().nano()},r.isBefore=function(e){v(e,"other");var t=this.toEpochSecond(),r=e.toEpochSecond();return t<r||t===r&&this.toLocalTime().nano()<e.toLocalTime().nano()},r.isEqual=function(e){return v(e,"other"),this.toEpochSecond()===e.toEpochSecond()&&this.toLocalTime().nano()===e.toLocalTime().nano()},r.equals=function(e){return this===e||e instanceof t&&this._dateTime.equals(e._dateTime)&&this._offset.equals(e._offset)},r.hashCode=function(){return this._dateTime.hashCode()^this._offset.hashCode()},r.toString=function(){return this._dateTime.toString()+this._offset.toString()},r.toJSON=function(){return this.toString()},r.format=function(e){return v(e,"formatter"),e.format(this)},t}($),e2=function(e){function t(r,n,i){var o;return o=e.call(this)||this,v(r,"year"),v(n,"month"),v(i,"dayOfMonth"),n instanceof B&&(n=n.value()),o._year=S.safeToInt(r),o._month=S.safeToInt(n),o._day=S.safeToInt(i),t._validate(o._year,o._month,o._day),o}g(t,e),t.now=function(e){var r;return r=null==e?e3.systemDefaultZone():e instanceof G?e3.system(e):e,t.ofInstant(r.instant(),r.zone())},t.ofInstant=function(e,r){void 0===r&&(r=G.systemDefault()),v(e,"instant");var n=r.rules().offset(e),i=e.epochSecond()+n.totalSeconds(),o=S.floorDiv(i,e4.SECONDS_PER_DAY);return t.ofEpochDay(o)},t.of=function(e,r,n){return new t(e,r,n)},t.ofYearDay=function(e,r){M.YEAR.checkValidValue(e);var n=eX.isLeapYear(e);366===r&&!1===n&&E(!1,"Invalid date 'DayOfYear 366' as '"+e+"' is not a leap year",c);var i=B.of(Math.floor((r-1)/31+1));r>i.firstDayOfYear(n)+i.length(n)-1&&(i=i.plus(1));var o=r-i.firstDayOfYear(n)+1;return new t(e,i.value(),o)},t.ofEpochDay=function(e){void 0===e&&(e=0),r=0,(s=e+719528-60)<0&&(r=400*(n=S.intDiv(s+1,146097)-1),s+=-(146097*n)),o=S.intDiv(400*s+591,146097),(i=s-(365*o+S.intDiv(o,4)-S.intDiv(o,100)+S.intDiv(o,400)))<0&&(i=s-(365*--o+S.intDiv(o,4)-S.intDiv(o,100)+S.intDiv(o,400))),o+=r;var r,n,i,o,s,a=i,l=S.intDiv(5*a+2,153),c=a-S.intDiv(306*l+5,10)+1;return new t(o+=S.intDiv(l,10),(l+2)%12+1,c)},t.from=function(e){v(e,"temporal");var t=e.query(k.localDate());if(null==t)throw new c("Unable to obtain LocalDate from TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""));return t},t.parse=function(e,r){return void 0===r&&(r=eH.ISO_LOCAL_DATE),E(null!=r,"formatter",m),r.parse(e,t.FROM)},t._resolvePreviousValid=function(e,r,n){switch(r){case 2:n=Math.min(n,eX.isLeapYear(e)?29:28);break;case 4:case 6:case 9:case 11:n=Math.min(n,30)}return t.of(e,r,n)},t._validate=function(e,t,r){var n;if(M.YEAR.checkValidValue(e),M.MONTH_OF_YEAR.checkValidValue(t),M.DAY_OF_MONTH.checkValidValue(r),r>28){switch(n=31,t){case 2:n=eX.isLeapYear(e)?29:28;break;case 4:case 6:case 9:case 11:n=30}r>n&&(29===r?E(!1,"Invalid date 'February 29' as '"+e+"' is not a leap year",c):E(!1,"Invalid date '"+e+"' '"+t+"' '"+r+"'",c))}};var r=t.prototype;return r.isSupported=function(t){return e.prototype.isSupported.call(this,t)},r.range=function(e){if(e instanceof M){if(e.isDateBased()){switch(e){case M.DAY_OF_MONTH:return D.of(1,this.lengthOfMonth());case M.DAY_OF_YEAR:return D.of(1,this.lengthOfYear());case M.ALIGNED_WEEK_OF_MONTH:return D.of(1,this.month()===B.FEBRUARY&&!1===this.isLeapYear()?4:5);case M.YEAR_OF_ERA:return this._year<=0?D.of(1,e$.MAX_VALUE+1):D.of(1,e$.MAX_VALUE)}return e.range()}throw new d("Unsupported field: "+e)}return e.rangeRefinedBy(this)},r.get=function(e){return this.getLong(e)},r.getLong=function(e){return(E(null!=e,"",m),e instanceof M)?this._get0(e):e.getFrom(this)},r._get0=function(e){switch(e){case M.DAY_OF_WEEK:return this.dayOfWeek().value();case M.ALIGNED_DAY_OF_WEEK_IN_MONTH:return S.intMod(this._day-1,7)+1;case M.ALIGNED_DAY_OF_WEEK_IN_YEAR:return S.intMod(this.dayOfYear()-1,7)+1;case M.DAY_OF_MONTH:return this._day;case M.DAY_OF_YEAR:return this.dayOfYear();case M.EPOCH_DAY:return this.toEpochDay();case M.ALIGNED_WEEK_OF_MONTH:return S.intDiv(this._day-1,7)+1;case M.ALIGNED_WEEK_OF_YEAR:return S.intDiv(this.dayOfYear()-1,7)+1;case M.MONTH_OF_YEAR:return this._month;case M.PROLEPTIC_MONTH:return this._prolepticMonth();case M.YEAR_OF_ERA:return this._year>=1?this._year:1-this._year;case M.YEAR:return this._year;case M.ERA:return this._year>=1?1:0}throw new d("Unsupported field: "+e)},r._prolepticMonth=function(){return 12*this._year+(this._month-1)},r.chronology=function(){return eX.INSTANCE},r.year=function(){return this._year},r.monthValue=function(){return this._month},r.month=function(){return B.of(this._month)},r.dayOfMonth=function(){return this._day},r.dayOfYear=function(){return this.month().firstDayOfYear(this.isLeapYear())+this._day-1},r.dayOfWeek=function(){var e=S.floorMod(this.toEpochDay()+3,7);return F.of(e+1)},r.isLeapYear=function(){return eX.isLeapYear(this._year)},r.lengthOfMonth=function(){switch(this._month){case 2:return this.isLeapYear()?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},r.lengthOfYear=function(){return this.isLeapYear()?366:365},r._withAdjuster=function(r){return(v(r,"adjuster"),r instanceof t)?r:e.prototype._withAdjuster.call(this,r)},r._withField=function(e,r){if(E(null!=e,"field",m),e instanceof M){switch(e.checkValidValue(r),e){case M.DAY_OF_WEEK:return this.plusDays(r-this.dayOfWeek().value());case M.ALIGNED_DAY_OF_WEEK_IN_MONTH:return this.plusDays(r-this.getLong(M.ALIGNED_DAY_OF_WEEK_IN_MONTH));case M.ALIGNED_DAY_OF_WEEK_IN_YEAR:return this.plusDays(r-this.getLong(M.ALIGNED_DAY_OF_WEEK_IN_YEAR));case M.DAY_OF_MONTH:return this.withDayOfMonth(r);case M.DAY_OF_YEAR:return this.withDayOfYear(r);case M.EPOCH_DAY:return t.ofEpochDay(r);case M.ALIGNED_WEEK_OF_MONTH:return this.plusWeeks(r-this.getLong(M.ALIGNED_WEEK_OF_MONTH));case M.ALIGNED_WEEK_OF_YEAR:return this.plusWeeks(r-this.getLong(M.ALIGNED_WEEK_OF_YEAR));case M.MONTH_OF_YEAR:return this.withMonth(r);case M.PROLEPTIC_MONTH:return this.plusMonths(r-this.getLong(M.PROLEPTIC_MONTH));case M.YEAR_OF_ERA:return this.withYear(this._year>=1?r:1-r);case M.YEAR:return this.withYear(r);case M.ERA:return this.getLong(M.ERA)===r?this:this.withYear(1-this._year)}throw new d("Unsupported field: "+e)}return e.adjustInto(this,r)},r.withYear=function(e){return this._year===e?this:(M.YEAR.checkValidValue(e),t._resolvePreviousValid(e,this._month,this._day))},r.withMonth=function(e){var r=e instanceof B?e.value():e;return this._month===r?this:(M.MONTH_OF_YEAR.checkValidValue(r),t._resolvePreviousValid(this._year,r,this._day))},r.withDayOfMonth=function(e){return this._day===e?this:t.of(this._year,this._month,e)},r.withDayOfYear=function(e){return this.dayOfYear()===e?this:t.ofYearDay(this._year,e)},r._plusUnit=function(e,t){if(v(e,"amountToAdd"),v(t,"unit"),t instanceof R){switch(t){case R.DAYS:return this.plusDays(e);case R.WEEKS:return this.plusWeeks(e);case R.MONTHS:return this.plusMonths(e);case R.YEARS:return this.plusYears(e);case R.DECADES:return this.plusYears(S.safeMultiply(e,10));case R.CENTURIES:return this.plusYears(S.safeMultiply(e,100));case R.MILLENNIA:return this.plusYears(S.safeMultiply(e,1e3));case R.ERAS:return this.with(M.ERA,S.safeAdd(this.getLong(M.ERA),e))}throw new d("Unsupported unit: "+t)}return t.addTo(this,e)},r.plusYears=function(e){if(0===e)return this;var r=M.YEAR.checkValidIntValue(this._year+e);return t._resolvePreviousValid(r,this._month,this._day)},r.plusMonths=function(e){if(0===e)return this;var r=12*this._year+(this._month-1)+e,n=M.YEAR.checkValidIntValue(S.floorDiv(r,12)),i=S.floorMod(r,12)+1;return t._resolvePreviousValid(n,i,this._day)},r.plusWeeks=function(e){return this.plusDays(S.safeMultiply(e,7))},r.plusDays=function(e){if(0===e)return this;var r=S.safeAdd(this.toEpochDay(),e);return t.ofEpochDay(r)},r._minusUnit=function(e,t){return v(e,"amountToSubtract"),v(t,"unit"),this._plusUnit(-1*e,t)},r.minusYears=function(e){return this.plusYears(-1*e)},r.minusMonths=function(e){return this.plusMonths(-1*e)},r.minusWeeks=function(e){return this.plusWeeks(-1*e)},r.minusDays=function(e){return this.plusDays(-1*e)},r.query=function(t){return(v(t,"query"),t===k.localDate())?this:e.prototype.query.call(this,t)},r.adjustInto=function(t){return e.prototype.adjustInto.call(this,t)},r.until=function(e,t){return arguments.length<2?this.until1(e):this.until2(e,t)},r.until2=function(e,r){var n=t.from(e);if(r instanceof R){switch(r){case R.DAYS:return this.daysUntil(n);case R.WEEKS:return S.intDiv(this.daysUntil(n),7);case R.MONTHS:return this._monthsUntil(n);case R.YEARS:return S.intDiv(this._monthsUntil(n),12);case R.DECADES:return S.intDiv(this._monthsUntil(n),120);case R.CENTURIES:return S.intDiv(this._monthsUntil(n),1200);case R.MILLENNIA:return S.intDiv(this._monthsUntil(n),12e3);case R.ERAS:return n.getLong(M.ERA)-this.getLong(M.ERA)}throw new d("Unsupported unit: "+r)}return r.between(this,n)},r.daysUntil=function(e){return e.toEpochDay()-this.toEpochDay()},r._monthsUntil=function(e){var t=32*this._prolepticMonth()+this.dayOfMonth(),r=32*e._prolepticMonth()+e.dayOfMonth();return S.intDiv(r-t,32)},r.until1=function(e){var r=t.from(e),n=r._prolepticMonth()-this._prolepticMonth(),i=r._day-this._day;if(n>0&&i<0){n--;var o=this.plusMonths(n);i=r.toEpochDay()-o.toEpochDay()}else n<0&&i>0&&(n++,i-=r.lengthOfMonth());var s=S.intDiv(n,12),a=S.intMod(n,12);return q.of(s,a,i)},r.atTime=function(){return 1==arguments.length?this.atTime1.apply(this,arguments):this.atTime4.apply(this,arguments)},r.atTime1=function(e){if(v(e,"time"),e instanceof e4)return e5.of(this,e);if(e instanceof eQ)return this._atTimeOffsetTime(e);throw new f("time must be an instance of LocalTime or OffsetTime"+(e&&e.constructor&&e.constructor.name?", but is "+e.constructor.name:""))},r.atTime4=function(e,t,r,n){return void 0===r&&(r=0),void 0===n&&(n=0),this.atTime1(e4.of(e,t,r,n))},r._atTimeOffsetTime=function(e){return e1.of(e5.of(this,e.toLocalTime()),e.offset())},r.atStartOfDay=function(e){return null!=e?this._atStartOfDayWithZone(e):e5.of(this,e4.MIDNIGHT)},r._atStartOfDayWithZone=function(e){v(e,"zone");var t=this.atTime(e4.MIDNIGHT);if(e instanceof J==!1){var r=e.rules().transition(t);null!=r&&r.isGap()&&(t=r.dateTimeAfter())}return e0.of(t,e)},r.toEpochDay=function(){var e,t=this._year,r=this._month;return e=0+365*t,t>=0?e+=S.intDiv(t+3,4)-S.intDiv(t+99,100)+S.intDiv(t+399,400):e-=S.intDiv(t,-4)-S.intDiv(t,-100)+S.intDiv(t,-400),e+=S.intDiv(367*r-362,12),e+=this.dayOfMonth()-1,r>2&&(e--,!eX.isLeapYear(t)&&e--),e-719528},r.compareTo=function(e){return v(e,"other"),b(e,t,"other"),this._compareTo0(e)},r._compareTo0=function(e){var t=this._year-e._year;return 0===t&&0==(t=this._month-e._month)&&(t=this._day-e._day),t},r.isAfter=function(e){return this.compareTo(e)>0},r.isBefore=function(e){return 0>this.compareTo(e)},r.isEqual=function(e){return 0===this.compareTo(e)},r.equals=function(e){return this===e||e instanceof t&&0===this._compareTo0(e)},r.hashCode=function(){var e=this._year,t=this._month,r=this._day;return S.hash(0xfffff800&e^(e<<11)+(t<<6)+r)},r.toString=function(){var e=this._year,t=this._month,r=this._day;return(1e3>Math.abs(e)?e<0?"-"+(""+(e-1e4)).slice(-4):(""+(e+1e4)).slice(-4):e>9999?"+"+e:""+e)+(t<10?"-0"+t:"-"+t)+(r<10?"-0"+r:"-"+r)},r.toJSON=function(){return this.toString()},r.format=function(t){return v(t,"formatter"),b(t,eH,"formatter"),e.prototype.format.call(this,t)},t}(z),e8=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.chronology=function(){return this.toLocalDate().chronology()},r.query=function(t){return t===k.chronology()?this.chronology():t===k.precision()?R.NANOS:t===k.localDate()?e2.ofEpochDay(this.toLocalDate().toEpochDay()):t===k.localTime()?this.toLocalTime():t===k.zone()||t===k.zoneId()||t===k.offset()?null:e.prototype.query.call(this,t)},r.adjustInto=function(e){return e.with(M.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(M.NANO_OF_DAY,this.toLocalTime().toNanoOfDay())},r.toInstant=function(e){return b(e,J,"zoneId"),e6.ofEpochSecond(this.toEpochSecond(e),this.toLocalTime().nano())},r.toEpochSecond=function(e){v(e,"offset");var t=86400*this.toLocalDate().toEpochDay()+this.toLocalTime().toSecondOfDay();return t-=e.totalSeconds(),S.safeToInt(t)},t}($),e5=function(e){function t(t,r){var n;return n=e.call(this)||this,b(t,e2,"date"),b(r,e4,"time"),n._date=t,n._time=r,n}g(t,e),t.now=function(e){return null==e?t._now(e3.systemDefaultZone()):e instanceof e3?t._now(e):t._now(e3.system(e))},t._now=function(e){return v(e,"clock"),t.ofInstant(e.instant(),e.zone())},t._ofEpochMillis=function(e,r){var n=S.floorDiv(e,1e3)+r.totalSeconds(),i=S.floorDiv(n,e4.SECONDS_PER_DAY),o=S.floorMod(n,e4.SECONDS_PER_DAY),s=1e6*S.floorMod(e,1e3);return new t(e2.ofEpochDay(i),e4.ofSecondOfDay(o,s))},t.of=function(){return arguments.length<=2?t.ofDateAndTime.apply(this,arguments):t.ofNumbers.apply(this,arguments)},t.ofNumbers=function(e,r,n,i,o,s,a){return void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),new t(e2.of(e,r,n),e4.of(i,o,s,a))},t.ofDateAndTime=function(e,r){return v(e,"date"),v(r,"time"),new t(e,r)},t.ofInstant=function(e,r){void 0===r&&(r=G.systemDefault()),v(e,"instant"),b(e,e6,"instant"),v(r,"zone");var n=r.rules().offset(e);return t.ofEpochSecond(e.epochSecond(),e.nano(),n)},t.ofEpochSecond=function(e,r,n){void 0===e&&(e=0),void 0===r&&(r=0),2==arguments.length&&r instanceof J&&(n=r,r=0),v(n,"offset");var i=e+n.totalSeconds(),o=S.floorDiv(i,e4.SECONDS_PER_DAY),s=S.floorMod(i,e4.SECONDS_PER_DAY);return new t(e2.ofEpochDay(o),e4.ofSecondOfDay(s,r))},t.from=function(e){if(v(e,"temporal"),e instanceof t)return e;if(e instanceof e0)return e.toLocalDateTime();try{var r=e2.from(e),n=e4.from(e);return new t(r,n)}catch(t){throw new c("Unable to obtain LocalDateTime TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""))}},t.parse=function(e,r){return void 0===r&&(r=eH.ISO_LOCAL_DATE_TIME),v(r,"formatter"),r.parse(e,t.FROM)};var r=t.prototype;return r._withDateTime=function(e,r){return this._date.equals(e)&&this._time.equals(r)?this:new t(e,r)},r.isSupported=function(e){return e instanceof M?e.isDateBased()||e.isTimeBased():e instanceof R?e.isDateBased()||e.isTimeBased():null!=e&&e.isSupportedBy(this)},r.range=function(e){return e instanceof M?e.isTimeBased()?this._time.range(e):this._date.range(e):e.rangeRefinedBy(this)},r.get=function(t){return t instanceof M?t.isTimeBased()?this._time.get(t):this._date.get(t):e.prototype.get.call(this,t)},r.getLong=function(e){return(v(e,"field"),e instanceof M)?e.isTimeBased()?this._time.getLong(e):this._date.getLong(e):e.getFrom(this)},r.year=function(){return this._date.year()},r.monthValue=function(){return this._date.monthValue()},r.month=function(){return this._date.month()},r.dayOfMonth=function(){return this._date.dayOfMonth()},r.dayOfYear=function(){return this._date.dayOfYear()},r.dayOfWeek=function(){return this._date.dayOfWeek()},r.hour=function(){return this._time.hour()},r.minute=function(){return this._time.minute()},r.second=function(){return this._time.second()},r.nano=function(){return this._time.nano()},r._withAdjuster=function(r){return(v(r,"adjuster"),r instanceof e2)?this._withDateTime(r,this._time):r instanceof e4?this._withDateTime(this._date,r):r instanceof t?r:e.prototype._withAdjuster.call(this,r)},r._withField=function(e,t){return(v(e,"field"),e instanceof M)?e.isTimeBased()?this._withDateTime(this._date,this._time.with(e,t)):this._withDateTime(this._date.with(e,t),this._time):e.adjustInto(this,t)},r.withYear=function(e){return this._withDateTime(this._date.withYear(e),this._time)},r.withMonth=function(e){return this._withDateTime(this._date.withMonth(e),this._time)},r.withDayOfMonth=function(e){return this._withDateTime(this._date.withDayOfMonth(e),this._time)},r.withDayOfYear=function(e){return this._withDateTime(this._date.withDayOfYear(e),this._time)},r.withHour=function(e){var t=this._time.withHour(e);return this._withDateTime(this._date,t)},r.withMinute=function(e){var t=this._time.withMinute(e);return this._withDateTime(this._date,t)},r.withSecond=function(e){var t=this._time.withSecond(e);return this._withDateTime(this._date,t)},r.withNano=function(e){var t=this._time.withNano(e);return this._withDateTime(this._date,t)},r.truncatedTo=function(e){return this._withDateTime(this._date,this._time.truncatedTo(e))},r._plusUnit=function(e,t){if(v(t,"unit"),t instanceof R){switch(t){case R.NANOS:return this.plusNanos(e);case R.MICROS:return this.plusDays(S.intDiv(e,e4.MICROS_PER_DAY)).plusNanos(1e3*S.intMod(e,e4.MICROS_PER_DAY));case R.MILLIS:return this.plusDays(S.intDiv(e,e4.MILLIS_PER_DAY)).plusNanos(1e6*S.intMod(e,e4.MILLIS_PER_DAY));case R.SECONDS:return this.plusSeconds(e);case R.MINUTES:return this.plusMinutes(e);case R.HOURS:return this.plusHours(e);case R.HALF_DAYS:return this.plusDays(S.intDiv(e,256)).plusHours(12*S.intMod(e,256))}return this._withDateTime(this._date.plus(e,t),this._time)}return t.addTo(this,e)},r.plusYears=function(e){var t=this._date.plusYears(e);return this._withDateTime(t,this._time)},r.plusMonths=function(e){var t=this._date.plusMonths(e);return this._withDateTime(t,this._time)},r.plusWeeks=function(e){var t=this._date.plusWeeks(e);return this._withDateTime(t,this._time)},r.plusDays=function(e){var t=this._date.plusDays(e);return this._withDateTime(t,this._time)},r.plusHours=function(e){return this._plusWithOverflow(this._date,e,0,0,0,1)},r.plusMinutes=function(e){return this._plusWithOverflow(this._date,0,e,0,0,1)},r.plusSeconds=function(e){return this._plusWithOverflow(this._date,0,0,e,0,1)},r.plusNanos=function(e){return this._plusWithOverflow(this._date,0,0,0,e,1)},r._minusUnit=function(e,t){return v(t,"unit"),this._plusUnit(-1*e,t)},r.minusYears=function(e){return this.plusYears(-1*e)},r.minusMonths=function(e){return this.plusMonths(-1*e)},r.minusWeeks=function(e){return this.plusWeeks(-1*e)},r.minusDays=function(e){return this.plusDays(-1*e)},r.minusHours=function(e){return this._plusWithOverflow(this._date,e,0,0,0,-1)},r.minusMinutes=function(e){return this._plusWithOverflow(this._date,0,e,0,0,-1)},r.minusSeconds=function(e){return this._plusWithOverflow(this._date,0,0,e,0,-1)},r.minusNanos=function(e){return this._plusWithOverflow(this._date,0,0,0,e,-1)},r._plusWithOverflow=function(e,t,r,n,i,o){if(0===t&&0===r&&0===n&&0===i)return this._withDateTime(e,this._time);var s=S.intDiv(i,e4.NANOS_PER_DAY)+S.intDiv(n,e4.SECONDS_PER_DAY)+S.intDiv(r,e4.MINUTES_PER_DAY)+S.intDiv(t,e4.HOURS_PER_DAY);s*=o;var a=S.intMod(i,e4.NANOS_PER_DAY)+S.intMod(n,e4.SECONDS_PER_DAY)*e4.NANOS_PER_SECOND+S.intMod(r,e4.MINUTES_PER_DAY)*e4.NANOS_PER_MINUTE+S.intMod(t,e4.HOURS_PER_DAY)*e4.NANOS_PER_HOUR,l=this._time.toNanoOfDay();a=a*o+l,s+=S.floorDiv(a,e4.NANOS_PER_DAY);var c=S.floorMod(a,e4.NANOS_PER_DAY),u=c===l?this._time:e4.ofNanoOfDay(c);return this._withDateTime(e.plusDays(s),u)},r.query=function(t){return(v(t,"query"),t===k.localDate())?this.toLocalDate():e.prototype.query.call(this,t)},r.adjustInto=function(t){return e.prototype.adjustInto.call(this,t)},r.until=function(e,r){v(e,"endExclusive"),v(r,"unit");var n=t.from(e);if(r instanceof R){if(r.isTimeBased()){var i=this._date.daysUntil(n._date),o=n._time.toNanoOfDay()-this._time.toNanoOfDay();i>0&&o<0?(i--,o+=e4.NANOS_PER_DAY):i<0&&o>0&&(i++,o-=e4.NANOS_PER_DAY);var s=i;switch(r){case R.NANOS:return s=S.safeMultiply(s,e4.NANOS_PER_DAY),S.safeAdd(s,o);case R.MICROS:return s=S.safeMultiply(s,e4.MICROS_PER_DAY),S.safeAdd(s,S.intDiv(o,1e3));case R.MILLIS:return s=S.safeMultiply(s,e4.MILLIS_PER_DAY),S.safeAdd(s,S.intDiv(o,1e6));case R.SECONDS:return s=S.safeMultiply(s,e4.SECONDS_PER_DAY),S.safeAdd(s,S.intDiv(o,e4.NANOS_PER_SECOND));case R.MINUTES:return s=S.safeMultiply(s,e4.MINUTES_PER_DAY),S.safeAdd(s,S.intDiv(o,e4.NANOS_PER_MINUTE));case R.HOURS:return s=S.safeMultiply(s,e4.HOURS_PER_DAY),S.safeAdd(s,S.intDiv(o,e4.NANOS_PER_HOUR));case R.HALF_DAYS:return s=S.safeMultiply(s,2),S.safeAdd(s,S.intDiv(o,12*e4.NANOS_PER_HOUR))}throw new d("Unsupported unit: "+r)}var a=n._date,l=n._time;return a.isAfter(this._date)&&l.isBefore(this._time)?a=a.minusDays(1):a.isBefore(this._date)&&l.isAfter(this._time)&&(a=a.plusDays(1)),this._date.until(a,r)}return r.between(this,n)},r.atOffset=function(e){return e1.of(this,e)},r.atZone=function(e){return e0.of(this,e)},r.toLocalDate=function(){return this._date},r.toLocalTime=function(){return this._time},r.compareTo=function(e){return v(e,"other"),b(e,t,"other"),this._compareTo0(e)},r._compareTo0=function(e){var t=this._date.compareTo(e.toLocalDate());return 0===t&&(t=this._time.compareTo(e.toLocalTime())),t},r.isAfter=function(e){return this.compareTo(e)>0},r.isBefore=function(e){return 0>this.compareTo(e)},r.isEqual=function(e){return 0===this.compareTo(e)},r.equals=function(e){return this===e||e instanceof t&&this._date.equals(e._date)&&this._time.equals(e._time)},r.hashCode=function(){return this._date.hashCode()^this._time.hashCode()},r.toString=function(){return this._date.toString()+"T"+this._time.toString()},r.toJSON=function(){return this.toString()},r.format=function(e){return v(e,"formatter"),e.format(this)},t}(e8),e4=function(e){function t(r,n,i,o){void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0),s=e.call(this)||this;var s,a=S.safeToInt(r),l=S.safeToInt(n),c=S.safeToInt(i),u=S.safeToInt(o);return(t._validate(a,l,c,u),0===l&&0===c&&0===u)?(t.HOURS[a]||(s._hour=a,s._minute=l,s._second=c,s._nano=u,t.HOURS[a]=_(s)),t.HOURS[a]||_(s)):(s._hour=a,s._minute=l,s._second=c,s._nano=u,s)}g(t,e),t.now=function(e){return null==e?t._now(e3.systemDefaultZone()):e instanceof e3?t._now(e):t._now(e3.system(e))},t._now=function(e){return void 0===e&&(e=e3.systemDefaultZone()),v(e,"clock"),t.ofInstant(e.instant(),e.zone())},t.ofInstant=function(e,r){void 0===r&&(r=G.systemDefault());var n=r.rules().offset(e),i=S.intMod(e.epochSecond(),t.SECONDS_PER_DAY);return(i=S.intMod(i+n.totalSeconds(),t.SECONDS_PER_DAY))<0&&(i+=t.SECONDS_PER_DAY),t.ofSecondOfDay(i,e.nano())},t.of=function(e,r,n,i){return new t(e,r,n,i)},t.ofSecondOfDay=function(e,r){void 0===e&&(e=0),void 0===r&&(r=0),M.SECOND_OF_DAY.checkValidValue(e),M.NANO_OF_SECOND.checkValidValue(r);var n=S.intDiv(e,t.SECONDS_PER_HOUR);e-=n*t.SECONDS_PER_HOUR;var i=S.intDiv(e,t.SECONDS_PER_MINUTE);return e-=i*t.SECONDS_PER_MINUTE,new t(n,i,e,r)},t.ofNanoOfDay=function(e){void 0===e&&(e=0),M.NANO_OF_DAY.checkValidValue(e);var r=S.intDiv(e,t.NANOS_PER_HOUR);e-=r*t.NANOS_PER_HOUR;var n=S.intDiv(e,t.NANOS_PER_MINUTE);e-=n*t.NANOS_PER_MINUTE;var i=S.intDiv(e,t.NANOS_PER_SECOND);return e-=i*t.NANOS_PER_SECOND,new t(r,n,i,e)},t.from=function(e){v(e,"temporal");var t=e.query(k.localTime());if(null==t)throw new c("Unable to obtain LocalTime TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""));return t},t.parse=function(e,r){return void 0===r&&(r=eH.ISO_LOCAL_TIME),v(r,"formatter"),r.parse(e,t.FROM)},t._validate=function(e,t,r,n){M.HOUR_OF_DAY.checkValidValue(e),M.MINUTE_OF_HOUR.checkValidValue(t),M.SECOND_OF_MINUTE.checkValidValue(r),M.NANO_OF_SECOND.checkValidValue(n)};var r=t.prototype;return r.isSupported=function(e){return e instanceof M?e.isTimeBased():e instanceof R?e.isTimeBased():null!=e&&e.isSupportedBy(this)},r.range=function(t){return v(t),e.prototype.range.call(this,t)},r.get=function(e){return this.getLong(e)},r.getLong=function(e){return(v(e,"field"),e instanceof M)?this._get0(e):e.getFrom(this)},r._get0=function(e){switch(e){case M.NANO_OF_SECOND:return this._nano;case M.NANO_OF_DAY:return this.toNanoOfDay();case M.MICRO_OF_SECOND:return S.intDiv(this._nano,1e3);case M.MICRO_OF_DAY:return S.intDiv(this.toNanoOfDay(),1e3);case M.MILLI_OF_SECOND:return S.intDiv(this._nano,1e6);case M.MILLI_OF_DAY:return S.intDiv(this.toNanoOfDay(),1e6);case M.SECOND_OF_MINUTE:return this._second;case M.SECOND_OF_DAY:return this.toSecondOfDay();case M.MINUTE_OF_HOUR:return this._minute;case M.MINUTE_OF_DAY:return 60*this._hour+this._minute;case M.HOUR_OF_AMPM:return S.intMod(this._hour,12);case M.CLOCK_HOUR_OF_AMPM:var t=S.intMod(this._hour,12);return t%12==0?12:t;case M.HOUR_OF_DAY:return this._hour;case M.CLOCK_HOUR_OF_DAY:return 0===this._hour?24:this._hour;case M.AMPM_OF_DAY:return S.intDiv(this._hour,12)}throw new d("Unsupported field: "+e)},r.hour=function(){return this._hour},r.minute=function(){return this._minute},r.second=function(){return this._second},r.nano=function(){return this._nano},r._withAdjuster=function(r){return(v(r,"adjuster"),r instanceof t)?r:e.prototype._withAdjuster.call(this,r)},r._withField=function(e,r){if(v(e,"field"),b(e,P,"field"),e instanceof M){switch(e.checkValidValue(r),e){case M.NANO_OF_SECOND:return this.withNano(r);case M.NANO_OF_DAY:return t.ofNanoOfDay(r);case M.MICRO_OF_SECOND:return this.withNano(1e3*r);case M.MICRO_OF_DAY:return t.ofNanoOfDay(1e3*r);case M.MILLI_OF_SECOND:return this.withNano(1e6*r);case M.MILLI_OF_DAY:return t.ofNanoOfDay(1e6*r);case M.SECOND_OF_MINUTE:return this.withSecond(r);case M.SECOND_OF_DAY:return this.plusSeconds(r-this.toSecondOfDay());case M.MINUTE_OF_HOUR:return this.withMinute(r);case M.MINUTE_OF_DAY:return this.plusMinutes(r-(60*this._hour+this._minute));case M.HOUR_OF_AMPM:return this.plusHours(r-S.intMod(this._hour,12));case M.CLOCK_HOUR_OF_AMPM:return this.plusHours((12===r?0:r)-S.intMod(this._hour,12));case M.HOUR_OF_DAY:return this.withHour(r);case M.CLOCK_HOUR_OF_DAY:return this.withHour(24===r?0:r);case M.AMPM_OF_DAY:return this.plusHours((r-S.intDiv(this._hour,12))*12)}throw new d("Unsupported field: "+e)}return e.adjustInto(this,r)},r.withHour=function(e){return(void 0===e&&(e=0),this._hour===e)?this:new t(e,this._minute,this._second,this._nano)},r.withMinute=function(e){return(void 0===e&&(e=0),this._minute===e)?this:new t(this._hour,e,this._second,this._nano)},r.withSecond=function(e){return(void 0===e&&(e=0),this._second===e)?this:new t(this._hour,this._minute,e,this._nano)},r.withNano=function(e){return(void 0===e&&(e=0),this._nano===e)?this:new t(this._hour,this._minute,this._second,e)},r.truncatedTo=function(e){if(v(e,"unit"),e===R.NANOS)return this;var r=e.duration();if(r.seconds()>t.SECONDS_PER_DAY)throw new c("Unit is too large to be used for truncation");var n=r.toNanos();if(0!==S.intMod(t.NANOS_PER_DAY,n))throw new c("Unit must divide into a standard day without remainder");var i=this.toNanoOfDay();return t.ofNanoOfDay(S.intDiv(i,n)*n)},r._plusUnit=function(e,r){if(v(r,"unit"),r instanceof R){switch(r){case R.NANOS:return this.plusNanos(e);case R.MICROS:return this.plusNanos(1e3*S.intMod(e,t.MICROS_PER_DAY));case R.MILLIS:return this.plusNanos(1e6*S.intMod(e,t.MILLIS_PER_DAY));case R.SECONDS:return this.plusSeconds(e);case R.MINUTES:return this.plusMinutes(e);case R.HOURS:return this.plusHours(e);case R.HALF_DAYS:return this.plusHours(12*S.intMod(e,2))}throw new d("Unsupported unit: "+r)}return r.addTo(this,e)},r.plusHours=function(e){if(0===e)return this;var r=S.intMod(S.intMod(e,t.HOURS_PER_DAY)+this._hour+t.HOURS_PER_DAY,t.HOURS_PER_DAY);return new t(r,this._minute,this._second,this._nano)},r.plusMinutes=function(e){if(0===e)return this;var r=this._hour*t.MINUTES_PER_HOUR+this._minute,n=S.intMod(S.intMod(e,t.MINUTES_PER_DAY)+r+t.MINUTES_PER_DAY,t.MINUTES_PER_DAY);if(r===n)return this;var i=S.intDiv(n,t.MINUTES_PER_HOUR),o=S.intMod(n,t.MINUTES_PER_HOUR);return new t(i,o,this._second,this._nano)},r.plusSeconds=function(e){if(0===e)return this;var r=this._hour*t.SECONDS_PER_HOUR+this._minute*t.SECONDS_PER_MINUTE+this._second,n=S.intMod(S.intMod(e,t.SECONDS_PER_DAY)+r+t.SECONDS_PER_DAY,t.SECONDS_PER_DAY);if(r===n)return this;var i=S.intDiv(n,t.SECONDS_PER_HOUR),o=S.intMod(S.intDiv(n,t.SECONDS_PER_MINUTE),t.MINUTES_PER_HOUR),s=S.intMod(n,t.SECONDS_PER_MINUTE);return new t(i,o,s,this._nano)},r.plusNanos=function(e){if(0===e)return this;var r=this.toNanoOfDay(),n=S.intMod(S.intMod(e,t.NANOS_PER_DAY)+r+t.NANOS_PER_DAY,t.NANOS_PER_DAY);if(r===n)return this;var i=S.intDiv(n,t.NANOS_PER_HOUR),o=S.intMod(S.intDiv(n,t.NANOS_PER_MINUTE),t.MINUTES_PER_HOUR),s=S.intMod(S.intDiv(n,t.NANOS_PER_SECOND),t.SECONDS_PER_MINUTE),a=S.intMod(n,t.NANOS_PER_SECOND);return new t(i,o,s,a)},r._minusUnit=function(e,t){return v(t,"unit"),this._plusUnit(-1*e,t)},r.minusHours=function(e){return this.plusHours(-1*S.intMod(e,t.HOURS_PER_DAY))},r.minusMinutes=function(e){return this.plusMinutes(-1*S.intMod(e,t.MINUTES_PER_DAY))},r.minusSeconds=function(e){return this.plusSeconds(-1*S.intMod(e,t.SECONDS_PER_DAY))},r.minusNanos=function(e){return this.plusNanos(-1*S.intMod(e,t.NANOS_PER_DAY))},r.query=function(e){return(v(e,"query"),e===k.precision())?R.NANOS:e===k.localTime()?this:e===k.chronology()||e===k.zoneId()||e===k.zone()||e===k.offset()||e===k.localDate()?null:e.queryFrom(this)},r.adjustInto=function(e){return e.with(t.NANO_OF_DAY,this.toNanoOfDay())},r.until=function(e,r){v(e,"endExclusive"),v(r,"unit");var n=t.from(e);if(r instanceof R){var i=n.toNanoOfDay()-this.toNanoOfDay();switch(r){case R.NANOS:return i;case R.MICROS:return S.intDiv(i,1e3);case R.MILLIS:return S.intDiv(i,1e6);case R.SECONDS:return S.intDiv(i,t.NANOS_PER_SECOND);case R.MINUTES:return S.intDiv(i,t.NANOS_PER_MINUTE);case R.HOURS:return S.intDiv(i,t.NANOS_PER_HOUR);case R.HALF_DAYS:return S.intDiv(i,12*t.NANOS_PER_HOUR)}throw new d("Unsupported unit: "+r)}return r.between(this,n)},r.atDate=function(e){return e5.of(e,this)},r.atOffset=function(e){return eQ.of(this,e)},r.toSecondOfDay=function(){var e=this._hour*t.SECONDS_PER_HOUR;return e+=this._minute*t.SECONDS_PER_MINUTE,e+=this._second},r.toNanoOfDay=function(){var e=this._hour*t.NANOS_PER_HOUR;return e+=this._minute*t.NANOS_PER_MINUTE,e+=this._second*t.NANOS_PER_SECOND,e+=this._nano},r.compareTo=function(e){v(e,"other"),b(e,t,"other");var r=S.compareNumbers(this._hour,e._hour);return 0===r&&0===(r=S.compareNumbers(this._minute,e._minute))&&0===(r=S.compareNumbers(this._second,e._second))&&(r=S.compareNumbers(this._nano,e._nano)),r},r.isAfter=function(e){return this.compareTo(e)>0},r.isBefore=function(e){return 0>this.compareTo(e)},r.equals=function(e){return this===e||e instanceof t&&this._hour===e._hour&&this._minute===e._minute&&this._second===e._second&&this._nano===e._nano},r.hashCode=function(){var e=this.toNanoOfDay();return S.hash(e)},r.toString=function(){var e="",t=this._hour,r=this._minute,n=this._second,i=this._nano;return e+=t<10?"0":"",e+=t,e+=r<10?":0":":",e+=r,(n>0||i>0)&&(e+=n<10?":0":":",e+=n,i>0&&(e+=".",0===S.intMod(i,1e6)?e+=(""+(S.intDiv(i,1e6)+1e3)).substring(1):0===S.intMod(i,1e3)?e+=(""+(S.intDiv(i,1e3)+1e6)).substring(1):e+=(""+(i+1e9)).substring(1))),e},r.toJSON=function(){return this.toString()},r.format=function(e){return v(e,"formatter"),e.format(this)},t}($);e4.HOURS_PER_DAY=24,e4.MINUTES_PER_HOUR=60,e4.MINUTES_PER_DAY=e4.MINUTES_PER_HOUR*e4.HOURS_PER_DAY,e4.SECONDS_PER_MINUTE=60,e4.SECONDS_PER_HOUR=e4.SECONDS_PER_MINUTE*e4.MINUTES_PER_HOUR,e4.SECONDS_PER_DAY=e4.SECONDS_PER_HOUR*e4.HOURS_PER_DAY,e4.MILLIS_PER_DAY=1e3*e4.SECONDS_PER_DAY,e4.MICROS_PER_DAY=1e6*e4.SECONDS_PER_DAY,e4.NANOS_PER_SECOND=1e9,e4.NANOS_PER_MINUTE=e4.NANOS_PER_SECOND*e4.SECONDS_PER_MINUTE,e4.NANOS_PER_HOUR=e4.NANOS_PER_MINUTE*e4.MINUTES_PER_HOUR,e4.NANOS_PER_DAY=e4.NANOS_PER_HOUR*e4.HOURS_PER_DAY;var e6=function(e){function t(r,n){var i;return i=e.call(this)||this,t._validate(r,n),i._seconds=S.safeToInt(r),i._nanos=S.safeToInt(n),i}g(t,e),t.now=function(e){return void 0===e&&(e=e3.systemUTC()),e.instant()},t.ofEpochSecond=function(e,r){void 0===r&&(r=0);var n=e+S.floorDiv(r,e4.NANOS_PER_SECOND),i=S.floorMod(r,e4.NANOS_PER_SECOND);return t._create(n,i)},t.ofEpochMilli=function(e){var r=S.floorDiv(e,1e3),n=S.floorMod(e,1e3);return t._create(r,1e6*n)},t.ofEpochMicro=function(e){var r=S.floorDiv(e,1e6),n=S.floorMod(e,1e6);return t._create(r,1e3*n)},t.from=function(e){try{var r=e.getLong(M.INSTANT_SECONDS),n=e.get(M.NANO_OF_SECOND);return t.ofEpochSecond(r,n)}catch(t){throw new c("Unable to obtain Instant from TemporalAccessor: "+e+", type "+typeof e,t)}},t.parse=function(e){return eH.ISO_INSTANT.parse(e,t.FROM)},t._create=function(e,r){return 0===e&&0===r?t.EPOCH:new t(e,r)},t._validate=function(e,r){if(e<t.MIN_SECONDS||e>t.MAX_SECONDS||r<0||r>e4.NANOS_PER_SECOND)throw new c("Instant exceeds minimum or maximum instant")};var r=t.prototype;return r.isSupported=function(e){return e instanceof M?e===M.INSTANT_SECONDS||e===M.NANO_OF_SECOND||e===M.MICRO_OF_SECOND||e===M.MILLI_OF_SECOND:e instanceof R?e.isTimeBased()||e===R.DAYS:null!=e&&e.isSupportedBy(this)},r.range=function(t){return e.prototype.range.call(this,t)},r.get=function(e){return this.getLong(e)},r.getLong=function(e){if(e instanceof M){switch(e){case M.NANO_OF_SECOND:return this._nanos;case M.MICRO_OF_SECOND:return S.intDiv(this._nanos,1e3);case M.MILLI_OF_SECOND:return S.intDiv(this._nanos,1e6);case M.INSTANT_SECONDS:return this._seconds}throw new d("Unsupported field: "+e)}return e.getFrom(this)},r.epochSecond=function(){return this._seconds},r.nano=function(){return this._nanos},r._withField=function(e,r){if(v(e,"field"),e instanceof M){switch(e.checkValidValue(r),e){case M.MILLI_OF_SECOND:var n=1e6*r;return n!==this._nanos?t._create(this._seconds,n):this;case M.MICRO_OF_SECOND:var i=1e3*r;return i!==this._nanos?t._create(this._seconds,i):this;case M.NANO_OF_SECOND:return r!==this._nanos?t._create(this._seconds,r):this;case M.INSTANT_SECONDS:return r!==this._seconds?t._create(r,this._nanos):this}throw new d("Unsupported field: "+e)}return e.adjustInto(this,r)},r.truncatedTo=function(e){if(v(e,"unit"),e===R.NANOS)return this;var t=e.duration();if(t.seconds()>e4.SECONDS_PER_DAY)throw new c("Unit is too large to be used for truncation");var r=t.toNanos();if(0!==S.intMod(e4.NANOS_PER_DAY,r))throw new c("Unit must divide into a standard day without remainder");var n=S.intMod(this._seconds,e4.SECONDS_PER_DAY)*e4.NANOS_PER_SECOND+this._nanos,i=S.intDiv(n,r)*r;return this.plusNanos(i-n)},r._plusUnit=function(e,t){if(v(e,"amountToAdd"),v(t,"unit"),b(t,O),t instanceof R){switch(t){case R.NANOS:return this.plusNanos(e);case R.MICROS:return this.plusMicros(e);case R.MILLIS:return this.plusMillis(e);case R.SECONDS:return this.plusSeconds(e);case R.MINUTES:return this.plusSeconds(S.safeMultiply(e,e4.SECONDS_PER_MINUTE));case R.HOURS:return this.plusSeconds(S.safeMultiply(e,e4.SECONDS_PER_HOUR));case R.HALF_DAYS:return this.plusSeconds(S.safeMultiply(e,e4.SECONDS_PER_DAY/2));case R.DAYS:return this.plusSeconds(S.safeMultiply(e,e4.SECONDS_PER_DAY))}throw new d("Unsupported unit: "+t)}return t.addTo(this,e)},r.plusSeconds=function(e){return this._plus(e,0)},r.plusMillis=function(e){return this._plus(S.intDiv(e,1e3),1e6*S.intMod(e,1e3))},r.plusNanos=function(e){return this._plus(0,e)},r.plusMicros=function(e){return this._plus(S.intDiv(e,1e6),1e3*S.intMod(e,1e6))},r._plus=function(e,r){if(0===e&&0===r)return this;var n=this._seconds+e;n+=S.intDiv(r,e4.NANOS_PER_SECOND);var i=this._nanos+r%e4.NANOS_PER_SECOND;return t.ofEpochSecond(n,i)},r._minusUnit=function(e,t){return this._plusUnit(-1*e,t)},r.minusSeconds=function(e){return this.plusSeconds(-1*e)},r.minusMillis=function(e){return this.plusMillis(-1*e)},r.minusNanos=function(e){return this.plusNanos(-1*e)},r.minusMicros=function(e){return this.plusMicros(-1*e)},r.query=function(e){return(v(e,"query"),e===k.precision())?R.NANOS:e===k.localDate()||e===k.localTime()||e===k.chronology()||e===k.zoneId()||e===k.zone()||e===k.offset()?null:e.queryFrom(this)},r.adjustInto=function(e){return v(e,"temporal"),e.with(M.INSTANT_SECONDS,this._seconds).with(M.NANO_OF_SECOND,this._nanos)},r.until=function(e,r){v(e,"endExclusive"),v(r,"unit");var n=t.from(e);if(r instanceof R){switch(r){case R.NANOS:return this._nanosUntil(n);case R.MICROS:return this._microsUntil(n);case R.MILLIS:return S.safeSubtract(n.toEpochMilli(),this.toEpochMilli());case R.SECONDS:return this._secondsUntil(n);case R.MINUTES:return S.intDiv(this._secondsUntil(n),e4.SECONDS_PER_MINUTE);case R.HOURS:return S.intDiv(this._secondsUntil(n),e4.SECONDS_PER_HOUR);case R.HALF_DAYS:return S.intDiv(this._secondsUntil(n),12*e4.SECONDS_PER_HOUR);case R.DAYS:return S.intDiv(this._secondsUntil(n),e4.SECONDS_PER_DAY)}throw new d("Unsupported unit: "+r)}return r.between(this,n)},r._microsUntil=function(e){var t=S.safeSubtract(e.epochSecond(),this.epochSecond()),r=S.safeMultiply(t,1e6);return S.safeAdd(r,S.intDiv(e.nano()-this.nano(),1e3))},r._nanosUntil=function(e){var t=S.safeSubtract(e.epochSecond(),this.epochSecond()),r=S.safeMultiply(t,e4.NANOS_PER_SECOND);return S.safeAdd(r,e.nano()-this.nano())},r._secondsUntil=function(e){var t=S.safeSubtract(e.epochSecond(),this.epochSecond()),r=e.nano()-this.nano();return t>0&&r<0?t--:t<0&&r>0&&t++,t},r.atOffset=function(e){return e1.ofInstant(this,e)},r.atZone=function(e){return e0.ofInstant(this,e)},r.toEpochMilli=function(){return S.safeMultiply(this._seconds,1e3)+S.intDiv(this._nanos,1e6)},r.compareTo=function(e){v(e,"otherInstant"),b(e,t,"otherInstant");var r=S.compareNumbers(this._seconds,e._seconds);return 0!==r?r:this._nanos-e._nanos},r.isAfter=function(e){return this.compareTo(e)>0},r.isBefore=function(e){return 0>this.compareTo(e)},r.equals=function(e){return this===e||e instanceof t&&this.epochSecond()===e.epochSecond()&&this.nano()===e.nano()},r.hashCode=function(){return S.hashCode(this._seconds,this._nanos)},r.toString=function(){return eH.ISO_INSTANT.format(this)},r.toJSON=function(){return this.toString()},t}($),e3=function(){function e(){}e.systemUTC=function(){return new e9(J.UTC)},e.systemDefaultZone=function(){return new e9(G.systemDefault())},e.system=function(e){return new e9(e)},e.fixed=function(e,t){return new e7(e,t)},e.offset=function(e,t){return new te(e,t)};var t=e.prototype;return t.millis=function(){T("Clock.millis")},t.instant=function(){T("Clock.instant")},t.zone=function(){T("Clock.zone")},t.withZone=function(){T("Clock.withZone")},e}(),e9=function(e){function t(t){var r;return v(t,"zone"),(r=e.call(this)||this)._zone=t,r}g(t,e);var r=t.prototype;return r.zone=function(){return this._zone},r.millis=function(){return new Date().getTime()},r.instant=function(){return e6.ofEpochMilli(this.millis())},r.equals=function(e){return e instanceof t&&this._zone.equals(e._zone)},r.withZone=function(e){return e.equals(this._zone)?this:new t(e)},r.toString=function(){return"SystemClock["+this._zone.toString()+"]"},t}(e3),e7=function(e){function t(t,r){var n;return(n=e.call(this)||this)._instant=t,n._zoneId=r,n}g(t,e);var r=t.prototype;return r.instant=function(){return this._instant},r.millis=function(){return this._instant.toEpochMilli()},r.zone=function(){return this._zoneId},r.toString=function(){return"FixedClock[]"},r.equals=function(e){return e instanceof t&&this._instant.equals(e._instant)&&this._zoneId.equals(e._zoneId)},r.withZone=function(e){return e.equals(this._zoneId)?this:new t(this._instant,e)},t}(e3),te=function(e){function t(t,r){var n;return(n=e.call(this)||this)._baseClock=t,n._offset=r,n}g(t,e);var r=t.prototype;return r.zone=function(){return this._baseClock.zone()},r.withZone=function(e){return e.equals(this._baseClock.zone())?this:new t(this._baseClock.withZone(e),this._offset)},r.millis=function(){return this._baseClock.millis()+this._offset.toMillis()},r.instant=function(){return this._baseClock.instant().plus(this._offset)},r.equals=function(e){return e instanceof t&&this._baseClock.equals(e._baseClock)&&this._offset.equals(e._offset)},r.toString=function(){return"OffsetClock["+this._baseClock+","+this._offset+"]"},t}(e3),tt=function(){function e(e,t,r){if(v(e,"transition"),v(t,"offsetBefore"),v(r,"offsetAfter"),t.equals(r))throw new f("Offsets must not be equal");if(0!==e.nano())throw new f("Nano-of-second must be zero");e instanceof e5?this._transition=e:this._transition=e5.ofEpochSecond(e,0,t),this._offsetBefore=t,this._offsetAfter=r}e.of=function(t,r,n){return new e(t,r,n)};var t=e.prototype;return t.instant=function(){return this._transition.toInstant(this._offsetBefore)},t.toEpochSecond=function(){return this._transition.toEpochSecond(this._offsetBefore)},t.dateTimeBefore=function(){return this._transition},t.dateTimeAfter=function(){return this._transition.plusSeconds(this.durationSeconds())},t.offsetBefore=function(){return this._offsetBefore},t.offsetAfter=function(){return this._offsetAfter},t.duration=function(){return I.ofSeconds(this.durationSeconds())},t.durationSeconds=function(){return this._offsetAfter.totalSeconds()-this._offsetBefore.totalSeconds()},t.isGap=function(){return this._offsetAfter.totalSeconds()>this._offsetBefore.totalSeconds()},t.isOverlap=function(){return this._offsetAfter.totalSeconds()<this._offsetBefore.totalSeconds()},t.isValidOffset=function(e){return!this.isGap()&&(this._offsetBefore.equals(e)||this._offsetAfter.equals(e))},t.validOffsets=function(){return this.isGap()?[]:[this._offsetBefore,this._offsetAfter]},t.compareTo=function(e){return this.instant().compareTo(e.instant())},t.equals=function(t){return t===this||t instanceof e&&this._transition.equals(t._transition)&&this._offsetBefore.equals(t.offsetBefore())&&this._offsetAfter.equals(t.offsetAfter())},t.hashCode=function(){return this._transition.hashCode()^this._offsetBefore.hashCode()^this._offsetAfter.hashCode()>>>16},t.toString=function(){return"Transition["+(this.isGap()?"Gap":"Overlap")+" at "+this._transition.toString()+this._offsetBefore.toString()+" to "+this._offsetAfter+"]"},e}(),tr=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.isFixedOffset=function(){return!1},r.offsetOfInstant=function(e){var t=new Date(e.toEpochMilli()).getTimezoneOffset();return J.ofTotalMinutes(-1*t)},r.offsetOfEpochMilli=function(e){var t=new Date(e).getTimezoneOffset();return J.ofTotalMinutes(-1*t)},r.offsetOfLocalDateTime=function(e){var t=1e3*e.toEpochSecond(J.UTC),r=new Date(t).getTimezoneOffset(),n=new Date(t+6e4*r).getTimezoneOffset();return J.ofTotalMinutes(-1*n)},r.validOffsets=function(e){return[this.offsetOfLocalDateTime(e)]},r.transition=function(){return null},r.standardOffset=function(e){return this.offsetOfInstant(e)},r.daylightSavings=function(){this._throwNotSupported()},r.isDaylightSavings=function(){this._throwNotSupported()},r.isValidOffset=function(e,t){return this.offsetOfLocalDateTime(e).equals(t)},r.nextTransition=function(){this._throwNotSupported()},r.previousTransition=function(){this._throwNotSupported()},r.transitions=function(){this._throwNotSupported()},r.transitionRules=function(){this._throwNotSupported()},r._throwNotSupported=function(){throw new c("not supported operation")},r.equals=function(e){return this===e||e instanceof t},r.toString=function(){return"SYSTEM"},t}(K),tn=function(e){function t(){var t;return(t=e.call(this)||this)._rules=new tr,t}g(t,e);var r=t.prototype;return r.rules=function(){return this._rules},r.equals=function(e){return this===e},r.id=function(){return"SYSTEM"},t}(G),ti=function(){function e(){}return e.systemDefault=function(){return to},e.getAvailableZoneIds=function(){return eD.getAvailableZoneIds()},e.of=function(e){if(v(e,"zoneId"),"Z"===e)return J.UTC;if(1===e.length)throw new c("Invalid zone: "+e);if(W.startsWith(e,"+")||W.startsWith(e,"-"))return J.of(e);if("UTC"===e||"GMT"===e||"GMT0"===e||"UT"===e)return new eM(e,J.UTC.rules());if(W.startsWith(e,"UTC+")||W.startsWith(e,"GMT+")||W.startsWith(e,"UTC-")||W.startsWith(e,"GMT-")){var t=J.of(e.substring(3));return 0===t.totalSeconds()?new eM(e.substring(0,3),t.rules()):new eM(e.substring(0,3)+t.id(),t.rules())}if(W.startsWith(e,"UT+")||W.startsWith(e,"UT-")){var r=J.of(e.substring(2));return 0===r.totalSeconds()?new eM("UT",r.rules()):new eM("UT"+r.id(),r.rules())}return"SYSTEM"===e?G.systemDefault():eM.ofId(e)},e.ofOffset=function(e,t){if(v(e,"prefix"),v(t,"offset"),0===e.length)return t;if("GMT"===e||"UTC"===e||"UT"===e)return 0===t.totalSeconds()?new eM(e,t.rules()):new eM(e+t.id(),t.rules());throw new f("Invalid prefix, must be GMT, UTC or UT: "+e)},e.from=function(e){v(e,"temporal");var t=e.query(k.zone());if(null==t)throw new c("Unable to obtain ZoneId from TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""));return t},e}(),to=null,ts=!1;N.MIN_VALUE=-999999,N.MAX_VALUE=999999,I.ZERO=new I(0,0),R.NANOS=new R("Nanos",I.ofNanos(1)),R.MICROS=new R("Micros",I.ofNanos(1e3)),R.MILLIS=new R("Millis",I.ofNanos(1e6)),R.SECONDS=new R("Seconds",I.ofSeconds(1)),R.MINUTES=new R("Minutes",I.ofSeconds(60)),R.HOURS=new R("Hours",I.ofSeconds(3600)),R.HALF_DAYS=new R("HalfDays",I.ofSeconds(43200)),R.DAYS=new R("Days",I.ofSeconds(86400)),R.WEEKS=new R("Weeks",I.ofSeconds(604800)),R.MONTHS=new R("Months",I.ofSeconds(2629746)),R.YEARS=new R("Years",I.ofSeconds(0x1e18558)),R.DECADES=new R("Decades",I.ofSeconds(0x12cf3570)),R.CENTURIES=new R("Centuries",I.ofSeconds(0xbc181660)),R.MILLENNIA=new R("Millennia",I.ofSeconds(31556952e3)),R.ERAS=new R("Eras",I.ofSeconds(0x1e18558*(N.MAX_VALUE+1))),R.FOREVER=new R("Forever",I.ofSeconds(S.MAX_SAFE_INTEGER,0x3b9ac9ff)),M.NANO_OF_SECOND=new M("NanoOfSecond",R.NANOS,R.SECONDS,D.of(0,0x3b9ac9ff)),M.NANO_OF_DAY=new M("NanoOfDay",R.NANOS,R.DAYS,D.of(0,0x4e94914effff)),M.MICRO_OF_SECOND=new M("MicroOfSecond",R.MICROS,R.SECONDS,D.of(0,999999)),M.MICRO_OF_DAY=new M("MicroOfDay",R.MICROS,R.DAYS,D.of(0,0x141dd75fff)),M.MILLI_OF_SECOND=new M("MilliOfSecond",R.MILLIS,R.SECONDS,D.of(0,999)),M.MILLI_OF_DAY=new M("MilliOfDay",R.MILLIS,R.DAYS,D.of(0,0x5265bff)),M.SECOND_OF_MINUTE=new M("SecondOfMinute",R.SECONDS,R.MINUTES,D.of(0,59)),M.SECOND_OF_DAY=new M("SecondOfDay",R.SECONDS,R.DAYS,D.of(0,86399)),M.MINUTE_OF_HOUR=new M("MinuteOfHour",R.MINUTES,R.HOURS,D.of(0,59)),M.MINUTE_OF_DAY=new M("MinuteOfDay",R.MINUTES,R.DAYS,D.of(0,1439)),M.HOUR_OF_AMPM=new M("HourOfAmPm",R.HOURS,R.HALF_DAYS,D.of(0,11)),M.CLOCK_HOUR_OF_AMPM=new M("ClockHourOfAmPm",R.HOURS,R.HALF_DAYS,D.of(1,12)),M.HOUR_OF_DAY=new M("HourOfDay",R.HOURS,R.DAYS,D.of(0,23)),M.CLOCK_HOUR_OF_DAY=new M("ClockHourOfDay",R.HOURS,R.DAYS,D.of(1,24)),M.AMPM_OF_DAY=new M("AmPmOfDay",R.HALF_DAYS,R.DAYS,D.of(0,1)),M.DAY_OF_WEEK=new M("DayOfWeek",R.DAYS,R.WEEKS,D.of(1,7)),M.ALIGNED_DAY_OF_WEEK_IN_MONTH=new M("AlignedDayOfWeekInMonth",R.DAYS,R.WEEKS,D.of(1,7)),M.ALIGNED_DAY_OF_WEEK_IN_YEAR=new M("AlignedDayOfWeekInYear",R.DAYS,R.WEEKS,D.of(1,7)),M.DAY_OF_MONTH=new M("DayOfMonth",R.DAYS,R.MONTHS,D.of(1,28,31),"day"),M.DAY_OF_YEAR=new M("DayOfYear",R.DAYS,R.YEARS,D.of(1,365,366)),M.EPOCH_DAY=new M("EpochDay",R.DAYS,R.FOREVER,D.of(-0x15d021be,0x15ba2ddb)),M.ALIGNED_WEEK_OF_MONTH=new M("AlignedWeekOfMonth",R.WEEKS,R.MONTHS,D.of(1,4,5)),M.ALIGNED_WEEK_OF_YEAR=new M("AlignedWeekOfYear",R.WEEKS,R.YEARS,D.of(1,53)),M.MONTH_OF_YEAR=new M("MonthOfYear",R.MONTHS,R.YEARS,D.of(1,12),"month"),M.PROLEPTIC_MONTH=new M("ProlepticMonth",R.MONTHS,R.FOREVER,D.of(12*N.MIN_VALUE,12*N.MAX_VALUE+11)),M.YEAR_OF_ERA=new M("YearOfEra",R.YEARS,R.FOREVER,D.of(1,N.MAX_VALUE,N.MAX_VALUE+1)),M.YEAR=new M("Year",R.YEARS,R.FOREVER,D.of(N.MIN_VALUE,N.MAX_VALUE),"year"),M.ERA=new M("Era",R.ERAS,R.FOREVER,D.of(0,1)),M.INSTANT_SECONDS=new M("InstantSeconds",R.SECONDS,R.FOREVER,D.of(-0x1fffffffffffff,0x1fffffffffffff)),M.OFFSET_SECONDS=new M("OffsetSeconds",R.SECONDS,R.FOREVER,D.of(-64800,64800)),function(){e4.HOURS=[];for(var e=0;e<24;e++)e4.of(e,0,0,0);e4.MIN=e4.HOURS[0],e4.MAX=new e4(23,59,59,0x3b9ac9ff),e4.MIDNIGHT=e4.HOURS[0],e4.NOON=e4.HOURS[12],e4.FROM=x("LocalTime.FROM",function(e){return e4.from(e)})}(),eh=new ea,ef=new el,ep=new ec,em=new eu,eg=new ed("WeekBasedYears",I.ofSeconds(0x1e18558)),ey=new ed("QuarterYears",I.ofSeconds(7889238)),ei.DAY_OF_QUARTER=eh,ei.QUARTER_OF_YEAR=ef,ei.WEEK_OF_WEEK_BASED_YEAR=ep,ei.WEEK_BASED_YEAR=em,ei.WEEK_BASED_YEARS=eg,ei.QUARTER_YEARS=ey,e2.prototype.isoWeekOfWeekyear=function(){return this.get(ei.WEEK_OF_WEEK_BASED_YEAR)},e2.prototype.isoWeekyear=function(){return this.get(ei.WEEK_BASED_YEAR)},k.ZONE_ID=x("ZONE_ID",function(e){return e.query(k.ZONE_ID)}),k.CHRONO=x("CHRONO",function(e){return e.query(k.CHRONO)}),k.PRECISION=x("PRECISION",function(e){return e.query(k.PRECISION)}),k.OFFSET=x("OFFSET",function(e){return e.isSupported(M.OFFSET_SECONDS)?J.ofTotalSeconds(e.get(M.OFFSET_SECONDS)):null}),k.ZONE=x("ZONE",function(e){var t=e.query(k.ZONE_ID);return null!=t?t:e.query(k.OFFSET)}),k.LOCAL_DATE=x("LOCAL_DATE",function(e){return e.isSupported(M.EPOCH_DAY)?e2.ofEpochDay(e.getLong(M.EPOCH_DAY)):null}),k.LOCAL_TIME=x("LOCAL_TIME",function(e){return e.isSupported(M.NANO_OF_DAY)?e4.ofNanoOfDay(e.getLong(M.NANO_OF_DAY)):null}),F.MONDAY=new F(0,"MONDAY"),F.TUESDAY=new F(1,"TUESDAY"),F.WEDNESDAY=new F(2,"WEDNESDAY"),F.THURSDAY=new F(3,"THURSDAY"),F.FRIDAY=new F(4,"FRIDAY"),F.SATURDAY=new F(5,"SATURDAY"),F.SUNDAY=new F(6,"SUNDAY"),F.FROM=x("DayOfWeek.FROM",function(e){return F.from(e)}),i=[F.MONDAY,F.TUESDAY,F.WEDNESDAY,F.THURSDAY,F.FRIDAY,F.SATURDAY,F.SUNDAY],e6.MIN_SECONDS=-0x1cc1e65e8200,e6.MAX_SECONDS=0x1ca4f5580eff,e6.EPOCH=new e6(0,0),e6.MIN=e6.ofEpochSecond(e6.MIN_SECONDS,0),e6.MAX=e6.ofEpochSecond(e6.MAX_SECONDS,0x3b9ac9ff),e6.FROM=x("Instant.FROM",function(e){return e6.from(e)}),e2.MIN=e2.of(N.MIN_VALUE,1,1),e2.MAX=e2.of(N.MAX_VALUE,12,31),e2.EPOCH_0=e2.ofEpochDay(0),e2.FROM=x("LocalDate.FROM",function(e){return e2.from(e)}),e5.MIN=e5.of(e2.MIN,e4.MIN),e5.MAX=e5.of(e2.MAX,e4.MAX),e5.FROM=x("LocalDateTime.FROM",function(e){return e5.from(e)}),e$.MIN_VALUE=N.MIN_VALUE,e$.MAX_VALUE=N.MAX_VALUE,l=new eF().appendValue(M.YEAR,4,10,eE.EXCEEDS_PAD).toFormatter(),e$.FROM=x("Year.FROM",function(e){return e$.from(e)}),B.JANUARY=new B(1,"JANUARY"),B.FEBRUARY=new B(2,"FEBRUARY"),B.MARCH=new B(3,"MARCH"),B.APRIL=new B(4,"APRIL"),B.MAY=new B(5,"MAY"),B.JUNE=new B(6,"JUNE"),B.JULY=new B(7,"JULY"),B.AUGUST=new B(8,"AUGUST"),B.SEPTEMBER=new B(9,"SEPTEMBER"),B.OCTOBER=new B(10,"OCTOBER"),B.NOVEMBER=new B(11,"NOVEMBER"),B.DECEMBER=new B(12,"DECEMBER"),o=[B.JANUARY,B.FEBRUARY,B.MARCH,B.APRIL,B.MAY,B.JUNE,B.JULY,B.AUGUST,B.SEPTEMBER,B.OCTOBER,B.NOVEMBER,B.DECEMBER],a=new eF().appendValue(M.YEAR,4,10,eE.EXCEEDS_PAD).appendLiteral("-").appendValue(M.MONTH_OF_YEAR,2).toFormatter(),eV.FROM=x("YearMonth.FROM",function(e){return eV.from(e)}),s=new eF().appendLiteral("--").appendValue(M.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(M.DAY_OF_MONTH,2).toFormatter(),eY.FROM=x("MonthDay.FROM",function(e){return eY.from(e)}),q.ofDays(0),J.MAX_SECONDS=18*e4.SECONDS_PER_HOUR,J.UTC=J.ofTotalSeconds(0),J.MIN=J.ofTotalSeconds(-J.MAX_SECONDS),J.MAX=J.ofTotalSeconds(J.MAX_SECONDS),e0.FROM=x("ZonedDateTime.FROM",function(e){return e0.from(e)}),to=new tn,G.systemDefault=ti.systemDefault,G.getAvailableZoneIds=ti.getAvailableZoneIds,G.of=ti.of,G.ofOffset=ti.ofOffset,G.from=ti.from,J.from=ti.from,G.SYSTEM=to,G.UTC=J.ofTotalSeconds(0),eX.INSTANCE=new eX("IsoChronology"),eH.ISO_LOCAL_DATE=new eF().appendValue(M.YEAR,4,10,eE.EXCEEDS_PAD).appendLiteral("-").appendValue(M.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(M.DAY_OF_MONTH,2).toFormatter(V.STRICT).withChronology(eX.INSTANCE),eH.ISO_LOCAL_TIME=new eF().appendValue(M.HOUR_OF_DAY,2).appendLiteral(":").appendValue(M.MINUTE_OF_HOUR,2).optionalStart().appendLiteral(":").appendValue(M.SECOND_OF_MINUTE,2).optionalStart().appendFraction(M.NANO_OF_SECOND,0,9,!0).toFormatter(V.STRICT),eH.ISO_LOCAL_DATE_TIME=new eF().parseCaseInsensitive().append(eH.ISO_LOCAL_DATE).appendLiteral("T").append(eH.ISO_LOCAL_TIME).toFormatter(V.STRICT).withChronology(eX.INSTANCE),eH.ISO_INSTANT=new eF().parseCaseInsensitive().appendInstant().toFormatter(V.STRICT),eH.ISO_OFFSET_DATE_TIME=new eF().parseCaseInsensitive().append(eH.ISO_LOCAL_DATE_TIME).appendOffsetId().toFormatter(V.STRICT).withChronology(eX.INSTANCE),eH.ISO_ZONED_DATE_TIME=new eF().append(eH.ISO_OFFSET_DATE_TIME).optionalStart().appendLiteral("[").parseCaseSensitive().appendZoneId().appendLiteral("]").toFormatter(V.STRICT).withChronology(eX.INSTANCE),eH.BASIC_ISO_DATE=new eF().appendValue(M.YEAR,4,10,eE.EXCEEDS_PAD).appendValue(M.MONTH_OF_YEAR,2).appendValue(M.DAY_OF_MONTH,2).toFormatter(V.STRICT).withChronology(eX.INSTANCE),eH.ISO_OFFSET_DATE=new eF().parseCaseInsensitive().append(eH.ISO_LOCAL_DATE).appendOffsetId().toFormatter(V.STRICT).withChronology(eX.INSTANCE),eH.ISO_OFFSET_TIME=new eF().parseCaseInsensitive().append(eH.ISO_LOCAL_TIME).appendOffsetId().toFormatter(V.STRICT).withChronology(eX.INSTANCE),eH.ISO_ORDINAL_DATE=new eF().appendValue(M.YEAR,4,10,eE.EXCEEDS_PAD).appendLiteral("-").appendValue(M.DAY_OF_YEAR).toFormatter(V.STRICT),eH.ISO_WEEK_DATE=new eF().appendValue(M.YEAR,4,10,eE.EXCEEDS_PAD).appendLiteral("-W").appendValue(M.ALIGNED_WEEK_OF_YEAR).appendLiteral("-").appendValue(M.DAY_OF_WEEK).toFormatter(V.STRICT),eH.ISO_DATE=new eF().parseCaseInsensitive().append(eH.ISO_LOCAL_DATE).optionalStart().appendOffsetId().optionalEnd().toFormatter(V.STRICT).withChronology(eX.INSTANCE),eH.ISO_TIME=new eF().parseCaseInsensitive().append(eH.ISO_LOCAL_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(V.STRICT),eH.ISO_DATE_TIME=new eF().append(eH.ISO_LOCAL_DATE_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(V.STRICT).withChronology(eX.INSTANCE),eH.PARSED_EXCESS_DAYS=x("PARSED_EXCESS_DAYS",function(e){return e instanceof ee?e.excessDays:q.ZERO}),eH.PARSED_LEAP_SECOND=x("PARSED_LEAP_SECOND",function(e){return e instanceof ee&&e.leapSecond}),eC.BASE_DATE=e2.of(2e3,1,1),eF.CompositePrinterParser=eT,eF.PadPrinterParserDecorator=eN,eF.SettingsParser=eR,eF.CharLiteralPrinterParser=eP,eF.StringLiteralPrinterParser=eP,eF.CharLiteralPrinterParser=eb,eF.NumberPrinterParser=eA,eF.ReducedPrinterParser=eC,eF.FractionPrinterParser=ew,eF.OffsetIdPrinterParser=eI,eF.ZoneIdPrinterParser=ek,e1.MIN=e5.MIN.atOffset(J.MAX),e1.MAX=e5.MAX.atOffset(J.MIN),e1.FROM=x("OffsetDateTime.FROM",function(e){return e1.from(e)}),eQ.MIN=eQ.ofNumbers(0,0,0,0,J.MAX),eQ.MAX=eQ.ofNumbers(23,59,59,0x3b9ac9ff,J.MIN),eQ.FROM=x("OffsetTime.FROM",function(e){return eQ.from(e)});var ta=function(){function e(e,t){var r;if(e instanceof e6){this.instant=e;return}if(e instanceof e2)t=null==t?G.systemDefault():t,r=e.atStartOfDay(t);else if(e instanceof e5)t=null==t?G.systemDefault():t,r=e.atZone(t);else if(e instanceof e0)r=null==t?e:e.withZoneSameInstant(t);else throw new f("unsupported instance for convert operation:"+e);this.instant=r.toInstant()}var t=e.prototype;return t.toDate=function(){return new Date(this.instant.toEpochMilli())},t.toEpochMilli=function(){return this.instant.toEpochMilli()},e}();function tl(e,t){return new ta(e,t)}function tc(e,t){if(void 0===t&&(t=G.systemDefault()),v(e,"date"),v(t,"zone"),e instanceof Date)return e6.ofEpochMilli(e.getTime()).atZone(t);if("function"==typeof e.toDate&&e.toDate()instanceof Date)return e6.ofEpochMilli(e.toDate().getTime()).atZone(t);throw new f("date must be a javascript Date or a moment instance")}var tu={assert:w,DateTimeBuilder:ee,DateTimeParseContext:et,DateTimePrintContext:en,MathUtil:S,StringUtil:W,StringBuilder:eq},td={_:tu,convert:tl,nativeJs:tc,ArithmeticException:h,DateTimeException:c,DateTimeParseException:u,IllegalArgumentException:f,IllegalStateException:p,UnsupportedTemporalTypeException:d,NullPointerException:m,Clock:e3,DayOfWeek:F,Duration:I,Instant:e6,LocalDate:e2,LocalTime:e4,LocalDateTime:e5,OffsetTime:eQ,OffsetDateTime:e1,Month:B,MonthDay:eY,ParsePosition:H,Period:q,Year:e$,YearConstants:N,YearMonth:eV,ZonedDateTime:e0,ZoneOffset:J,ZoneId:G,ZoneRegion:eM,ZoneOffsetTransition:tt,ZoneRules:K,ZoneRulesProvider:eD,ChronoLocalDate:z,ChronoLocalDateTime:e8,ChronoZonedDateTime:eJ,IsoChronology:eX,ChronoField:M,ChronoUnit:R,IsoFields:ei,Temporal:$,TemporalAccessor:L,TemporalAdjuster:ez,TemporalAdjusters:eW,TemporalAmount:C,TemporalField:P,TemporalQueries:k,TemporalQuery:U,TemporalUnit:O,ValueRange:D,DateTimeFormatter:eH,DateTimeFormatterBuilder:eF,DecimalStyle:e_,ResolverStyle:V,SignStyle:eE,TextStyle:ev},th=function(e){var t=[];return function(r){return~t.indexOf(r)||(r(e),t.push(r)),e}}(td);td.use=th},85610:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildConnectionString=void 0,t.buildConnectionString=function(e){return Object.entries(e).map(([e,t])=>(function(e,t){if(null==t)return[e,""];if("boolean"==typeof t)return[e,t?"Yes":"No"];{var r;let n=t.toString();return!function(e){if("{"!==e[0])return!1;for(let t=1;t<e.length;t++)if("}"===e[t]){if(t+1===e.length)return!0;if("}"!==e[t+1])break;t++}return!1}(n)&&(null===(r=n.match(/\[|]|{|}|\|\(|\)|,|;|\?|\*|=|!|@/))||void 0===r?void 0:r.length)?[e,`{${n.replace(/}/g,"}}")}}`]:[e,n]}})(e.trim(),t).join("=")).join(";")}},87822:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseSqlConnectionString=t.parseConnectionString=void 0;let s=o(r(3406));t.parseConnectionString=s.default;let a=o(r(43799));t.parseSqlConnectionString=a.default,i(r(85610),t)},3406:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.key=0]="key",e[e.value=1]="value"}(r||(r={}));let n=Object.freeze({key:{terminator:"=",quotes:{}},value:{terminator:";",quotes:{'"':'"',"'":"'","{":"}"}}});t.default=function(e,t=n){let i={},o=r.key,s=!1,a=!1,l=!1,c="",u="",d="",h=0;function f(){return o===r.key?t.key:t.value}function p(e){return f().terminator===e}function m(){switch(l||(u=u.trim()),o){case r.key:d=u.toLowerCase(),o=r.value;break;case r.value:o=r.key,i[d]=u,d=""}s=!1,a=!1,l=!1,c="",u=""}for(;h<e.length;){let t=e.charAt(h);if(a){if(p(t))m();else if(t.trim())throw Error("Malformed connection string")}else s?l&&l&&t===f().quotes[c]?t===e.charAt(h+1)?(u+=t,h++):a=!0:!l&&p(t)?t===e.charAt(h+1)?(u+=t,h++):m():u+=t:t.trim()&&((s=!0,function(e){return Object.keys(f().quotes).some(t=>e===t)}(t))?(l=!0,c=t):u+=t);h++}if(l&&!a)throw Error("Connection string terminated unexpectedly");return m(),i}},43799:function(e,t,r){"use strict";var n,i,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SCHEMA=t.SchemaTypes=void 0;let s=o(r(3406));function a(e,t,r){if(r){let t=r(e);if(null!==t)return t}switch(t){case i.BOOL:if(["true","yes","1"].includes(e.toLowerCase()))return!0;if(["false","no","0"].includes(e.toLowerCase()))return!1;break;case i.NUMBER:return parseInt(e,10)}return e}(n=i=t.SchemaTypes||(t.SchemaTypes={}))[n.BOOL=0]="BOOL",n[n.STRING=1]="STRING",n[n.NUMBER=2]="NUMBER",t.SCHEMA={"Application Name":{type:i.STRING,aliases:["App"],validator:e=>"string"==typeof e&&e.length<=128},ApplicationIntent:{type:i.STRING,allowedValues:["ReadOnly","ReadWrite"],default:"ReadWrite"},"Asynchronous Processing":{type:i.BOOL,default:!1,aliases:["Async"]},AttachDBFilename:{type:i.STRING,aliases:["Extended Properties","Initial File Name"]},Authentication:{type:i.STRING,allowedValues:["Active Directory Integrated","Active Directory Password","Sql Password"]},"Column Encryption Setting":{type:i.STRING},"Connection Timeout":{type:i.NUMBER,aliases:["Connect Timeout","Timeout"],default:15},"Connection Lifetime":{type:i.NUMBER,aliases:["Load Balance Timeout"],default:0},ConnectRetryCount:{type:i.NUMBER,default:1,validator:e=>e>0&&e<=255},ConnectRetryInterval:{type:i.NUMBER,default:10},"Context Connection":{type:i.BOOL,default:!1},"Current Language":{aliases:["Language"],type:i.STRING,validator:e=>"string"==typeof e&&e.length<=128},"Data Source":{aliases:["Addr","Address","Server","Network Address"],type:i.STRING},Encrypt:{type:i.BOOL,default:!1},Enlist:{type:i.BOOL,default:!0},"Failover Partner":{type:i.STRING},"Initial Catalog":{type:i.STRING,aliases:["Database"],validator:e=>"string"==typeof e&&e.length<=128},"Integrated Security":{type:i.BOOL,aliases:["Trusted_Connection"],coerce:e=>"sspi"===e||null},"Max Pool Size":{type:i.NUMBER,default:100,validator:e=>e>=1},"Min Pool Size":{type:i.NUMBER,default:0,validator:e=>e>=0},MultipleActiveResultSets:{type:i.BOOL,default:!1},MultiSubnetFailover:{type:i.BOOL,default:!1},"Network Library":{type:i.STRING,aliases:["Network","Net"],allowedValues:["dbnmpntw","dbmsrpcn","dbmsadsn","dbmsgnet","dbmslpcn","dbmsspxn","dbmssocn","Dbmsvinn"]},"Packet Size":{type:i.NUMBER,default:8e3,validator:e=>e>=512&&e<=32768},Password:{type:i.STRING,aliases:["PWD"],validator:e=>"string"==typeof e&&e.length<=128},"Persist Security Info":{type:i.BOOL,aliases:["PersistSecurityInfo"],default:!1},PoolBlockingPeriod:{type:i.NUMBER,default:0,coerce(e){if("string"!=typeof e)return null;switch(e.toLowerCase()){case"alwaysblock":return 1;case"auto":return 0;case"neverblock":return 2}return null}},Pooling:{type:i.BOOL,default:!0},Replication:{type:i.BOOL,default:!1},"Transaction Binding":{type:i.STRING,allowedValues:["Implicit Unbind","Explicit Unbind"],default:"Implicit Unbind"},TransparentNetworkIPResolution:{type:i.BOOL,default:!0},TrustServerCertificate:{type:i.BOOL,default:!1},"Type System Version":{type:i.STRING,allowedValues:["SQL Server 2012","SQL Server 2008","SQL Server 2005","Latest"]},"User ID":{type:i.STRING,aliases:["UID"],validator:e=>"string"==typeof e&&e.length<=128},"User Instance":{type:i.BOOL,default:!1},"Workstation ID":{type:i.STRING,aliases:["WSID"],validator:e=>"string"==typeof e&&e.length<=128}},t.default=function(e,r=!1,n=!1,o=!1,l=t.SCHEMA){let c=Object.entries(l).reduce((e,[t,r])=>{var n;return Object.assign(e,{[t.toLowerCase()]:r}),(null===(n=r.aliases)||void 0===n?void 0:n.reduce((e,n)=>Object.assign(e,{[n.toLowerCase()]:{...r,canonical:t.toLowerCase()}}),e))||e},{});return Object.entries((0,s.default)(e)).reduce((e,[t,n])=>{var s,l,u;let d;if(!Object.prototype.hasOwnProperty.call(c,t))return Object.assign(e,{[t]:a(n,function(e){if(""===e.trim())return i.STRING;let t=parseInt(e,10);return Number.isNaN(t)||t.toString()!==e?["true","false","yes","no"].includes(e.toLowerCase())?i.BOOL:i.STRING:i.NUMBER}(n))});let h=a(n,c[t].type,c[t].coerce);return o&&(s=h,l=c[t].allowedValues,u=c[t].validator,d=!0,u&&(d=u(s)),d&&(d=(null==l?void 0:l.includes(s))||!1),!d)&&(h=c[t].default),Object.assign(e,{[r&&c[t].canonical||t]:h})},{})}},25152:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(52172);class AbortSignal extends n.EventTarget{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=i.get(this);if("boolean"!=typeof e)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}}n.defineEventAttribute(AbortSignal.prototype,"abort");let i=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class o{constructor(){s.set(this,function(){let e=Object.create(AbortSignal.prototype);return n.EventTarget.call(e),i.set(e,!1),e}())}get signal(){return a(this)}abort(){var e;e=a(this),!1===i.get(e)&&(i.set(e,!0),e.dispatchEvent({type:"abort"}))}}let s=new WeakMap;function a(e){let t=s.get(e);if(null==t)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===e?"null":typeof e}`);return t}Object.defineProperties(o.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(o.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),t.AbortController=o,t.AbortSignal=AbortSignal,t.default=o,e.exports=o,e.exports.AbortController=e.exports.default=o,e.exports.AbortSignal=AbortSignal},53448:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.json=t.toBuffer=void 0;let s=o(r(81630)),a=o(r(55591));async function l(e){let t=0,r=[];for await(let n of e)t+=n.length,r.push(n);return Buffer.concat(r,t)}async function c(e){let t=(await l(e)).toString("utf8");try{return JSON.parse(t)}catch(e){throw e.message+=` (input: ${t})`,e}}t.toBuffer=l,t.json=c,t.req=function(e,t={}){let r=(("string"==typeof e?e:e.href).startsWith("https:")?a:s).request(e,t),n=new Promise((e,t)=>{r.once("response",e).once("error",t).end()});return r.then=n.then.bind(n),r}},98957:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Agent=void 0;let a=o(r(91645)),l=o(r(81630)),c=r(55591);s(r(53448),t);let u=Symbol("AgentBaseInternalState");class d extends l.Agent{constructor(e){super(e),this[u]={}}isSecureEndpoint(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}let{stack:t}=Error();return"string"==typeof t&&t.split("\n").some(e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:"))}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let t=new a.Socket({writable:!1});return this.sockets[e].push(t),this.totalSocketCount++,t}decrementSockets(e,t){if(!this.sockets[e]||null===t)return;let r=this.sockets[e],n=r.indexOf(t);-1!==n&&(r.splice(n,1),this.totalSocketCount--,0===r.length&&delete this.sockets[e])}getName(e){return("boolean"==typeof e.secureEndpoint?e.secureEndpoint:this.isSecureEndpoint(e))?c.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,t,r){let n={...t,secureEndpoint:this.isSecureEndpoint(t)},i=this.getName(n),o=this.incrementSockets(i);Promise.resolve().then(()=>this.connect(e,n)).then(s=>{if(this.decrementSockets(i,o),s instanceof l.Agent)try{return s.addRequest(e,n)}catch(e){return r(e)}this[u].currentSocket=s,super.createSocket(e,t,r)},e=>{this.decrementSockets(i,o),r(e)})}createConnection(){let e=this[u].currentSocket;if(this[u].currentSocket=void 0,!e)throw Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[u].defaultPort??("https:"===this.protocol?443:80)}set defaultPort(e){this[u]&&(this[u].defaultPort=e)}get protocol(){return this[u].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[u]&&(this[u].protocol=e)}}t.Agent=d},36733:(e,t,r)=>{"use strict";let{Buffer:n}=r(79428),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){let n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},o.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let e=0;e<t;e++)r+=this._bufs[e].length;return r},o.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length||i<=0)return e||n.alloc(0);let o=!!e,s=this._offset(r),a=i-r,l=a,c=o&&t||0,u=s[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,c),c+=this._bufs[t].length;return e}if(l<=this._bufs[s[0]].length-u)return o?this._bufs[s[0]].copy(e,t,u,u+l):this._bufs[s[0]].slice(u,u+l);o||(e=n.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){let r=this._bufs[t].length-u;if(l>r)this._bufs[t].copy(e,c,u),c+=r;else{this._bufs[t].copy(e,c,u,u+l),c+=r;break}l-=r,u&&(u=0)}return e.length>c?e.slice(0,c):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},o.prototype.consume=function(e){if(Number.isNaN(e=Math.trunc(e))||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this},o.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=n.from([e]):"string"==typeof e?e=n.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),isNaN(t=Number(t||0))&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;let i=this._offset(t),o=i[0],s=i[1];for(;o<this._bufs.length;o++){let t=this._bufs[o];for(;s<t.length;)if(t.length-s>=e.length){let r=t.indexOf(e,s);if(-1!==r)return this._reverseOffset([o,r]);s=t.length-e.length+1}else{let t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}s=0}return -1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)!function(t){null===e[t]?o.prototype[t]=function(e,r){return this.slice(e,e+r)[t](0,r)}:o.prototype[t]=function(r=0){return this.slice(r,r+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},e.exports=o},83573:(e,t,r)=>{"use strict";let n=r(97842).Duplex,i=r(19905),o=r(36733);function s(e){if(!(this instanceof s))return new s(e);if("function"==typeof e){this._callback=e;let t=(function(e){this._callback&&(this._callback(e),this._callback=null)}).bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)}),e=null}o._init.call(this,e),n.call(this)}i(s,n),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=o},24653:(e,t,r)=>{"use strict";var n=r(79428).Buffer,i=r(79428).SlowBuffer;function o(e,t){if(!n.isBuffer(e)||!n.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}e.exports=o,o.install=function(){n.prototype.equal=i.prototype.equal=function(e){return o(this,e)}};var s=n.prototype.equal,a=i.prototype.equal;o.restore=function(){n.prototype.equal=s,i.prototype.equal=a}},15401:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(8824)(t);let{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},8824:(e,t,r)=>{e.exports=function(e){function t(e){let r,i,o;let s=null;function a(...e){if(!a.enabled)return;let n=Number(new Date),i=n-(r||n);a.diff=i,a.prev=r,a.curr=n,r=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return"%";o++;let i=t.formatters[n];if("function"==typeof i){let t=e[o];r=i.call(a,t),e.splice(o,1),o--}return r}),t.formatArgs.call(a,e),(a.log||t.log).apply(a,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){let n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e,t){let r=0,n=0,i=-1,o=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,o=r):r++,n++;else{if(-1===i)return!1;n=i+1,r=++o}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){for(let r of(t.save(e),t.namespaces=e,t.names=[],t.skips=[],("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean)))"-"===r[0]?t.skips.push(r.slice(1)):t.names.push(r)},t.enabled=function(e){for(let r of t.skips)if(i(e,r))return!1;for(let r of t.names)if(i(e,r))return!0;return!1},t.humanize=r(83337),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},23481:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=r(15401):e.exports=r(54897)},54897:(e,t,r)=>{let n=r(83997),i=r(28354);t.init=function(e){e.inspectOpts={};let r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(i.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(r){let{namespace:n,useColors:i}=this;if(i){let t=this.color,i="\x1b[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${n} \u001B[0m`;r[0]=o+r[0].split("\n").join("\n"+o),r.push(i+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else r[0]=(t.inspectOpts.hideDate?"":new Date().toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)},t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=r(23203);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(8824)(t);let{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},37846:(e,t,r)=>{"use strict";var n=r(95957).Buffer,i=r(82371);function o(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function s(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=o(e);var r=i(t),s=r+1,a=e.length,l=0;if(48!==e[l++])throw Error('Could not find expected "seq"');var c=e[l++];if(129===c&&(c=e[l++]),a-l<c)throw Error('"seq" specified length of "'+c+'", only "'+(a-l)+'" remaining');if(2!==e[l++])throw Error('Could not find expected "int" for "r"');var u=e[l++];if(a-l-2<u)throw Error('"r" specified length of "'+u+'", only "'+(a-l-2)+'" available');if(s<u)throw Error('"r" specified length of "'+u+'", max of "'+s+'" is acceptable');var d=l;if(l+=u,2!==e[l++])throw Error('Could not find expected "int" for "s"');var h=e[l++];if(a-l!==h)throw Error('"s" specified length of "'+h+'", expected "'+(a-l)+'"');if(s<h)throw Error('"s" specified length of "'+h+'", max of "'+s+'" is acceptable');var f=l;if((l+=h)!==a)throw Error('Expected to consume entire buffer, but "'+(a-l)+'" bytes remain');var p=r-u,m=r-h,g=n.allocUnsafe(p+u+m+h);for(l=0;l<p;++l)g[l]=0;e.copy(g,l,d+Math.max(-p,0),d+u),l=r;for(var y=l;l<y+m;++l)g[l]=0;return e.copy(g,l,f+Math.max(-m,0),f+h),g=(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=o(e);var r=i(t),a=e.length;if(a!==2*r)throw TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+a+'"');var l=s(e,0,r),c=s(e,r,e.length),u=r-l,d=r-c,h=2+u+1+1+d,f=h<128,p=n.allocUnsafe((f?2:3)+h),m=0;return p[m++]=48,f?p[m++]=h:(p[m++]=129,p[m++]=255&h),p[m++]=2,p[m++]=u,l<0?(p[m++]=0,m+=e.copy(p,m,0,r)):m+=e.copy(p,m,l,r),p[m++]=2,p[m++]=d,c<0?(p[m++]=0,e.copy(p,m,r)):e.copy(p,m,r+c),p}}},82371:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var r={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=r[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},52172:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=new WeakMap,n=new WeakMap;function i(e){let t=r.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function o(e){if(null!=e.passiveListener){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault())}function s(e,t){r.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let n=Object.keys(t);for(let e=0;e<n.length;++e){let t=n[e];t in this||Object.defineProperty(this,t,a(t))}}function a(e){return{get(){return i(this).event[e]},set(t){i(this).event[e]=t},configurable:!0,enumerable:!0}}function l(e,t){i(e).passiveListener=t}s.prototype={get type(){return i(this).event.type},get target(){return i(this).eventTarget},get currentTarget(){return i(this).currentTarget},composedPath(){let e=i(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return i(this).eventPhase},stopPropagation(){let e=i(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){let e=i(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return!!i(this).event.bubbles},get cancelable(){return!!i(this).event.cancelable},preventDefault(){o(i(this))},get defaultPrevented(){return i(this).canceled},get composed(){return!!i(this).event.composed},get timeStamp(){return i(this).timeStamp},get srcElement(){return i(this).eventTarget},get cancelBubble(){return i(this).stopped},set cancelBubble(value){if(!value)return;let e=i(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!i(this).canceled},set returnValue(value){value||o(i(this))},initEvent(){}},Object.defineProperty(s.prototype,"constructor",{value:s,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(s.prototype,window.Event.prototype),n.set(window.Event.prototype,s));let c=new WeakMap;function u(e){return null!==e&&"object"==typeof e}function d(e){let t=c.get(e);if(null==t)throw TypeError("'this' is expected an EventTarget object, but got another value.");return t}function h(e,t){Object.defineProperty(e,`on${t}`,{get(){let e=d(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"==typeof e||u(e)||(e=null);let r=d(this),n=null,i=r.get(t);for(;null!=i;)3===i.listenerType?null!==n?n.next=i.next:null!==i.next?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(null!==e){let i={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===n?r.set(t,i):n.next=i}},configurable:!0,enumerable:!0})}function f(e){function t(){p.call(this)}t.prototype=Object.create(p.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)h(t.prototype,e[r]);return t}function p(){if(this instanceof p){c.set(this,new Map);return}if(1==arguments.length&&Array.isArray(arguments[0]))return f(arguments[0]);if(arguments.length>0){let e=Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return f(e)}throw TypeError("Cannot call a class as a function")}p.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!u(t))throw TypeError("'listener' should be a function or an object.");let n=d(this),i=u(r),o=(i?r.capture:r)?1:2,s={listener:t,listenerType:o,passive:i&&!!r.passive,once:i&&!!r.once,next:null},a=n.get(e);if(void 0===a){n.set(e,s);return}let l=null;for(;null!=a;){if(a.listener===t&&a.listenerType===o)return;l=a,a=a.next}l.next=s},removeEventListener(e,t,r){if(null==t)return;let n=d(this),i=(u(r)?r.capture:r)?1:2,o=null,s=n.get(e);for(;null!=s;){if(s.listener===t&&s.listenerType===i){null!==o?o.next=s.next:null!==s.next?n.set(e,s.next):n.delete(e);return}o=s,s=s.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw TypeError('"event.type" should be a string.');let t=d(this),r=e.type,o=t.get(r);if(null==o)return!0;let c=new(function e(t){if(null==t||t===Object.prototype)return s;let r=n.get(t);return null==r&&(r=function(e,t){let r=Object.keys(t);if(0===r.length)return e;function n(t,r){e.call(this,t,r)}n.prototype=Object.create(e.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let o=0;o<r.length;++o){let s=r[o];if(!(s in e.prototype)){let e="function"==typeof Object.getOwnPropertyDescriptor(t,s).value;Object.defineProperty(n.prototype,s,e?function(e){return{value(){let t=i(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}(s):a(s))}}return n}(e(Object.getPrototypeOf(t)),t),n.set(t,r)),r}(Object.getPrototypeOf(e)))(this,e),u=null;for(;null!=o;){if(o.once?null!==u?u.next=o.next:null!==o.next?t.set(r,o.next):t.delete(r):u=o,l(c,o.passive?o.listener:null),"function"==typeof o.listener)try{o.listener.call(this,c)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==o.listenerType&&"function"==typeof o.listener.handleEvent&&o.listener.handleEvent(c);if(i(c).immediateStopped)break;o=o.next}return l(c,null),i(c).eventPhase=0,i(c).currentTarget=null,!c.defaultPrevented}},Object.defineProperty(p.prototype,"constructor",{value:p,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(p.prototype,window.EventTarget.prototype),t.defineEventAttribute=h,t.EventTarget=p,t.default=p,e.exports=p,e.exports.EventTarget=e.exports.default=p,e.exports.defineEventAttribute=h},58684:e=>{"use strict";e.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return -1!==n&&(-1===i||n<i)}},76125:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpProxyAgent=void 0;let a=o(r(91645)),l=o(r(34631)),c=s(r(23481)),u=r(94735),d=r(98957),h=r(79551),f=(0,c.default)("http-proxy-agent");class p extends d.Agent{constructor(e,t){super(t),this.proxy="string"==typeof e?new h.URL(e):e,this.proxyHeaders=t?.headers??{},f("Creating new HttpProxyAgent instance: %o",this.proxy.href);let r=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),n=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={...t?function(e,...t){let r;let n={};for(r in e)t.includes(r)||(n[r]=e[r]);return n}(t,"headers"):null,host:r,port:n}}addRequest(e,t){e._header=null,this.setRequestProps(e,t),super.addRequest(e,t)}setRequestProps(e,t){let{proxy:r}=this,n=t.secureEndpoint?"https:":"http:",i=e.getHeader("host")||"localhost",o=`${n}//${i}`,s=new h.URL(e.path,o);80!==t.port&&(s.port=String(t.port)),e.path=String(s);let a="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders};if(r.username||r.password){let e=`${decodeURIComponent(r.username)}:${decodeURIComponent(r.password)}`;a["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}for(let t of(a["Proxy-Connection"]||(a["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close"),Object.keys(a))){let r=a[t];r&&e.setHeader(t,r)}}async connect(e,t){let r,n,i;return e._header=null,e.path.includes("://")||this.setRequestProps(e,t),f("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(f("Patching connection write() output buffer with updated header"),n=(r=e.outputData[0].data).indexOf("\r\n\r\n")+4,e.outputData[0].data=e._header+r.substring(n),f("Output buffer: %o",e.outputData[0].data)),"https:"===this.proxy.protocol?(f("Creating `tls.Socket`: %o",this.connectOpts),i=l.connect(this.connectOpts)):(f("Creating `net.Socket`: %o",this.connectOpts),i=a.connect(this.connectOpts)),await (0,u.once)(i,"connect"),i}}p.protocols=["http","https"],t.HttpProxyAgent=p},47784:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpsProxyAgent=void 0;let a=o(r(91645)),l=o(r(34631)),c=s(r(12412)),u=s(r(23481)),d=r(98957),h=r(79551),f=r(54188),p=(0,u.default)("https-proxy-agent"),m=e=>void 0===e.servername&&e.host&&!a.isIP(e.host)?{...e,servername:e.host}:e;class g extends d.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy="string"==typeof e?new h.URL(e):e,this.proxyHeaders=t?.headers??{},p("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let r=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),n=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?_(t,"headers"):null,host:r,port:n}}async connect(e,t){let r;let{proxy:n}=this;if(!t.host)throw TypeError('No "host" provided');"https:"===n.protocol?(p("Creating `tls.Socket`: %o",this.connectOpts),r=l.connect(m(this.connectOpts))):(p("Creating `net.Socket`: %o",this.connectOpts),r=a.connect(this.connectOpts));let i="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders},o=a.isIPv6(t.host)?`[${t.host}]`:t.host,s=`CONNECT ${o}:${t.port} HTTP/1.1\r
`;if(n.username||n.password){let e=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;i["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}for(let e of(i.Host=`${o}:${t.port}`,i["Proxy-Connection"]||(i["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close"),Object.keys(i)))s+=`${e}: ${i[e]}\r
`;let u=(0,f.parseProxyResponse)(r);r.write(`${s}\r
`);let{connect:d,buffered:h}=await u;if(e.emit("proxyConnect",d),this.emit("proxyConnect",d,e),200===d.statusCode)return(e.once("socket",y),t.secureEndpoint)?(p("Upgrading socket connection to TLS"),l.connect({..._(m(t),"host","path","port"),socket:r})):r;r.destroy();let g=new a.Socket({writable:!1});return g.readable=!0,e.once("socket",e=>{p("Replaying proxy buffer for failed request"),(0,c.default)(e.listenerCount("data")>0),e.push(h),e.push(null)}),g}}function y(e){e.resume()}function _(e,...t){let r;let n={};for(r in e)t.includes(r)||(n[r]=e[r]);return n}g.protocols=["http","https"],t.HttpsProxyAgent=g},54188:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseProxyResponse=void 0;let i=(0,n(r(23481)).default)("https-proxy-agent:parse-proxy-response");t.parseProxyResponse=function(e){return new Promise((t,r)=>{let n=0,o=[];function s(){let l=e.read();l?function(l){o.push(l),n+=l.length;let c=Buffer.concat(o,n),u=c.indexOf("\r\n\r\n");if(-1===u){i("have not received end of HTTP headers yet..."),s();return}let d=c.slice(0,u).toString("ascii").split("\r\n"),h=d.shift();if(!h)return e.destroy(),r(Error("No header received from proxy CONNECT response"));let f=h.split(" "),p=+f[1],m=f.slice(2).join(" "),g={};for(let t of d){if(!t)continue;let n=t.indexOf(":");if(-1===n)return e.destroy(),r(Error(`Invalid header from proxy CONNECT response: "${t}"`));let i=t.slice(0,n).toLowerCase(),o=t.slice(n+1).trimStart(),s=g[i];"string"==typeof s?g[i]=[s,o]:Array.isArray(s)?s.push(o):g[i]=o}i("got proxy server response: %o %o",h,g),a(),t({connect:{statusCode:p,statusText:m,headers:g},buffered:c})}(l):e.once("readable",s)}function a(){e.removeListener("end",l),e.removeListener("error",c),e.removeListener("readable",s)}function l(){a(),i("onend"),r(Error("Proxy connection ended before receiving CONNECT response"))}function c(e){a(),i("onerror %o",e),r(e)}e.on("error",c),e.on("end",l),s()})}},21033:(e,t,r)=>{"use strict";var n=r(59050).Buffer;t._dbcs=s;for(var i=Array(256),o=0;o<256;o++)i[o]=-1;function s(e,t){if(this.encodingName=e.encodingName,!e)throw Error("DBCS codec is called without the data.");if(!e.table)throw Error("Encoding '"+this.encodingName+"' has no data.");var r=e.table();this.decodeTables=[],this.decodeTables[0]=i.slice(0),this.decodeTableSeq=[];for(var n=0;n<r.length;n++)this._addDecodeChunk(r[n]);if("function"==typeof e.gb18030){this.gb18030=e.gb18030();var o=this.decodeTables.length;this.decodeTables.push(i.slice(0));var s=this.decodeTables.length;this.decodeTables.push(i.slice(0));for(var a=this.decodeTables[0],n=129;n<=254;n++)for(var l=this.decodeTables[-1e3-a[n]],c=48;c<=57;c++){if(-1===l[c])l[c]=-1e3-o;else if(l[c]>-1e3)throw Error("gb18030 decode tables conflict at byte 2");for(var u=this.decodeTables[-1e3-l[c]],d=129;d<=254;d++){if(-1===u[d])u[d]=-1e3-s;else if(u[d]===-1e3-s)continue;else if(u[d]>-1e3)throw Error("gb18030 decode tables conflict at byte 3");for(var h=this.decodeTables[-1e3-u[d]],f=48;f<=57;f++)-1===h[f]&&(h[f]=-2)}}}this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var p={};if(e.encodeSkipVals)for(var n=0;n<e.encodeSkipVals.length;n++){var m=e.encodeSkipVals[n];if("number"==typeof m)p[m]=!0;else for(var c=m.from;c<=m.to;c++)p[c]=!0}if(this._fillEncodeTable(0,0,p),e.encodeAdd)for(var g in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,g)&&this._setEncodeChar(g.charCodeAt(0),e.encodeAdd[g]);this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],-1===this.defCharSB&&(this.defCharSB=this.encodeTable[0]["?"]),-1===this.defCharSB&&(this.defCharSB=63)}function a(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function l(e,t){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function c(e,t){if(e[0]>t)return -1;for(var r=0,n=e.length;r<n-1;){var i=r+(n-r+1>>1);e[i]<=t?r=i:n=i}return r}s.prototype.encoder=a,s.prototype.decoder=l,s.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>>=8)t.push(255&e);0==t.length&&t.push(0);for(var r=this.decodeTables[0],n=t.length-1;n>0;n--){var o=r[t[n]];if(-1==o)r[t[n]]=-1e3-this.decodeTables.length,this.decodeTables.push(r=i.slice(0));else if(o<=-1e3)r=this.decodeTables[-1e3-o];else throw Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16))}return r},s.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),r=this._getDecodeTrieNode(t);t&=255;for(var n=1;n<e.length;n++){var i=e[n];if("string"==typeof i)for(var o=0;o<i.length;){var s=i.charCodeAt(o++);if(55296<=s&&s<56320){var a=i.charCodeAt(o++);if(56320<=a&&a<57344)r[t++]=65536+(s-55296)*1024+(a-56320);else throw Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0])}else if(4080<s&&s<=4095){for(var l=4095-s+2,c=[],u=0;u<l;u++)c.push(i.charCodeAt(o++));r[t++]=-10-this.decodeTableSeq.length,this.decodeTableSeq.push(c)}else r[t++]=s}else if("number"==typeof i)for(var d=r[t-1]+1,o=0;o<i;o++)r[t++]=d++;else throw Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+e[0])}if(t>255)throw Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},s.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=i.slice(0)),this.encodeTable[t]},s.prototype._setEncodeChar=function(e,t){var r=this._getEncodeBucket(e),n=255&e;r[n]<=-10?this.encodeTableSeq[-10-r[n]][-1]=t:-1==r[n]&&(r[n]=t)},s.prototype._setEncodeSequence=function(e,t){var r,n=e[0],i=this._getEncodeBucket(n),o=255&n;i[o]<=-10?r=this.encodeTableSeq[-10-i[o]]:(r={},-1!==i[o]&&(r[-1]=i[o]),i[o]=-10-this.encodeTableSeq.length,this.encodeTableSeq.push(r));for(var s=1;s<e.length-1;s++){var a=r[n];"object"==typeof a?r=a:(r=r[n]={},void 0!==a&&(r[-1]=a))}r[n=e[e.length-1]]=t},s.prototype._fillEncodeTable=function(e,t,r){for(var n=this.decodeTables[e],i=!1,o={},s=0;s<256;s++){var a=n[s],l=t+s;if(!r[l]){if(a>=0)this._setEncodeChar(a,l),i=!0;else if(a<=-1e3){var c=-1e3-a;if(!o[c]){var u=l<<8>>>0;this._fillEncodeTable(c,u,r)?i=!0:o[c]=!0}}else a<=-10&&(this._setEncodeSequence(this.decodeTableSeq[-10-a],l),i=!0)}}return i},a.prototype.write=function(e){for(var t=n.alloc(e.length*(this.gb18030?4:3)),r=this.leadSurrogate,i=this.seqObj,o=-1,s=0,a=0;;){if(-1===o){if(s==e.length)break;var l=e.charCodeAt(s++)}else{var l=o;o=-1}if(55296<=l&&l<57344){if(l<56320){if(-1===r){r=l;continue}r=l,l=-1}else -1!==r?(l=65536+(r-55296)*1024+(l-56320),r=-1):l=-1}else -1!==r&&(o=l,l=-1,r=-1);var u=-1;if(void 0!==i&&-1!=l){var d=i[l];if("object"==typeof d){i=d;continue}"number"==typeof d?u=d:void 0==d&&void 0!==(d=i[-1])&&(u=d,o=l),i=void 0}else if(l>=0){var h=this.encodeTable[l>>8];if(void 0!==h&&(u=h[255&l]),u<=-10){i=this.encodeTableSeq[-10-u];continue}if(-1==u&&this.gb18030){var f=c(this.gb18030.uChars,l);if(-1!=f){var u=this.gb18030.gbChars[f]+(l-this.gb18030.uChars[f]);t[a++]=129+Math.floor(u/12600),u%=12600,t[a++]=48+Math.floor(u/1260),u%=1260,t[a++]=129+Math.floor(u/10),u%=10,t[a++]=48+u;continue}}}-1===u&&(u=this.defaultCharSingleByte),u<256?t[a++]=u:(u<65536?t[a++]=u>>8:u<0x1000000?(t[a++]=u>>16,t[a++]=u>>8&255):(t[a++]=u>>>24,t[a++]=u>>>16&255,t[a++]=u>>>8&255),t[a++]=255&u)}return this.seqObj=i,this.leadSurrogate=r,t.slice(0,a)},a.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=n.alloc(10),t=0;if(this.seqObj){var r=this.seqObj[-1];void 0!==r&&(r<256?e[t++]=r:(e[t++]=r>>8,e[t++]=255&r)),this.seqObj=void 0}return -1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},a.prototype.findIdx=c,l.prototype.write=function(e){for(var t,r=n.alloc(2*e.length),i=this.nodeIdx,o=this.prevBytes,s=this.prevBytes.length,a=-this.prevBytes.length,l=0,u=0;l<e.length;l++){var d=l>=0?e[l]:o[l+s],t=this.decodeTables[i][d];if(t>=0);else if(-1===t)t=this.defaultCharUnicode.charCodeAt(0),l=a;else if(-2===t){if(l>=3)var h=(e[l-3]-129)*12600+(e[l-2]-48)*1260+(e[l-1]-129)*10+(d-48);else var h=(o[l-3+s]-129)*12600+((l-2>=0?e[l-2]:o[l-2+s])-48)*1260+((l-1>=0?e[l-1]:o[l-1+s])-129)*10+(d-48);var f=c(this.gb18030.gbChars,h);t=this.gb18030.uChars[f]+h-this.gb18030.gbChars[f]}else if(t<=-1e3){i=-1e3-t;continue}else if(t<=-10){for(var p=this.decodeTableSeq[-10-t],m=0;m<p.length-1;m++)t=p[m],r[u++]=255&t,r[u++]=t>>8;t=p[p.length-1]}else throw Error("iconv-lite internal error: invalid decoding table value "+t+" at "+i+"/"+d);if(t>=65536){var g=55296|(t-=65536)>>10;r[u++]=255&g,r[u++]=g>>8,t=56320|1023&t}r[u++]=255&t,r[u++]=t>>8,i=0,a=l+1}return this.nodeIdx=i,this.prevBytes=a>=0?Array.prototype.slice.call(e,a):o.slice(a+s).concat(Array.prototype.slice.call(e)),r.slice(0,u).toString("ucs2")},l.prototype.end=function(){for(var e="";this.prevBytes.length>0;){e+=this.defaultCharUnicode;var t=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.prevBytes=[],this.nodeIdx=0,e}},80095:(e,t,r)=>{"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return r(14747)},encodeAdd:{"\xa5":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return r(95250)},encodeAdd:{"\xa5":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return r(94392)}},gbk:{type:"_dbcs",table:function(){return r(94392).concat(r(8190))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return r(94392).concat(r(8190))},gb18030:function(){return r(93313)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return r(89146)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return r(56204)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return r(56204).concat(r(19935))},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},3664:(e,t,r)=>{"use strict";for(var n=[r(96587),r(26772),r(47990),r(98480),r(41526),r(35238),r(44282),r(21033),r(80095)],i=0;i<n.length;i++){var o=n[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}},96587:(e,t,r)=>{"use strict";var n=r(59050).Buffer;function i(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=l:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=c,"\uD83D\uDCA9"!==n.from("eda0bdedb2a9","hex").toString()&&(this.decoder=u,this.defaultCharUnicode=t.defaultCharUnicode))}e.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:i},i.prototype.encoder=a,i.prototype.decoder=s;var o=r(41204).StringDecoder;function s(e,t){this.decoder=new o(t.enc)}function a(e,t){this.enc=t.enc}function l(e,t){this.prevStr=""}function c(e,t){}function u(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}o.prototype.end||(o.prototype.end=function(){}),s.prototype.write=function(e){return n.isBuffer(e)||(e=n.from(e)),this.decoder.write(e)},s.prototype.end=function(){return this.decoder.end()},a.prototype.write=function(e){return n.from(e,this.enc)},a.prototype.end=function(){},l.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),n.from(e,"base64")},l.prototype.end=function(){return n.from(this.prevStr,"base64")},c.prototype.write=function(e){for(var t=n.alloc(3*e.length),r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[r++]=o:(o<2048?t[r++]=192+(o>>>6):(t[r++]=224+(o>>>12),t[r++]=128+(o>>>6&63)),t[r++]=128+(63&o))}return t.slice(0,r)},c.prototype.end=function(){},u.prototype.write=function(e){for(var t=this.acc,r=this.contBytes,n=this.accBytes,i="",o=0;o<e.length;o++){var s=e[o];(192&s)!=128?(r>0&&(i+=this.defaultCharUnicode,r=0),s<128?i+=String.fromCharCode(s):s<224?(t=31&s,r=1,n=1):s<240?(t=15&s,r=2,n=1):i+=this.defaultCharUnicode):r>0?(t=t<<6|63&s,r--,n++,0===r&&(2===n&&t<128&&t>0?i+=this.defaultCharUnicode:3===n&&t<2048?i+=this.defaultCharUnicode:i+=String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=r,this.accBytes=n,i},u.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},41526:(e,t,r)=>{"use strict";var n=r(59050).Buffer;function i(e,t){if(!e)throw Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var r="",i=0;i<128;i++)r+=String.fromCharCode(i);e.chars=r+e.chars}this.decodeBuf=n.from(e.chars,"ucs2");for(var o=n.alloc(65536,t.defaultCharSingleByte.charCodeAt(0)),i=0;i<e.chars.length;i++)o[e.chars.charCodeAt(i)]=i;this.encodeBuf=o}function o(e,t){this.encodeBuf=t.encodeBuf}function s(e,t){this.decodeBuf=t.decodeBuf}t._sbcs=i,i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=n.alloc(e.length),r=0;r<e.length;r++)t[r]=this.encodeBuf[e.charCodeAt(r)];return t},o.prototype.end=function(){},s.prototype.write=function(e){for(var t=this.decodeBuf,r=n.alloc(2*e.length),i=0,o=0,s=0;s<e.length;s++)i=2*e[s],r[o=2*s]=t[i],r[o+1]=t[i+1];return r.toString("ucs2")},s.prototype.end=function(){}},44282:e=>{"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:"\xa0"},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:"\xa0\xa4\xa6\xa7\xa8\xa9\xab\xac\xad\xae\xb0\xb1\xb4\xb5\xb6\xb7\xb8\xbb\xc1\xc2\xc4\xc7\xc9\xcb\xcd\xce\xd3\xd4\xd6\xd7\xda\xdc\xdd\xdf\xe1\xe2\xe4\xe7\xe9\xeb\xed\xee\xf3\xf4\xf6\xf7\xfa\xfc\xfd"},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:"\xa0\xa4\xa6\xa7\xa9\xab\xac\xad\xae\xb0\xb1\xb5\xb6\xb7\xbb"},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:"\xa0\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xab\xac\xad\xae\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xbb\xbd"},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa5\xa6\xa7\xa8\xa9\xd7\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xf7\xbb\xbc\xbd\xbe\xbf"},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:"\xa0\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xbb\xbc\xbd\xbe\xd7\xe0\xe2\xe7\xe8\xe9\xea\xeb\xee\xef\xf4\xf7\xf9\xfb\xfc"},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:"\xa8\xb8\xaf\xa0\xa2\xa3\xa4\xa6\xa7\xd8\xa9\xab\xac\xad\xae\xc6\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xf8\xb9\xbb\xbc\xbd\xbe\xe6\xc4\xc5\xc9\xd3\xd5\xd6\xd7\xdc\xdf\xe4\xe5\xe9\xf3\xf5\xf6\xf7\xfc"},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcd\xce\xcf\xd1\xd3\xd4\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xed\xee\xef\xf1\xf3\xf4\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa4\xa7\xa8\xad\xb0\xb4\xb8\xc1\xc2\xc4\xc7\xc9\xcb\xcd\xce\xd3\xd4\xd6\xd7\xda\xdc\xdd\xdf\xe1\xe2\xe4\xe7\xe9\xeb\xed\xee\xf3\xf4\xf6\xf7\xfa\xfc\xfd"},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa3\xa4\xa7\xa8\xad\xb0\xb2\xb3\xb4\xb5\xb7\xb8\xbd\xc0\xc1\xc2\xc4\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd6\xd7\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf6\xf7\xf9\xfa\xfb\xfc"},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa4\xa7\xa8\xad\xaf\xb0\xb4\xb8\xc1\xc2\xc3\xc4\xc5\xc6\xc9\xcb\xcd\xce\xd4\xd5\xd6\xd7\xd8\xda\xdb\xdc\xdf\xe1\xe2\xe3\xe4\xe5\xe6\xe9\xeb\xed\xee\xf4\xf5\xf6\xf7\xf8\xfa\xfb\xfc"},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xad\xa7"},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa4\xad"},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa3\xa6\xa7\xa8\xa9\xab\xac\xad\xb0\xb1\xb2\xb3\xb7\xbb\xbd"},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xd7\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xf7\xbb\xbc\xbd\xbe"},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa7\xad\xb0\xb7\xc1\xc2\xc3\xc4\xc5\xc6\xc9\xcb\xcd\xce\xcf\xd0\xd3\xd4\xd5\xd6\xd8\xda\xdb\xdc\xdd\xde\xdf\xe1\xe2\xe3\xe4\xe5\xe6\xe9\xeb\xed\xee\xef\xf0\xf3\xf4\xf5\xf6\xf8\xfa\xfb\xfc\xfd\xfe"},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0"},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa2\xa3\xa4\xa6\xa7\xd8\xa9\xab\xac\xad\xae\xc6\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xf8\xb9\xbb\xbc\xbd\xbe\xe6\xc4\xc5\xc9\xd3\xd5\xd6\xd7\xdc\xdf\xe4\xe5\xe9\xf3\xf5\xf6\xf7\xfc"},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa3\xa7\xa9\xad\xae\xb6\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xff"},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa5\xa7\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xb9\xba\xbb\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa7\xa9\xab\xad\xb0\xb1\xb6\xb7\xbb\xc0\xc1\xc2\xc4\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd2\xd3\xd4\xd6\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf2\xf3\xf4\xf6\xf9\xfa\xfb\xfc\xff"},cp28606:"iso885916",cp437:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xa2\xa3\xa5\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:"\xb1\xf7\xb0\xb7\xb2\xa0"},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:"\xfc\xe9\xe4\xe5\xc4\xc5\xc9\xe6\xc6\xf6\xa2\xd6\xdc\xf8\xa3\xd8\xd7\xa4\xf3\xa6\xa9\xae\xac\xbd\xbc\xab\xbb\xd3\xdf\xf5\xd5\xb5\xad\xb1\xbe\xb6\xa7\xf7\xb0\xb7\xb9\xb3\xb2\xa0"},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xf8\xa3\xd8\xd7\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xae\xac\xbd\xbc\xa1\xab\xbb\xc1\xc2\xc0\xa9\xa2\xa5\xe3\xc3\xa4\xf0\xd0\xca\xcb\xc8\xcd\xce\xcf\xa6\xcc\xd3\xdf\xd4\xd2\xf5\xd5\xb5\xfe\xde\xda\xdb\xd9\xfd\xdd\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe7\xeb\xee\xc4\xc9\xf4\xf6\xd6\xdc\xd7\xe1\xed\xf3\xfa\xac\xab\xbb\xc1\xc2\xa4\xcb\xcd\xce\xd3\xdf\xd4\xda\xfd\xdd\xb4\xad\xa7\xf7\xb8\xb0\xa8\xa0"},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:"\xab\xbb\xa4\xad\xa7\xa0"},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:"\xa3\xd7\xae\xac\xbd\xbc\xab\xbb\xa9\xa2\xa5\xa4\xa6\xb5\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xd6\xdc\xf8\xa3\xd8\xe1\xed\xf3\xfa\xf1\xd1\xbf\xae\xac\xbd\xbc\xa1\xab\xbb\xc1\xc2\xc0\xa9\xa2\xa5\xe3\xc3\xa4\xba\xaa\xca\xcb\xc8\xcd\xce\xcf\xa6\xcc\xd3\xdf\xd4\xd2\xf5\xd5\xb5\xd7\xda\xdb\xd9\xec\xff\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xf8\xa3\xd8\xd7\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xae\xac\xbd\xbc\xa1\xab\xbb\xc1\xc2\xc0\xa9\xa2\xa5\xe3\xc3\xa4\xf0\xd0\xca\xcb\xc8\xcd\xce\xcf\xa6\xcc\xd3\xdf\xd4\xd2\xf5\xd5\xb5\xfe\xde\xda\xdb\xd9\xfd\xdd\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe3\xe0\xc1\xe7\xea\xca\xe8\xcd\xd4\xec\xc3\xc2\xc9\xc0\xc8\xf4\xf5\xf2\xda\xf9\xcc\xd5\xdc\xa2\xa3\xd9\xd3\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xd2\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xd0\xf0\xde\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xfe\xfb\xdd\xfd\xd6\xdc\xf8\xa3\xd8\xe1\xed\xf3\xfa\xc1\xcd\xd3\xda\xbf\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:"\xa2\xa3\xa5\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xc2\xe0\xb6\xe7\xea\xeb\xe8\xef\xee\xc0\xa7\xc9\xc8\xca\xf4\xcb\xcf\xfb\xf9\xa4\xd4\xdc\xa2\xa3\xd9\xdb\xa6\xb4\xf3\xfa\xa8\xb8\xb3\xaf\xce\xac\xbd\xbc\xbe\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f\xb0\xb7\xb1\xbd\xbc\xab\xbb\xa0\xad\xa3\xa4\xa2\xa6\xac\xf7\xd7"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xf8\xa3\xd8\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xac\xbd\xbc\xa1\xab\xa4\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:"\xb0\xb7\xa4\xa0"},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:"\xb7\xac\xa6\xa9\xb2\xb3\xa3\xbd\xab\xbb\xad\xb1\xa7\xb0\xa8\xa0"},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xff"},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:"\xd7\xf7\x88\xa0\xa4\xad"},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xad\xa7"},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:"\xb7\xa4\xa0"},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcd\xce\xcf\xd1\xd3\xd4\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xed\xee\xef\xf1\xf3\xf4\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa2\xac\xa6"},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:"\xa2\xac\xa6\xa0"},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:"\x81\x82\x83\x84\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0"},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa5\xa6\xa7\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcd\xce\xcf\xd1\xd3\xd4\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xed\xee\xef\xf1\xf3\xf4\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xb4\xa8\xd8\xb1\xb5\xaa\xba\xf8\xbf\xa1\xac\xab\xa0\xc0\xc3\xd5\xf7\xa9\xa4\xc6\xbb\xb7\xc2\xc1\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xcb\xb8\xca\xe6"},maccyrillic:{type:"_sbcs",chars:"\xb0\xa2\xa3\xa7\xb6\xae\xa9\xb1\xb5\xac\xab\xbb\xa0\xf7\xa4"},macgreek:{type:"_sbcs",chars:"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\xe0\xe2\xe4\xa8\xe7\xe9\xe8\xea\xeb\xa3\xee\xef\xbd\xf4\xf6\xa6\xad\xf9\xfb\xfc\xdf\xae\xa9\xa7\xb0\xb1\xa5\xac\xab\xbb\xa0\xf7"},maciceland:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xd0\xf0\xde\xfe\xfd\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macroman:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macromania:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xb1\xa5\xb5\xaa\xba\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macthai:{type:"_sbcs",chars:"\xab\xbb\xa0\uFEFF\xae\xa9"},macturkish:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macukraine:{type:"_sbcs",chars:"\xb0\xa3\xa7\xb6\xae\xa9\xb1\xb5\xac\xab\xbb\xa0\xf7\xa4"},koi8r:{type:"_sbcs",chars:"\xa0\xb0\xb2\xb7\xf7\xa9"},koi8u:{type:"_sbcs",chars:"\xa0\xb0\xb2\xb7\xf7\xa9"},koi8ru:{type:"_sbcs",chars:"\xa0\xb0\xb2\xb7\xf7\xa9"},koi8t:{type:"_sbcs",chars:"\xa4\xa6\xa7\xab\xac\xad\xae\xb0\xb1\xb2\xb6\xb7\xbb\xa9"},armscii8:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0)(\xbb\xab.,-"},rk1048:{type:"_sbcs",chars:"\xa0\xa4\xa6\xa7\xa9\xab\xac\xad\xae\xb0\xb1\xb5\xb6\xb7\xbb"},tcvn:{type:"_sbcs",chars:"\0\xda\x03\x07\b	\n\v\f\r\x0e\x0f\x10\xdd\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f\xc0\xc3\xc1\xc8\xc9\xcc\xcd\xd2\xd5\xd3\xd9\xa0\xc2\xca\xd4\xe2\xea\xf4\xe0\xe3\xe1\xe8\xe9\xec\xed\xf2\xf5\xf3\xf9\xfa\xfd"},georgianacademy:{type:"_sbcs",chars:"\x80\x81\x8d\x8e\x8f\x90\x9d\x9e\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},georgianps:{type:"_sbcs",chars:"\x80\x81\x8d\x8e\x8f\x90\x9d\x9e\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},pt154:{type:"_sbcs",chars:"\xa0\xa7\xa9\xab\xac\xae\xb0\xb6\xb7\xbb"},viscii:{type:"_sbcs",chars:"\0\x01\x03\x04\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x15\x16\x17\x18\x1a\x1b\x1c\x1d\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f\xd5\xc0\xc1\xc2\xc3\xc8\xc9\xca\xcc\xcd\xd2\xd3\xd4\xd9\xda\xdd\xe0\xe1\xe2\xe3\xe8\xe9\xea\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\xfd"},iso646cn:{type:"_sbcs",chars:"\0\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#\xa5%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}\x7f"},iso646jp:{type:"_sbcs",chars:"\0\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\xa5]^_`abcdefghijklmnopqrstuvwxyz{|}\x7f"},hproman8:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xc0\xc2\xc8\xca\xcb\xce\xcf\xb4\xa8\xd9\xdb\xaf\xdd\xfd\xb0\xc7\xe7\xd1\xf1\xa1\xbf\xa4\xa3\xa5\xa7\xa2\xe2\xea\xf4\xfb\xe1\xe9\xf3\xfa\xe0\xe8\xf2\xf9\xe4\xeb\xf6\xfc\xc5\xee\xd8\xc6\xe5\xed\xf8\xe6\xc4\xec\xd6\xdc\xc9\xef\xdf\xd4\xc1\xc3\xe3\xd0\xf0\xcd\xcc\xd3\xd2\xd5\xf5\xda\xff\xde\xfe\xb7\xb5\xb6\xbe\xbc\xbd\xaa\xba\xab\xbb\xb1"},macintosh:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},35238:e=>{"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:"\xc4\xc9\xd6\xdc\xe1\xe4\xe9\xed\xf3\xf4\xf6\xf5\xfa\xfc\xb0\xa3\xa7\xb6\xdf\xae\xa9\xa8\xac\xab\xbb\xa0\xd5\xf7\xc1\xcd\xd3\xd4\xda\xdd\xfd"},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:"\xb0\xb7\xa0"},mik:{type:"_sbcs",chars:"\xa7\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},cp720:{type:"_sbcs",chars:"\x80\x81\xe9\xe2\x84\xe0\x86\xe7\xea\xeb\xe8\xef\xee\x8d\x8e\x8f\x90\xf4\xa4\xfb\xf9\xa3\xab\xbb\xb5\xb0\xb7\xb2\xa0"},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},47990:(e,t,r)=>{"use strict";var n=r(59050).Buffer;function i(){}function o(){}function s(){this.overflowByte=-1}function a(e,t){this.iconv=t}function l(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function c(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function u(e,t){var r=[],n=0,i=0,o=0;e:for(var s=0;s<e.length;s++)for(var a=e[s],l=0;l<a.length;l++)if(r.push(a[l]),2===r.length){if(0===n){if(255===r[0]&&254===r[1])return"utf-16le";if(254===r[0]&&255===r[1])return"utf-16be"}if(0===r[0]&&0!==r[1]&&o++,0!==r[0]&&0===r[1]&&i++,r.length=0,++n>=100)break e}return o>i?"utf-16be":o<i?"utf-16le":t||"utf-16le"}t.utf16be=i,i.prototype.encoder=o,i.prototype.decoder=s,i.prototype.bomAware=!0,o.prototype.write=function(e){for(var t=n.from(e,"ucs2"),r=0;r<t.length;r+=2){var i=t[r];t[r]=t[r+1],t[r+1]=i}return t},o.prototype.end=function(){},s.prototype.write=function(e){if(0==e.length)return"";var t=n.alloc(e.length+1),r=0,i=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,r=1,i=2);r<e.length-1;r+=2,i+=2)t[i]=e[r+1],t[i+1]=e[r];return this.overflowByte=r==e.length-1?e[e.length-1]:-1,t.slice(0,i).toString("ucs2")},s.prototype.end=function(){this.overflowByte=-1},t.utf16=a,a.prototype.encoder=l,a.prototype.decoder=c,l.prototype.write=function(e){return this.encoder.write(e)},l.prototype.end=function(){return this.encoder.end()},c.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<16)return"";var t=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var r="",n=0;n<this.initialBufs.length;n++)r+=this.decoder.write(this.initialBufs[n]);return this.initialBufs.length=this.initialBufsLen=0,r}return this.decoder.write(e)},c.prototype.end=function(){if(!this.decoder){var e=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",r=0;r<this.initialBufs.length;r++)t+=this.decoder.write(this.initialBufs[r]);var n=this.decoder.end();return n&&(t+=n),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},26772:(e,t,r)=>{"use strict";var n=r(59050).Buffer;function i(e,t){this.iconv=t,this.bomAware=!0,this.isLE=e.isLE}function o(e,t){this.isLE=t.isLE,this.highSurrogate=0}function s(e,t){this.isLE=t.isLE,this.badChar=t.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}function a(e,t,r,n){if((r<0||r>1114111)&&(r=n),r>=65536){var i=55296|(r-=65536)>>10;e[t++]=255&i,e[t++]=i>>8;var r=56320|1023&r}return e[t++]=255&r,e[t++]=r>>8,t}function l(e,t){this.iconv=t}function c(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder(e.defaultEncoding||"utf-32le",e)}function u(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function d(e,t){var r=[],n=0,i=0,o=0,s=0,a=0;e:for(var l=0;l<e.length;l++)for(var c=e[l],u=0;u<c.length;u++)if(r.push(c[u]),4===r.length){if(0===n){if(255===r[0]&&254===r[1]&&0===r[2]&&0===r[3])return"utf-32le";if(0===r[0]&&0===r[1]&&254===r[2]&&255===r[3])return"utf-32be"}if((0!==r[0]||r[1]>16)&&o++,(0!==r[3]||r[2]>16)&&i++,0===r[0]&&0===r[1]&&(0!==r[2]||0!==r[3])&&a++,(0!==r[0]||0!==r[1])&&0===r[2]&&0===r[3]&&s++,r.length=0,++n>=100)break e}return a-o>s-i?"utf-32be":a-o<s-i?"utf-32le":t||"utf-32le"}t._utf32=i,t.utf32le={type:"_utf32",isLE:!0},t.utf32be={type:"_utf32",isLE:!1},t.ucs4le="utf32le",t.ucs4be="utf32be",i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=n.from(e,"ucs2"),r=n.alloc(2*t.length),i=this.isLE?r.writeUInt32LE:r.writeUInt32BE,o=0,s=0;s<t.length;s+=2){var a=t.readUInt16LE(s),l=55296<=a&&a<56320,c=56320<=a&&a<57344;if(this.highSurrogate){if(l||!c)i.call(r,this.highSurrogate,o),o+=4;else{var u=(this.highSurrogate-55296<<10|a-56320)+65536;i.call(r,u,o),o+=4,this.highSurrogate=0;continue}}l?this.highSurrogate=a:(i.call(r,a,o),o+=4,this.highSurrogate=0)}return o<r.length&&(r=r.slice(0,o)),r},o.prototype.end=function(){if(this.highSurrogate){var e=n.alloc(4);return this.isLE?e.writeUInt32LE(this.highSurrogate,0):e.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,e}},s.prototype.write=function(e){if(0===e.length)return"";var t=0,r=0,i=n.alloc(e.length+4),o=0,s=this.isLE,l=this.overflow,c=this.badChar;if(l.length>0){for(;t<e.length&&l.length<4;t++)l.push(e[t]);4===l.length&&(r=s?l[t]|l[t+1]<<8|l[t+2]<<16|l[t+3]<<24:l[t+3]|l[t+2]<<8|l[t+1]<<16|l[t]<<24,l.length=0,o=a(i,o,r,c))}for(;t<e.length-3;t+=4)o=a(i,o,r=s?e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24:e[t+3]|e[t+2]<<8|e[t+1]<<16|e[t]<<24,c);for(;t<e.length;t++)l.push(e[t]);return i.slice(0,o).toString("ucs2")},s.prototype.end=function(){this.overflow.length=0},t.utf32=l,t.ucs4="utf32",l.prototype.encoder=c,l.prototype.decoder=u,c.prototype.write=function(e){return this.encoder.write(e)},c.prototype.end=function(){return this.encoder.end()},u.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<32)return"";var t=d(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var r="",n=0;n<this.initialBufs.length;n++)r+=this.decoder.write(this.initialBufs[n]);return this.initialBufs.length=this.initialBufsLen=0,r}return this.decoder.write(e)},u.prototype.end=function(){if(!this.decoder){var e=d(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",r=0;r<this.initialBufs.length;r++)t+=this.decoder.write(this.initialBufs[r]);var n=this.decoder.end();return n&&(t+=n),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},98480:(e,t,r)=>{"use strict";var n=r(59050).Buffer;function i(e,t){this.iconv=t}t.utf7=i,t.unicode11utf7="utf7",i.prototype.encoder=s,i.prototype.decoder=a,i.prototype.bomAware=!0;var o=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function s(e,t){this.iconv=t.iconv}function a(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}s.prototype.write=function(e){return n.from(e.replace(o,(function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}).bind(this)))},s.prototype.end=function(){};for(var l=/[A-Za-z0-9\/+]/,c=[],u=0;u<256;u++)c[u]=l.test(String.fromCharCode(u));function d(e,t){this.iconv=t}function h(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=n.alloc(6),this.base64AccumIdx=0}function f(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(e){for(var t="",r=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!c[e[s]]){if(s==r&&45==e[s])t+="+";else{var a=o+this.iconv.decode(e.slice(r,s),"ascii");t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}45!=e[s]&&s--,r=s+1,i=!1,o=""}}else 43==e[s]&&(t+=this.iconv.decode(e.slice(r,s),"ascii"),r=s+1,i=!0);if(i){var a=o+this.iconv.decode(e.slice(r),"ascii"),l=a.length-a.length%8;o=a.slice(l),a=a.slice(0,l),t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=i,this.base64Accum=o,t},a.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},t.utf7imap=d,d.prototype.encoder=h,d.prototype.decoder=f,d.prototype.bomAware=!0,h.prototype.write=function(e){for(var t=this.inBase64,r=this.base64Accum,i=this.base64AccumIdx,o=n.alloc(5*e.length+10),s=0,a=0;a<e.length;a++){var l=e.charCodeAt(a);32<=l&&l<=126?(t&&(i>0&&(s+=o.write(r.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),s),i=0),o[s++]=45,t=!1),t||(o[s++]=l,38!==l||(o[s++]=45))):(t||(o[s++]=38,t=!0),t&&(r[i++]=l>>8,r[i++]=255&l,i==r.length&&(s+=o.write(r.toString("base64").replace(/\//g,","),s),i=0)))}return this.inBase64=t,this.base64AccumIdx=i,o.slice(0,s)},h.prototype.end=function(){var e=n.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=45,this.inBase64=!1),e.slice(0,t)};var p=c.slice();p[",".charCodeAt(0)]=!0,f.prototype.write=function(e){for(var t="",r=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!p[e[s]]){if(s==r&&45==e[s])t+="&";else{var a=o+this.iconv.decode(e.slice(r,s),"ascii").replace(/,/g,"/");t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}45!=e[s]&&s--,r=s+1,i=!1,o=""}}else 38==e[s]&&(t+=this.iconv.decode(e.slice(r,s),"ascii"),r=s+1,i=!0);if(i){var a=o+this.iconv.decode(e.slice(r),"ascii").replace(/,/g,"/"),l=a.length-a.length%8;o=a.slice(l),a=a.slice(0,l),t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=i,this.base64Accum=o,t},f.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},51765:(e,t)=>{"use strict";function r(e,t){this.encoder=e,this.addBOM=!0}function n(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}t.PrependBOM=r,r.prototype.write=function(e){return this.addBOM&&(e="\uFEFF"+e,this.addBOM=!1),this.encoder.write(e)},r.prototype.end=function(){return this.encoder.end()},t.StripBOM=n,n.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t||("\uFEFF"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),t},n.prototype.end=function(){return this.decoder.end()}},53521:(e,t,r)=>{"use strict";var n,i=r(59050).Buffer,o=r(51765),s=e.exports;s.encodings=null,s.defaultCharUnicode="",s.defaultCharSingleByte="?",s.encode=function(e,t,r){e=""+(e||"");var n=s.getEncoder(t,r),o=n.write(e),a=n.end();return a&&a.length>0?i.concat([o,a]):o},s.decode=function(e,t,r){"string"==typeof e&&(s.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),s.skipDecodeWarning=!0),e=i.from(""+(e||""),"binary"));var n=s.getDecoder(t,r),o=n.write(e),a=n.end();return a?o+a:o},s.encodingExists=function(e){try{return s.getCodec(e),!0}catch(e){return!1}},s.toEncoding=s.encode,s.fromEncoding=s.decode,s._codecDataCache={},s.getCodec=function(e){s.encodings||(s.encodings=r(3664));for(var t=s._canonicalizeEncoding(e),n={};;){var i=s._codecDataCache[t];if(i)return i;var o=s.encodings[t];switch(typeof o){case"string":t=o;break;case"object":for(var a in o)n[a]=o[a];n.encodingName||(n.encodingName=t),t=o.type;break;case"function":return n.encodingName||(n.encodingName=t),i=new o(n,s),s._codecDataCache[n.encodingName]=i,i;default:throw Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},s._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},s.getEncoder=function(e,t){var r=s.getCodec(e),n=new r.encoder(t,r);return r.bomAware&&t&&t.addBOM&&(n=new o.PrependBOM(n,t)),n},s.getDecoder=function(e,t){var r=s.getCodec(e),n=new r.decoder(t,r);return r.bomAware&&!(t&&!1===t.stripBOM)&&(n=new o.StripBOM(n,t)),n},s.enableStreamingAPI=function(e){if(!s.supportsStreams){var t=r(78584)(e);s.IconvLiteEncoderStream=t.IconvLiteEncoderStream,s.IconvLiteDecoderStream=t.IconvLiteDecoderStream,s.encodeStream=function(e,t){return new s.IconvLiteEncoderStream(s.getEncoder(e,t),t)},s.decodeStream=function(e,t){return new s.IconvLiteDecoderStream(s.getDecoder(e,t),t)},s.supportsStreams=!0}};try{n=r(27910)}catch(e){}n&&n.Transform?s.enableStreamingAPI(n):s.encodeStream=s.decodeStream=function(){throw Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}},78584:(e,t,r)=>{"use strict";var n=r(59050).Buffer;e.exports=function(e){var t=e.Transform;function r(e,r){this.conv=e,(r=r||{}).decodeStrings=!1,t.call(this,r)}function i(e,r){this.conv=e,(r=r||{}).encoding=this.encoding="utf8",t.call(this,r)}return r.prototype=Object.create(t.prototype,{constructor:{value:r}}),r.prototype._transform=function(e,t,r){if("string"!=typeof e)return r(Error("Iconv encoding stream needs strings as its input."));try{var n=this.conv.write(e);n&&n.length&&this.push(n),r()}catch(e){r(e)}},r.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},r.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",function(e){t.push(e)}),this.on("end",function(){e(null,n.concat(t))}),this},i.prototype=Object.create(t.prototype,{constructor:{value:i}}),i.prototype._transform=function(e,t,r){if(!n.isBuffer(e)&&!(e instanceof Uint8Array))return r(Error("Iconv decoding stream needs buffers as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i,this.encoding),r()}catch(e){r(e)}},i.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},i.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",function(e){t+=e}),this.on("end",function(){e(null,t)}),this},{IconvLiteEncoderStream:r,IconvLiteDecoderStream:i}}},19905:(e,t,r)=>{try{var n=r(28354);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(23206)}},23206:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},66650:(e,t,r)=>{var n;!function(){"use strict";var t="object"==typeof window?window:{},i=!t.JS_MD4_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;i&&(t=global);var o,s=!t.JS_MD4_NO_COMMON_JS&&e.exports,a=r.amdO,l=!t.JS_MD4_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,c="0123456789abcdef".split(""),u=[128,32768,8388608,-0x80000000],d=[0,8,16,24],h=["hex","array","digest","buffer","arrayBuffer"],f=[];if(l){var p=new ArrayBuffer(68);o=new Uint8Array(p),f=new Uint32Array(p)}var m=function(e){return function(t){return new y(!0).update(t)[e]()}},g=function(e){var t=r(55511),n=r(79428).Buffer;return function(r){if("string"==typeof r)return t.createHash("md4").update(r,"utf8").digest("hex");if(l&&r instanceof ArrayBuffer)r=new Uint8Array(r);else if(void 0===r.length)return e(r);return t.createHash("md4").update(new n(r)).digest("hex")}};function y(e){if(e)f[0]=f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0,this.blocks=f,this.buffer8=o;else if(l){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0}y.prototype.update=function(e){if(!this.finalized){var t="string"!=typeof e;t&&l&&e instanceof ArrayBuffer&&(e=new Uint8Array(e));for(var r,n,i=0,o=e.length||0,s=this.blocks,a=this.buffer8;i<o;){if(this.hashed&&(this.hashed=!1,s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t){if(l)for(n=this.start;i<o&&n<64;++i)a[n++]=e[i];else for(n=this.start;i<o&&n<64;++i)s[n>>2]|=e[i]<<d[3&n++]}else if(l)for(n=this.start;i<o&&n<64;++i)(r=e.charCodeAt(i))<128?a[n++]=r:(r<2048?a[n++]=192|r>>6:(r<55296||r>=57344?a[n++]=224|r>>12:(r=65536+((1023&r)<<10|1023&e.charCodeAt(++i)),a[n++]=240|r>>18,a[n++]=128|r>>12&63),a[n++]=128|r>>6&63),a[n++]=128|63&r);else for(n=this.start;i<o&&n<64;++i)(r=e.charCodeAt(i))<128?s[n>>2]|=r<<d[3&n++]:(r<2048?s[n>>2]|=(192|r>>6)<<d[3&n++]:(r<55296||r>=57344?s[n>>2]|=(224|r>>12)<<d[3&n++]:(r=65536+((1023&r)<<10|1023&e.charCodeAt(++i)),s[n>>2]|=(240|r>>18)<<d[3&n++],s[n>>2]|=(128|r>>12&63)<<d[3&n++]),s[n>>2]|=(128|r>>6&63)<<d[3&n++]),s[n>>2]|=(128|63&r)<<d[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this}},y.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=u[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,this.hash()}},y.prototype.hash=function(){var e,t,r,n,i,o,s,a,l=this.blocks;this.first?t=(t=((r=(r=((n=(n=(0xefcdab89&(e=(e=l[0]-1)<<3|e>>>29)|0x98badcfe&~e)+l[1]+0x10325476)<<7|n>>>25)&e|0xefcdab89&~n)+l[2]-0x67452302)<<11|r>>>21)&n|~r&e)+l[3]-0x10325477)<<19|t>>>13:(e=this.h0,e+=((t=this.h1)&(r=this.h2)|~t&(n=this.h3))+l[0],n+=((e=e<<3|e>>>29)&t|~e&r)+l[1],r+=((n=n<<7|n>>>25)&e|~n&t)+l[2],t+=((r=r<<11|r>>>21)&n|~r&e)+l[3],t=t<<19|t>>>13),e+=(t&r|~t&n)+l[4],n+=((e=e<<3|e>>>29)&t|~e&r)+l[5],r+=((n=n<<7|n>>>25)&e|~n&t)+l[6],t+=((r=r<<11|r>>>21)&n|~r&e)+l[7],e+=((t=t<<19|t>>>13)&r|~t&n)+l[8],n+=((e=e<<3|e>>>29)&t|~e&r)+l[9],r+=((n=n<<7|n>>>25)&e|~n&t)+l[10],t+=((r=r<<11|r>>>21)&n|~r&e)+l[11],e+=((t=t<<19|t>>>13)&r|~t&n)+l[12],n+=((e=e<<3|e>>>29)&t|~e&r)+l[13],r+=((n=n<<7|n>>>25)&e|~n&t)+l[14],t+=((r=r<<11|r>>>21)&n|~r&e)+l[15],e+=((o=(t=t<<19|t>>>13)&r)|t&n|r&n)+l[0]+0x5a827999,n+=((i=(e=e<<3|e>>>29)&t)|e&r|o)+l[4]+0x5a827999,r+=((a=(n=n<<5|n>>>27)&e)|n&t|i)+l[8]+0x5a827999,t+=((s=(r=r<<9|r>>>23)&n)|r&e|a)+l[12]+0x5a827999,e+=((o=(t=t<<13|t>>>19)&r)|t&n|s)+l[1]+0x5a827999,n+=((i=(e=e<<3|e>>>29)&t)|e&r|o)+l[5]+0x5a827999,r+=((a=(n=n<<5|n>>>27)&e)|n&t|i)+l[9]+0x5a827999,t+=((s=(r=r<<9|r>>>23)&n)|r&e|a)+l[13]+0x5a827999,e+=((o=(t=t<<13|t>>>19)&r)|t&n|s)+l[2]+0x5a827999,n+=((i=(e=e<<3|e>>>29)&t)|e&r|o)+l[6]+0x5a827999,r+=((a=(n=n<<5|n>>>27)&e)|n&t|i)+l[10]+0x5a827999,t+=((s=(r=r<<9|r>>>23)&n)|r&e|a)+l[14]+0x5a827999,e+=((o=(t=t<<13|t>>>19)&r)|t&n|s)+l[3]+0x5a827999,n+=((i=(e=e<<3|e>>>29)&t)|e&r|o)+l[7]+0x5a827999,r+=((a=(n=n<<5|n>>>27)&e)|n&t|i)+l[11]+0x5a827999,t+=((r=r<<9|r>>>23)&n|r&e|a)+l[15]+0x5a827999,e+=((o=(t=t<<13|t>>>19)^r)^n)+l[0]+0x6ed9eba1,n+=(o^(e=e<<3|e>>>29))+l[8]+0x6ed9eba1,r+=((a=(n=n<<9|n>>>23)^e)^t)+l[4]+0x6ed9eba1,t+=(a^(r=r<<11|r>>>21))+l[12]+0x6ed9eba1,e+=((o=(t=t<<15|t>>>17)^r)^n)+l[2]+0x6ed9eba1,n+=(o^(e=e<<3|e>>>29))+l[10]+0x6ed9eba1,r+=((a=(n=n<<9|n>>>23)^e)^t)+l[6]+0x6ed9eba1,t+=(a^(r=r<<11|r>>>21))+l[14]+0x6ed9eba1,e+=((o=(t=t<<15|t>>>17)^r)^n)+l[1]+0x6ed9eba1,n+=(o^(e=e<<3|e>>>29))+l[9]+0x6ed9eba1,r+=((a=(n=n<<9|n>>>23)^e)^t)+l[5]+0x6ed9eba1,t+=(a^(r=r<<11|r>>>21))+l[13]+0x6ed9eba1,e+=((o=(t=t<<15|t>>>17)^r)^n)+l[3]+0x6ed9eba1,n+=(o^(e=e<<3|e>>>29))+l[11]+0x6ed9eba1,r+=((a=(n=n<<9|n>>>23)^e)^t)+l[7]+0x6ed9eba1,t+=(a^(r=r<<11|r>>>21))+l[15]+0x6ed9eba1,t=t<<15|t>>>17,this.first?(this.h0=e+0x67452301<<0,this.h1=t-0x10325477<<0,this.h2=r-0x67452302<<0,this.h3=n+0x10325476<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0)},y.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3;return c[e>>4&15]+c[15&e]+c[e>>12&15]+c[e>>8&15]+c[e>>20&15]+c[e>>16&15]+c[e>>28&15]+c[e>>24&15]+c[t>>4&15]+c[15&t]+c[t>>12&15]+c[t>>8&15]+c[t>>20&15]+c[t>>16&15]+c[t>>28&15]+c[t>>24&15]+c[r>>4&15]+c[15&r]+c[r>>12&15]+c[r>>8&15]+c[r>>20&15]+c[r>>16&15]+c[r>>28&15]+c[r>>24&15]+c[n>>4&15]+c[15&n]+c[n>>12&15]+c[n>>8&15]+c[n>>20&15]+c[n>>16&15]+c[n>>28&15]+c[n>>24&15]},y.prototype.toString=y.prototype.hex,y.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255]},y.prototype.array=y.prototype.digest,y.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},y.prototype.buffer=y.prototype.arrayBuffer;var _=function(){var e=m("hex");i&&(e=g(e)),e.create=function(){return new y},e.update=function(t){return e.create().update(t)};for(var t=0;t<h.length;++t){var r=h[t];e[r]=m(r)}return e}();s?e.exports=_:(t.md4=_,a&&void 0!==(n=(function(){return _}).call(_,r,_,e))&&(e.exports=n))}()},22924:(e,t,r)=>{var n=r(89484);e.exports=function(e,t){t=t||{};var r=n.decode(e,t);if(!r)return null;var i=r.payload;if("string"==typeof i)try{var o=JSON.parse(i);null!==o&&"object"==typeof o&&(i=o)}catch(e){}return!0===t.complete?{header:r.header,payload:i,signature:r.signature}:i}},43008:(e,t,r)=>{e.exports={decode:r(22924),verify:r(3535),sign:r(91719),JsonWebTokenError:r(73077),NotBeforeError:r(27602),TokenExpiredError:r(69796)}},73077:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},27602:(e,t,r)=>{var n=r(73077),i=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},69796:(e,t,r)=>{var n=r(73077),i=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},93513:(e,t,r)=>{let n=r(46205);e.exports=n.satisfies(process.version,">=15.7.0")},12801:(e,t,r)=>{var n=r(46205);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},50603:(e,t,r)=>{let n=r(46205);e.exports=n.satisfies(process.version,">=16.9.0")},70563:(e,t,r)=>{var n=r(83337);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var i=n(e);if(void 0===i)return;return Math.floor(r+i/1e3)}if("number"==typeof e)return r+e}},46799:(e,t,r)=>{let n=r(93513),i=r(50603),o={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},s={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let r=t.asymmetricKeyType;if(!r)return;let a=o[r];if(!a)throw Error(`Unknown key type "${r}".`);if(!a.includes(e))throw Error(`"alg" parameter for "${r}" key type must be one of: ${a.join(", ")}.`);if(n)switch(r){case"ec":let l=t.asymmetricKeyDetails.namedCurve,c=s[e];if(l!==c)throw Error(`"alg" parameter "${e}" requires curve "${c}".`);break;case"rsa-pss":if(i){let r=parseInt(e.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:i,saltLength:o}=t.asymmetricKeyDetails;if(n!==`sha${r}`||i!==n)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==o&&o>r>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},92786:(e,t,r)=>{var n=r(24653),i=r(95957).Buffer,o=r(55511),s=r(37846),a=r(28354),l="secret must be a string or buffer",c="key must be a string or a buffer",u="function"==typeof o.createPublicKey;function d(e){if(!i.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw m(c)}function h(e){if(!i.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw m("key must be a string, a buffer or an object")}function f(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function m(e){var t=[].slice.call(arguments,1);return TypeError(a.format.bind(a,e).apply(null,t))}function g(e){var t;return t=e,i.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,r){(function(e){if(!i.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export))throw m(l)})(r),t=g(t);var n=o.createHmac("sha"+e,r);return f((n.update(t),n.digest("base64")))}}function _(e){return function(t,r,o){var s=y(e)(t,o);return n(i.from(r),i.from(s))}}function E(e){return function(t,r){h(r),t=g(t);var n=o.createSign("RSA-SHA"+e);return f((n.update(t),n.sign(r,"base64")))}}function v(e){return function(t,r,n){d(n),t=g(t),r=p(r);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify(n,r,"base64")}}function b(e){return function(t,r){h(r),t=g(t);var n=o.createSign("RSA-SHA"+e);return f((n.update(t),n.sign({key:r,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function T(e){return function(t,r,n){d(n),t=g(t),r=p(r);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:n,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function w(e){var t=E(e);return function(){var r=t.apply(null,arguments);return s.derToJose(r,"ES"+e)}}function S(e){var t=v(e);return function(r,n,i){return t(r,n=s.joseToDer(n,"ES"+e).toString("base64"),i)}}function A(){return function(){return""}}function C(){return function(e,t){return""===t}}u&&(c+=" or a KeyObject",l+="or a KeyObject"),e.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!t)throw m('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var r=(t[1]||t[3]).toLowerCase(),n=t[2];return{sign:({hs:y,rs:E,ps:b,es:w,none:A})[r](n),verify:({hs:_,rs:v,ps:T,es:S,none:C})[r](n)}}},89484:(e,t,r)=>{var n=r(97520),i=r(62280);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=i.verify,t.decode=i.decode,t.isValid=i.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new i(e)}},64291:(e,t,r)=>{var n=r(95957).Buffer,i=r(27910);function o(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}r(28354).inherits(o,i),o.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},o.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=o},97520:(e,t,r)=>{var n=r(95957).Buffer,i=r(64291),o=r(92786),s=r(27910),a=r(21050),l=r(28354);function c(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){var t,r,n,i=e.header,s=e.payload,u=e.secret||e.privateKey,d=e.encoding,h=o(i.alg),f=(t=(t=d)||"utf8",r=c(a(i),"binary"),n=c(a(s),t),l.format("%s.%s",r,n)),p=h.sign(f,u);return l.format("%s.%s",f,p)}function d(e){var t=new i(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new i(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}l.inherits(d,s),d.prototype.sign=function(){try{var e=u({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},d.sign=u,e.exports=d},21050:(e,t,r)=>{var n=r(79428).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},62280:(e,t,r)=>{var n=r(95957).Buffer,i=r(64291),o=r(92786),s=r(27910),a=r(21050),l=r(28354),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){var t=e.split(".",1)[0];return function(e){if("[object Object]"===Object.prototype.toString.call(e))return e;try{return JSON.parse(e)}catch(e){return}}(n.from(t,"base64").toString("binary"))}function d(e){return e.split(".")[2]}function h(e){return c.test(e)&&!!u(e)}function f(e,t,r){if(!t){var n=Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var i=d(e=a(e)),s=e.split(".",2).join(".");return o(t).verify(s,i,r)}function p(e,t){if(t=t||{},!h(e=a(e)))return null;var r,i,o=u(e);if(!o)return null;var s=(r=r||"utf8",i=e.split(".")[1],n.from(i,"base64").toString(r));return("JWT"===o.typ||t.json)&&(s=JSON.parse(s,t.encoding)),{header:o,payload:s,signature:d(e)}}function m(e){var t=new i((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new i(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}l.inherits(m,s),m.prototype.verify=function(){try{var e=f(this.signature.buffer,this.algorithm,this.key.buffer),t=p(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=p,m.isValid=h,m.verify=f,e.exports=m},91719:(e,t,r)=>{let n=r(70563),i=r(12801),o=r(46799),s=r(89484),a=r(55067),l=r(41382),c=r(3432),u=r(62451),d=r(49529),h=r(33199),f=r(23135),{KeyObject:p,createSecretKey:m,createPrivateKey:g}=r(55511),y=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&y.splice(3,0,"PS256","PS384","PS512");let _={expiresIn:{isValid:function(e){return c(e)||h(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||h(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return h(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:a.bind(null,y),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},E={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function v(e,t,r,n){if(!d(r))throw Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(i){let o=e[i];if(!o){if(!t)throw Error('"'+i+'" is not allowed in "'+n+'"');return}if(!o.isValid(r[i]))throw Error(o.message)})}let b={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},T=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,i){var a,l;"function"==typeof r?(i=r,r={}):r=r||{};let c="object"==typeof e&&!Buffer.isBuffer(e),u=Object.assign({alg:r.algorithm||"HS256",typ:c?"JWT":void 0,kid:r.keyid},r.header);function d(e){if(i)return i(e);throw e}if(!t&&"none"!==r.algorithm)return d(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof p))try{t=g(t)}catch(e){try{t=m("string"==typeof t?Buffer.from(t):t)}catch(e){return d(Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==t.type)return d(Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==t.type)return d(Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!r.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return d(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===e)return d(Error("payload is required"));if(c){try{a=e,v(E,!0,a,"payload")}catch(e){return d(e)}r.mutatePayload||(e=Object.assign({},e))}else{let t=T.filter(function(e){return void 0!==r[e]});if(t.length>0)return d(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return d(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return d(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{l=r,v(_,!1,l,"options")}catch(e){return d(e)}if(!r.allowInvalidAsymmetricKeyTypes)try{o(u.alg,t)}catch(e){return d(e)}let h=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:c&&(e.iat=h),void 0!==r.notBefore){try{e.nbf=n(r.notBefore,h)}catch(e){return d(e)}if(void 0===e.nbf)return d(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=n(r.expiresIn,h)}catch(e){return d(e)}if(void 0===e.exp)return d(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(b).forEach(function(t){let n=b[t];if(void 0!==r[t]){if(void 0!==e[n])return d(Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=r[t]}});let y=r.encoding||"utf8";if("function"==typeof i)i=i&&f(i),s.createSign({header:u,privateKey:t,payload:e,encoding:y}).once("error",i).once("done",function(e){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)return i(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));i(null,e)});else{let n=s.sign({header:u,payload:e,secret:t,encoding:y});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&n.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return n}}},3535:(e,t,r)=>{let n=r(73077),i=r(27602),o=r(69796),s=r(22924),a=r(70563),l=r(46799),c=r(12801),u=r(89484),{KeyObject:d,createSecretKey:h,createPublicKey:f}=r(55511),p=["RS256","RS384","RS512"],m=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],y=["HS256","HS384","HS512"];c&&(p.splice(p.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,c){let _,E,v;if("function"!=typeof r||c||(c=r,r={}),r||(r={}),r=Object.assign({},r),_=c||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return _(new n("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return _(new n("nonce must be a non-empty string"));if(void 0!==r.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof r.allowInvalidAsymmetricKeyTypes)return _(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));let b=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return _(new n("jwt must be provided"));if("string"!=typeof e)return _(new n("jwt must be a string"));let T=e.split(".");if(3!==T.length)return _(new n("jwt malformed"));try{E=s(e,{complete:!0})}catch(e){return _(e)}if(!E)return _(new n("invalid token"));let w=E.header;if("function"==typeof t){if(!c)return _(new n("verify must be called asynchronous if secret or public key is provided as a callback"));v=t}else v=function(e,r){return r(null,t)};return v(w,function(t,s){let c;if(t)return _(new n("error in secret or public key callback: "+t.message));let v=""!==T[2].trim();if(!v&&s)return _(new n("jwt signature is required"));if(v&&!s)return _(new n("secret or public key must be provided"));if(!v&&!r.algorithms)return _(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=s&&!(s instanceof d))try{s=f(s)}catch(e){try{s=h("string"==typeof s?Buffer.from(s):s)}catch(e){return _(new n("secretOrPublicKey is not valid key material"))}}if(r.algorithms||("secret"===s.type?r.algorithms=y:["rsa","rsa-pss"].includes(s.asymmetricKeyType)?r.algorithms=g:"ec"===s.asymmetricKeyType?r.algorithms=m:r.algorithms=p),-1===r.algorithms.indexOf(E.header.alg))return _(new n("invalid algorithm"));if(w.alg.startsWith("HS")&&"secret"!==s.type)return _(new n(`secretOrPublicKey must be a symmetric key when using ${w.alg}`));if(/^(?:RS|PS|ES)/.test(w.alg)&&"public"!==s.type)return _(new n(`secretOrPublicKey must be an asymmetric key when using ${w.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{l(w.alg,s)}catch(e){return _(e)}try{c=u.verify(e,E.header.alg,s)}catch(e){return _(e)}if(!c)return _(new n("invalid signature"));let S=E.payload;if(void 0!==S.nbf&&!r.ignoreNotBefore){if("number"!=typeof S.nbf)return _(new n("invalid nbf value"));if(S.nbf>b+(r.clockTolerance||0))return _(new i("jwt not active",new Date(1e3*S.nbf)))}if(void 0!==S.exp&&!r.ignoreExpiration){if("number"!=typeof S.exp)return _(new n("invalid exp value"));if(b>=S.exp+(r.clockTolerance||0))return _(new o("jwt expired",new Date(1e3*S.exp)))}if(r.audience){let e=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(S.aud)?S.aud:[S.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return _(new n("jwt audience invalid. expected: "+e.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&S.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(S.iss)))return _(new n("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&S.sub!==r.subject)return _(new n("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&S.jti!==r.jwtid)return _(new n("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&S.nonce!==r.nonce)return _(new n("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof S.iat)return _(new n("iat required when maxAge is specified"));let e=a(r.maxAge,S.iat);if(void 0===e)return _(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(b>=e+(r.clockTolerance||0))return _(new o("maxAge exceeded",new Date(1e3*e)))}return!0===r.complete?_(null,{header:w,payload:S,signature:E.signature}):_(null,S)})}},55067:e=>{var t,r,n=1/0,i=0/0,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=/^(?:0|[1-9]\d*)$/,u=parseInt;function d(e){return e!=e}var h=Object.prototype,f=h.hasOwnProperty,p=h.toString,m=h.propertyIsEnumerable,g=(t=Object.keys,r=Object,function(e){return t(r(e))}),y=Math.max,_=Array.isArray;function E(e){var t,r;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=0x1fffffffffffff&&!("[object Function]"==(r=v(e)?p.call(e):"")||"[object GeneratorFunction]"==r)}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return!!e&&"object"==typeof e}e.exports=function(e,t,r,T){e=E(e)?e:(w=e)?function(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}(E(w)?function(e,t){var r,n=_(e)||b(e)&&E(e)&&f.call(e,"callee")&&(!m.call(e,"callee")||"[object Arguments]"==p.call(e))?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=n.length,o=!!i;for(var s in e)f.call(e,s)&&!(o&&("length"==s||(r=null==(r=i)?0x1fffffffffffff:r)&&("number"==typeof s||c.test(s))&&s>-1&&s%1==0&&s<r))&&n.push(s);return n}(w):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||h))return g(e);var t,r=[];for(var n in Object(e))f.call(e,n)&&"constructor"!=n&&r.push(n);return r}(w),function(e){return w[e]}):[],r=r&&!T?(C=(A=(S=r)?(S=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||b(t)&&"[object Symbol]"==p.call(t))return i;if(v(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=v(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=a.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?i:+e}(S))===n||S===-n?(S<0?-1:1)*17976931348623157e292:S==S?S:0:0===S?S:0)%1,A==A?C?A-C:A:0):0;var w,S,A,C,O,I=e.length;return r<0&&(r=y(I+r,0)),"string"==typeof(O=e)||!_(O)&&b(O)&&"[object String]"==p.call(O)?r<=I&&e.indexOf(t,r)>-1:!!I&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,o=r+-1;++o<i;)if(t(e[o],o,e))return o;return -1}(e,d,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}(e,t,r)>-1}},41382:e=>{var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"==t.call(e)}},3432:e=>{var t=1/0,r=0/0,n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){var u,d,h;return"number"==typeof e&&e==(h=(d=(u=e)?(u=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return r;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var d=o.test(e);return d||s.test(e)?a(e.slice(2),d?2:8):i.test(e)?r:+e}(u))===t||u===-t?(u<0?-1:1)*17976931348623157e292:u==u?u:0:0===u?u:0)%1,d==d?h?d-h:d:0)}},62451:e=>{var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"==t.call(e)}},49529:e=>{var t,r,n=Object.prototype,i=Function.prototype.toString,o=n.hasOwnProperty,s=i.call(Object),a=n.toString,l=(t=Object.getPrototypeOf,r=Object,function(e){return t(r(e))});e.exports=function(e){if(!(e&&"object"==typeof e)||"[object Object]"!=a.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var r=o.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&i.call(r)==s}},33199:e=>{var t=Object.prototype.toString,r=Array.isArray;e.exports=function(e){var n;return"string"==typeof e||!r(e)&&!!(n=e)&&"object"==typeof n&&"[object String]"==t.call(e)}},23135:e=>{var t=1/0,r=0/0,n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,u){var d,h,f,p;if("function"!=typeof u)throw TypeError("Expected a function");return p=(f=(h=e)?(h=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return r;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var d=o.test(e);return d||s.test(e)?a(e.slice(2),d?2:8):i.test(e)?r:+e}(h))===t||h===-t?(h<0?-1:1)*17976931348623157e292:h==h?h:0:0===h?h:0)%1,e=f==f?p?f-p:f:0,function(){return--e>0&&(d=u.apply(this,arguments)),e<=1&&(u=void 0),d}}(2,e)}},83337:e=>{function t(e,t,r,n){return Math.round(e/r)+" "+n+(t>=1.5*r?"s":"")}e.exports=function(e,r){r=r||{};var n,i,o=typeof e;if("string"===o&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===o&&isFinite(e))return r.long?(n=Math.abs(e))>=864e5?t(e,n,864e5,"day"):n>=36e5?t(e,n,36e5,"hour"):n>=6e4?t(e,n,6e4,"minute"):n>=1e3?t(e,n,1e3,"second"):e+" ms":(i=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":i>=36e5?Math.round(e/36e5)+"h":i>=6e4?Math.round(e/6e4)+"m":i>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},74955:(e,t,r)=>{"use strict";let n=r(27910).Duplex,i=Symbol("Callback"),o=Symbol("Other");class s extends n{constructor(e){super(e),this[i]=null,this[o]=null}_read(){let e=this[i];e&&(this[i]=null,e())}_write(e,t,r){this[o][i]=r,this[o].push(e)}_final(e){this[o].on("end",e),this[o].push(null)}}class a{constructor(e){this.socket1=new s(e),this.socket2=new s(e),this.socket1[o]=this.socket2,this.socket2[o]=this.socket1}}e.exports=a},66794:e=>{e.exports=global.process},68055:(e,t,r)=>{"use strict";let n;let{SymbolDispose:i}=r(45658),{AbortError:o,codes:s}=r(10839),{isNodeStream:a,isWebStream:l,kControllerErrorFunction:c}=r(14599),u=r(62098),{ERR_INVALID_ARG_TYPE:d}=s,h=(e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new d(t,"AbortSignal",e)};e.exports.addAbortSignal=function(t,r){if(h(t,"signal"),!a(r)&&!l(r))throw new d("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let s=a(t)?()=>{t.destroy(new o(void 0,{cause:e.reason}))}:()=>{t[c](new o(void 0,{cause:e.reason}))};return e.aborted?s():u(t,(n=n||r(56040).addAbortListener)(e,s)[i]),t}},26249:(e,t,r)=>{"use strict";let{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:s}=r(45658),{Buffer:a}=r(79428),{inspect:l}=r(56040);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return a.alloc(0);let t=a.allocUnsafe(e>>>0),r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{let o=r.data;if(e>o.length)t+=o,e-=o.length;else{e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(o,0,e),this.head=r,r.data=n(o,e));break}++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){let t=a.allocUnsafe(e),r=e,n=this.head,i=0;do{let a=n.data;if(e>a.length)o(t,a,r-e),e-=a.length;else{e===a.length?(o(t,a,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new s(a.buffer,a.byteOffset,e),r-e),this.head=n,n.data=a.slice(e));break}++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},85882:(e,t,r)=>{"use strict";let{pipeline:n}=r(36946),i=r(62038),{destroyer:o}=r(37744),{isNodeStream:s,isReadable:a,isWritable:l,isWebStream:c,isTransformStream:u,isWritableStream:d,isReadableStream:h}=r(14599),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:m}}=r(10839),g=r(62098);e.exports=function(...e){let t,r,y,_,E;if(0===e.length)throw new m("streams");if(1===e.length)return i.from(e[0]);let v=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){let t=e.length-1;e[t]=i.from(e[t])}for(let t=0;t<e.length;++t)if(s(e[t])||c(e[t])){if(t<e.length-1&&!(a(e[t])||h(e[t])||u(e[t])))throw new p(`streams[${t}]`,v[t],"must be readable");if(t>0&&!(l(e[t])||d(e[t])||u(e[t])))throw new p(`streams[${t}]`,v[t],"must be writable")}let b=e[0],T=n(e,function(e){let t=_;_=null,t?t(e):e?E.destroy(e):S||w||E.destroy()}),w=!!(l(b)||d(b)||u(b)),S=!!(a(T)||h(T)||u(T));if(E=new i({writableObjectMode:!!(null!=b&&b.writableObjectMode),readableObjectMode:!!(null!=T&&T.readableObjectMode),writable:w,readable:S}),w){if(s(b))E._write=function(e,r,n){b.write(e,r)?n():t=n},E._final=function(e){b.end(),r=e},b.on("drain",function(){if(t){let e=t;t=null,e()}});else if(c(b)){let e=(u(b)?b.writable:b).getWriter();E._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(e){n(e)}},E._final=async function(t){try{await e.ready,e.close().catch(()=>{}),r=t}catch(e){t(e)}}}g(u(T)?T.readable:T,()=>{if(r){let e=r;r=null,e()}})}if(S){if(s(T))T.on("readable",function(){if(y){let e=y;y=null,e()}}),T.on("end",function(){E.push(null)}),E._read=function(){for(;;){let e=T.read();if(null===e){y=E._read;return}if(!E.push(e))return}};else if(c(T)){let e=(u(T)?T.readable:T).getReader();E._read=async function(){for(;;)try{let{value:t,done:r}=await e.read();if(!E.push(t))return;if(r){E.push(null);return}}catch{return}}}}return E._destroy=function(e,n){e||null===_||(e=new f),y=null,t=null,r=null,null===_?n(e):(_=n,s(T)&&o(T,e))},E}},37744:(e,t,r)=>{"use strict";let n=r(66794),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:s}=r(10839),{Symbol:a}=r(45658),{kIsDestroyed:l,isDestroyed:c,isFinished:u,isServerRequest:d}=r(14599),h=a("kDestroy"),f=a("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function m(e,t,r){let i=!1;function o(t){if(i)return;i=!0;let o=e._readableState,s=e._writableState;p(t,s,o),s&&(s.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(g,e,t):n.nextTick(y,e)}try{e._destroy(t||null,o)}catch(e){o(e)}}function g(e,t){_(e,t),y(e)}function y(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function _(e,t){let r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function E(e,t,r){let i=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(_,e,t):_(e,t))}function v(e){let t=!1;function r(r){if(t){E(e,null!=r?r:new o);return}t=!0;let i=e._readableState,s=e._writableState,a=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(h,r):r?E(e,r,!0):n.nextTick(b,e)}try{e._construct(e=>{n.nextTick(r,e)})}catch(e){n.nextTick(r,e)}}function b(e){e.emit(f)}function T(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function w(e){e.emit("close")}function S(e,t){e.emit("error",t),n.nextTick(w,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;let r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(f,t),e.listenerCount(f)>1||n.nextTick(v,e)},destroyer:function(e,t){!(!e||c(e))&&(t||u(e)||(t=new s),d(e)?(e.socket=null,e.destroy(t)):T(e)?e.abort():T(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(S,e,t):n.nextTick(w,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){let r=this._readableState,n=this._writableState,o=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?"function"==typeof t&&t():(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?m(this,e,t):this.once(h,function(r){m(this,i(r,e),t)})),this},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:E}},62038:(e,t,r)=>{"use strict";let n,i;let{ObjectDefineProperties:o,ObjectGetOwnPropertyDescriptor:s,ObjectKeys:a,ObjectSetPrototypeOf:l}=r(45658);e.exports=d;let c=r(18720),u=r(66016);l(d.prototype,c.prototype),l(d,c);{let e=a(u.prototype);for(let t=0;t<e.length;t++){let r=e[t];d.prototype[r]||(d.prototype[r]=u.prototype[r])}}function d(e){if(!(this instanceof d))return new d(e);c.call(this,e),u.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function h(){return void 0===n&&(n={}),n}o(d.prototype,{writable:{__proto__:null,...s(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...s(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...s(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...s(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...s(u.prototype,"writableLength")},writableFinished:{__proto__:null,...s(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...s(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...s(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...s(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),d.fromWeb=function(e,t){return h().newStreamDuplexFromReadableWritablePair(e,t)},d.toWeb=function(e){return h().newReadableWritablePairFromDuplex(e)},d.from=function(e){return i||(i=r(53870)),i(e,"body")}},53870:(e,t,r)=>{"use strict";let n=r(66794),i=r(79428),{isReadable:o,isWritable:s,isIterable:a,isNodeStream:l,isReadableNodeStream:c,isWritableNodeStream:u,isDuplexNodeStream:d,isReadableStream:h,isWritableStream:f}=r(14599),p=r(62098),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:y}}=r(10839),{destroyer:_}=r(37744),E=r(62038),v=r(18720),b=r(66016),{createDeferredPromise:T}=r(56040),w=r(29892),S=globalThis.Blob||i.Blob,A=void 0!==S?function(e){return e instanceof S}:function(e){return!1},C=globalThis.AbortController||r(25152).AbortController,{FunctionPrototypeCall:O}=r(45658);class I extends E{constructor(e){super(e),(null==e?void 0:e.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(null==e?void 0:e.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function N(e){let t,r,n,i,a;let l=e.readable&&"function"!=typeof e.readable.read?v.wrap(e.readable):e.readable,c=e.writable,u=!!o(l),d=!!s(c);function h(e){let t=i;i=null,t?t(e):e&&a.destroy(e)}return a=new I({readableObjectMode:!!(null!=l&&l.readableObjectMode),writableObjectMode:!!(null!=c&&c.writableObjectMode),readable:u,writable:d}),d&&(p(c,e=>{d=!1,e&&_(l,e),h(e)}),a._write=function(e,r,n){c.write(e,r)?n():t=n},a._final=function(e){c.end(),r=e},c.on("drain",function(){if(t){let e=t;t=null,e()}}),c.on("finish",function(){if(r){let e=r;r=null,e()}})),u&&(p(l,e=>{u=!1,e&&_(l,e),h(e)}),l.on("readable",function(){if(n){let e=n;n=null,e()}}),l.on("end",function(){a.push(null)}),a._read=function(){for(;;){let e=l.read();if(null===e){n=a._read;return}if(!a.push(e))return}}),a._destroy=function(e,o){e||null===i||(e=new m),n=null,t=null,r=null,null===i?o(e):(i=o,_(c,e),_(l,e))},a}e.exports=function e(t,r){if(d(t))return t;if(c(t))return N({readable:t});if(u(t))return N({writable:t});if(l(t))return N({writable:!1,readable:!1});if(h(t))return N({readable:v.fromWeb(t)});if(f(t))return N({writable:b.fromWeb(t)});if("function"==typeof t){let{value:e,write:i,final:o,destroy:s}=function(e){let{promise:t,resolve:r}=T(),i=new C,o=i.signal;return{value:e(async function*(){for(;;){let e=t;t=null;let{chunk:i,done:s,cb:a}=await e;if(n.nextTick(a),s)return;if(o.aborted)throw new m(void 0,{cause:o.reason});({promise:t,resolve:r}=T()),yield i}}(),{signal:o}),write(e,t,n){let i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){let t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(a(e))return w(I,e,{objectMode:!0,write:i,final:o,destroy:s});let l=null==e?void 0:e.then;if("function"==typeof l){let t;let r=O(l,e,e=>{if(null!=e)throw new y("nully","body",e)},e=>{_(t,e)});return t=new I({objectMode:!0,readable:!1,write:i,final(e){o(async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}})},destroy:s})}throw new y("Iterable, AsyncIterable or AsyncFunction",r,e)}if(A(t))return e(t.arrayBuffer());if(a(t))return w(I,t,{objectMode:!0,writable:!1});if(h(null==t?void 0:t.readable)&&f(null==t?void 0:t.writable))return I.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return N({readable:null!=t&&t.readable?c(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?u(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});let i=null==t?void 0:t.then;if("function"==typeof i){let e;return O(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{_(e,t)}),e=new I({objectMode:!0,writable:!1,read(){}})}throw new g(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},62098:(e,t,r)=>{"use strict";let n;let i=r(66794),{AbortError:o,codes:s}=r(10839),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:l}=s,{kEmptyObject:c,once:u}=r(56040),{validateAbortSignal:d,validateFunction:h,validateObject:f,validateBoolean:p}=r(32349),{Promise:m,PromisePrototypeThen:g,SymbolDispose:y}=r(45658),{isClosed:_,isReadable:E,isReadableNodeStream:v,isReadableStream:b,isReadableFinished:T,isReadableErrored:w,isWritable:S,isWritableNodeStream:A,isWritableStream:C,isWritableFinished:O,isWritableErrored:I,isNodeStream:N,willEmitClose:R,kIsClosedPromise:P}=r(14599),D=()=>{};function M(e,t,s){var p,m;if(2==arguments.length?(s=t,t=c):null==t?t=c:f(t,"options"),h(s,"callback"),d(t.signal,"options.signal"),s=u(s),b(e)||C(e))return function(e,t,s){let a=!1,l=D;if(t.signal){if(l=()=>{a=!0,s.call(e,new o(void 0,{cause:t.signal.reason}))},t.signal.aborted)i.nextTick(l);else{let i=(n=n||r(56040).addAbortListener)(t.signal,l),o=s;s=u((...t)=>{i[y](),o.apply(e,t)})}}let c=(...t)=>{a||i.nextTick(()=>s.apply(e,t))};return g(e[P].promise,c,c),D}(e,t,s);if(!N(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);let M=null!==(p=t.readable)&&void 0!==p?p:v(e),k=null!==(m=t.writable)&&void 0!==m?m:A(e),L=e._writableState,U=e._readableState,x=()=>{e.writable||j()},F=R(e)&&v(e)===M&&A(e)===k,B=O(e,!1),j=()=>{B=!0,e.destroyed&&(F=!1),F&&(!e.readable||M)||M&&!q||s.call(e)},q=T(e,!1),H=()=>{q=!0,e.destroyed&&(F=!1),F&&(!e.writable||k)||k&&!B||s.call(e)},Y=t=>{s.call(e,t)},V=_(e),$=()=>{V=!0;let t=I(e)||w(e);return t&&"boolean"!=typeof t?s.call(e,t):M&&!q&&v(e,!0)&&!T(e,!1)||k&&!B&&!O(e,!1)?s.call(e,new l):void s.call(e)},z=()=>{V=!0;let t=I(e)||w(e);if(t&&"boolean"!=typeof t)return s.call(e,t);s.call(e)},W=()=>{e.req.on("finish",j)};e.setHeader&&"function"==typeof e.abort?(e.on("complete",j),F||e.on("abort",$),e.req?W():e.on("request",W)):k&&!L&&(e.on("end",x),e.on("close",x)),F||"boolean"!=typeof e.aborted||e.on("aborted",$),e.on("end",H),e.on("finish",j),!1!==t.error&&e.on("error",Y),e.on("close",$),V?i.nextTick($):null!=L&&L.errorEmitted||null!=U&&U.errorEmitted?F||i.nextTick(z):!M&&(!F||E(e))&&(B||!1===S(e))?i.nextTick(z):!k&&(!F||S(e))&&(q||!1===E(e))?i.nextTick(z):U&&e.req&&e.aborted&&i.nextTick(z);let G=()=>{s=D,e.removeListener("aborted",$),e.removeListener("complete",j),e.removeListener("abort",$),e.removeListener("request",W),e.req&&e.req.removeListener("finish",j),e.removeListener("end",x),e.removeListener("close",x),e.removeListener("finish",j),e.removeListener("end",H),e.removeListener("error",Y),e.removeListener("close",$)};if(t.signal&&!V){let a=()=>{let r=s;G(),r.call(e,new o(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)i.nextTick(a);else{let i=(n=n||r(56040).addAbortListener)(t.signal,a),o=s;s=u((...t)=>{i[y](),o.apply(e,t)})}}return G}e.exports=M,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=c),null!==(r=t)&&void 0!==r&&r.cleanup&&(p(t.cleanup,"cleanup"),n=t.cleanup),new m((r,i)=>{let o=M(e,t,e=>{n&&o(),e?i(e):r()})})}},29892:(e,t,r)=>{"use strict";let n=r(66794),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:s}=r(45658),{Buffer:a}=r(79428),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:c}=r(10839).codes;e.exports=function(e,t,r){let u,d;if("string"==typeof t||t instanceof a)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])d=!0,u=t[o]();else if(t&&t[s])d=!1,u=t[s]();else throw new l("iterable",["Iterable"],t);let h=new e({objectMode:!0,highWaterMark:1,...r}),f=!1;async function p(e){let t=null!=e,r="function"==typeof u.throw;if(t&&r){let{value:t,done:r}=await u.throw(e);if(await t,r)return}if("function"==typeof u.return){let{value:e}=await u.return();await e}}async function m(){for(;;){try{let{value:e,done:t}=d?await u.next():u.next();if(t)h.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw f=!1,new c;if(h.push(t))continue;f=!1}}catch(e){h.destroy(e)}break}}return h._read=function(){f||(f=!0,m())},h._destroy=function(e,t){i(p(e),()=>n.nextTick(t,e),r=>n.nextTick(t,r||e))},h}},49143:(e,t,r)=>{"use strict";let{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(45658),{EventEmitter:o}=r(94735);function s(e){o.call(this,e)}function a(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(s.prototype,o.prototype),i(s,o),s.prototype.pipe=function(e,t){let r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",l),r.on("close",c));let s=!1;function l(){s||(s=!0,e.end())}function c(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){d(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function d(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",l),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",d),r.removeListener("close",d),e.removeListener("close",d)}return a(r,"error",u),a(e,"error",u),r.on("end",d),r.on("close",d),e.on("close",d),e.emit("pipe",r),e},e.exports={Stream:s,prependListener:a}},56611:(e,t,r)=>{"use strict";let n=globalThis.AbortController||r(25152).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:a},AbortError:l}=r(10839),{validateAbortSignal:c,validateInteger:u,validateObject:d}=r(32349),h=r(45658).Symbol("kWeak"),f=r(45658).Symbol("kResistStopPropagation"),{finished:p}=r(62098),m=r(85882),{addAbortSignalNoValidate:g}=r(68055),{isWritable:y,isNodeStream:_}=r(14599),{deprecate:E}=r(56040),{ArrayPrototypePush:v,Boolean:b,MathFloor:T,Number:w,NumberIsNaN:S,Promise:A,PromiseReject:C,PromiseResolve:O,PromisePrototypeThen:I,Symbol:N}=r(45658),R=N("kEmpty"),P=N("kEof");function D(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&d(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal");let n=1;(null==t?void 0:t.concurrency)!=null&&(n=T(t.concurrency));let i=n-1;return(null==t?void 0:t.highWaterMark)!=null&&(i=T(t.highWaterMark)),u(n,"options.concurrency",1),u(i,"options.highWaterMark",0),i+=n,(async function*(){let o,s;let a=r(56040).AbortSignalAny([null==t?void 0:t.signal].filter(b)),c=this,u=[],d={signal:a},h=!1,f=0;function p(){h=!0,m()}function m(){f-=1,g()}function g(){s&&!h&&f<n&&u.length<i&&(s(),s=null)}(async function(){try{for await(let t of c){if(h)return;if(a.aborted)throw new l;try{if((t=e(t,d))===R)continue;t=O(t)}catch(e){t=C(e)}f+=1,I(t,m,p),u.push(t),o&&(o(),o=null),!h&&(u.length>=i||f>=n)&&await new A(e=>{s=e})}u.push(P)}catch(t){let e=C(t);I(e,m,p),u.push(e)}finally{h=!0,o&&(o(),o=null)}})();try{for(;;){for(;u.length>0;){let e=await u[0];if(e===P)return;if(a.aborted)throw new l;e!==R&&(yield e),u.shift(),g()}await new A(e=>{o=e})}}finally{h=!0,s&&(s(),s=null)}}).call(this)}async function M(e,t){for await(let r of x.call(this,e,t))return!0;return!1}async function k(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await M.call(this,async(...t)=>!await e(...t),t)}async function L(e,t){for await(let r of x.call(this,e,t))return r}async function U(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r),R}for await(let e of D.call(this,r,t));}function x(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r)?t:R}return D.call(this,r,t)}class F extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function B(e,t,r){var i,s;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&d(r,"options"),(null==r?void 0:r.signal)!=null&&c(r.signal,"options.signal");let a=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){let e=new l(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(e)),e}let u=new n,m=u.signal;null!=r&&r.signal&&r.signal.addEventListener("abort",()=>u.abort(),{once:!0,[h]:this,[f]:!0});let g=!1;try{for await(let n of this){if(g=!0,null!=r&&null!==(s=r.signal)&&void 0!==s&&s.aborted)throw new l;a?t=await e(t,n,{signal:m}):(t=n,a=!0)}if(!g&&!a)throw new F}finally{u.abort()}return t}async function j(e){null!=e&&d(e,"options"),(null==e?void 0:e.signal)!=null&&c(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l(void 0,{cause:e.signal.reason});v(t,n)}return t}function q(e){if(S(e=w(e)))return 0;if(e<0)throw new a("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:E(function(e){return null!=e&&d(e,"options"),(null==e?void 0:e.signal)!=null&&c(e.signal,"options.signal"),(async function*(){let t=0;for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l({cause:e.signal.reason});yield[t++,n]}}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t){return null!=t&&d(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal"),e=q(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;e--<=0&&(yield r)}}).call(this)},filter:x,flatMap:function(e,t){let r=D.call(this,e,t);return(async function*(){for await(let e of r)yield*e}).call(this)},map:D,take:function(e,t){return null!=t&&d(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal"),e=q(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;if(e-- >0&&(yield r),e<=0)return}}).call(this)},compose:function(e,t){if(null!=t&&d(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal"),_(e)&&!y(e))throw new i("stream",e,"must be writable");let r=m(this,e);return null!=t&&t.signal&&g(t.signal,r),r}},e.exports.promiseReturningOperators={every:k,forEach:U,reduce:B,toArray:j,some:M,find:L}},73084:(e,t,r)=>{"use strict";let{ObjectSetPrototypeOf:n}=r(45658);e.exports=o;let i=r(88906);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}n(o.prototype,i.prototype),n(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},36946:(e,t,r)=>{let n,i,o;"use strict";let s=r(66794),{ArrayIsArray:a,Promise:l,SymbolAsyncIterator:c,SymbolDispose:u}=r(45658),d=r(62098),{once:h}=r(56040),f=r(37744),p=r(62038),{aggregateTwoErrors:m,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:y,ERR_MISSING_ARGS:_,ERR_STREAM_DESTROYED:E,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:b}=r(10839),{validateFunction:T,validateAbortSignal:w}=r(32349),{isIterable:S,isReadable:A,isReadableNodeStream:C,isNodeStream:O,isTransformStream:I,isWebStream:N,isReadableStream:R,isReadableFinished:P}=r(14599),D=globalThis.AbortController||r(25152).AbortController;function M(e,t,r){let n=!1;return e.on("close",()=>{n=!0}),{destroy:t=>{n||(n=!0,f.destroyer(e,t||new E("pipe")))},cleanup:d(e,{readable:t,writable:r},e=>{n=!e})}}function k(e){if(S(e))return e;if(C(e))return L(e);throw new g("val",["Readable","Iterable","AsyncIterable"],e)}async function*L(e){i||(i=r(18720)),yield*i.prototype[c].call(e)}async function U(e,t,r,{end:n}){let i;let o=null,s=e=>{if(e&&(i=e),o){let e=o;o=null,e()}},a=()=>new l((e,t)=>{i?t(i):o=()=>{i?t(i):e()}});t.on("drain",s);let c=d(t,{readable:!1},s);try{for await(let r of(t.writableNeedDrain&&await a(),e))t.write(r)||await a();n&&(t.end(),await a()),r()}catch(e){r(i!==e?m(i,e):e)}finally{c(),t.off("drain",s)}}async function x(e,t,r,{end:n}){I(t)&&(t=t.writable);let i=t.getWriter();try{for await(let t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function F(e,t,i){let l,c,h,f;if(1===e.length&&a(e[0])&&(e=e[0]),e.length<2)throw new _("streams");let m=new D,E=m.signal,T=null==i?void 0:i.signal,L=[];function F(){H(new b)}w(T,"options.signal"),o=o||r(56040).addAbortListener,T&&(l=o(T,F));let B=[],j=0;function q(e){H(e,0==--j)}function H(e,r){var n;if(e&&(!c||"ERR_STREAM_PREMATURE_CLOSE"===c.code)&&(c=e),c||r){for(;B.length;)B.shift()(c);null===(n=l)||void 0===n||n[u](),m.abort(),r&&(c||L.forEach(e=>e()),s.nextTick(t,c,h))}}for(let t=0;t<e.length;t++){let o=e[t],a=t<e.length-1,l=t>0,c=a||(null==i?void 0:i.end)!==!1,u=t===e.length-1;if(O(o)){if(c){let{destroy:e,cleanup:t}=M(o,a,l);B.push(e),A(o)&&u&&L.push(t)}function Y(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&q(e)}o.on("error",Y),A(o)&&u&&L.push(()=>{o.removeListener("error",Y)})}if(0===t){if("function"==typeof o){if(!S(f=o({signal:E})))throw new y("Iterable, AsyncIterable or Stream","source",f)}else f=S(o)||C(o)||I(o)?o:p.from(o)}else if("function"==typeof o){var V,$;if(f=o(f=I(f)?k(null===(V=f)||void 0===V?void 0:V.readable):k(f),{signal:E}),a){if(!S(f,!0))throw new y("AsyncIterable",`transform[${t-1}]`,f)}else{n||(n=r(73084));let e=new n({objectMode:!0}),t=null===($=f)||void 0===$?void 0:$.then;if("function"==typeof t)j++,t.call(f,t=>{h=t,null!=t&&e.write(t),c&&e.end(),s.nextTick(q)},t=>{e.destroy(t),s.nextTick(q,t)});else if(S(f,!0))j++,U(f,e,q,{end:c});else if(R(f)||I(f)){let t=f.readable||f;j++,U(t,e,q,{end:c})}else throw new y("AsyncIterable or Promise","destination",f);let{destroy:i,cleanup:o}=M(f=e,!1,!0);B.push(i),u&&L.push(o)}}else if(O(o)){if(C(f)){j+=2;let e=function(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new v)}),e.pipe(t,{end:!1}),n){function o(){i=!0,t.end()}P(e)?s.nextTick(o):e.once("end",o)}else r();return d(e,{readable:!0,writable:!1},t=>{let n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),d(t,{readable:!1,writable:!0},r)}(f,o,q,{end:c});A(o)&&u&&L.push(e)}else if(I(f)||R(f)){let e=f.readable||f;j++,U(e,o,q,{end:c})}else if(S(f))j++,U(f,o,q,{end:c});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],f);f=o}else if(N(o)){if(C(f))j++,x(k(f),o,q,{end:c});else if(R(f)||S(f))j++,x(f,o,q,{end:c});else if(I(f))j++,x(f.readable,o,q,{end:c});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],f);f=o}else f=p.from(o)}return(null!=E&&E.aborted||null!=T&&T.aborted)&&s.nextTick(F),f}e.exports={pipelineImpl:F,pipeline:function(...e){return F(e,h((T(e[e.length-1],"streams[stream.length - 1]"),e.pop())))}}},18720:(e,t,r)=>{"use strict";let n;let i=r(66794),{ArrayPrototypeIndexOf:o,NumberIsInteger:s,NumberIsNaN:a,NumberParseInt:l,ObjectDefineProperties:c,ObjectKeys:u,ObjectSetPrototypeOf:d,Promise:h,SafeSet:f,SymbolAsyncDispose:p,SymbolAsyncIterator:m,Symbol:g}=r(45658);e.exports=Y,Y.ReadableState=H;let{EventEmitter:y}=r(94735),{Stream:_,prependListener:E}=r(49143),{Buffer:v}=r(79428),{addAbortSignal:b}=r(68055),T=r(62098),w=r(56040).debuglog("stream",e=>{w=e}),S=r(26249),A=r(37744),{getHighWaterMark:C,getDefaultHighWaterMark:O}=r(81807),{aggregateTwoErrors:I,codes:{ERR_INVALID_ARG_TYPE:N,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:D,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:M},AbortError:k}=r(10839),{validateObject:L}=r(32349),U=g("kPaused"),{StringDecoder:x}=r(98333),F=r(29892);d(Y.prototype,_.prototype),d(Y,_);let B=()=>{},{errorOrDestroy:j}=A;function q(e){return{enumerable:!1,get(){return(this.state&e)!=0},set(t){t?this.state|=e:this.state&=~e}}}function H(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(62038)),this.state=6192,e&&e.objectMode&&(this.state|=1),n&&e&&e.readableObjectMode&&(this.state|=1),this.highWaterMark=e?C(this,e,"readableHighWaterMark",n):O(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[U]=null,e&&!1===e.emitClose&&(this.state&=-2049),e&&!1===e.autoDestroy&&(this.state&=-4097),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new x(e.encoding),this.encoding=e.encoding)}function Y(e){if(!(this instanceof Y))return new Y(e);let t=this instanceof r(62038);this._readableState=new H(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&b(e.signal,this)),_.call(this,e),A.construct(this,()=>{this._readableState.needReadable&&K(this,this._readableState)})}function V(e,t,r,n){let i;w("readableAddChunk",t);let o=e._readableState;if((1&o.state)==0&&("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=v.from(t,r).toString(o.encoding):(t=v.from(t,r),r=""))):t instanceof v?r="":_._isUint8Array(t)?(t=_._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new N("chunk",["string","Buffer","Uint8Array"],t))),i)j(e,i);else if(null===t)o.state&=-9,function(e,t){if(w("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?W(e):(t.needReadable=!1,t.emittedReadable=!0,G(e))}}(e,o);else if((1&o.state)!=0||t&&t.length>0){if(n){if((4&o.state)!=0)j(e,new M);else{if(o.destroyed||o.errored)return!1;$(e,o,t,!0)}}else if(o.ended)j(e,new D);else{if(o.destroyed||o.errored)return!1;o.state&=-9,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?$(e,o,t,!1):K(e,o)):$(e,o,t,!1)}}else n||(o.state&=-9,K(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function $(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?((65536&t.state)!=0?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),(64&t.state)!=0&&W(e)),K(e,t)}function z(e,t){return e<=0||0===t.length&&t.ended?0:(1&t.state)!=0?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function W(e){let t=e._readableState;w("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(w("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(G,e))}function G(e){let t=e._readableState;w("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ee(e)}function K(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,i.nextTick(Z,e,t))}function Z(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let r=t.length;if(w("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function X(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[U]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function Q(e){w("readable nexttick read 0"),e.read(0)}function J(e,t){w("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ee(e),t.flowing&&!t.reading&&e.read(0)}function ee(e){let t=e._readableState;for(w("flow",t.flowing);t.flowing&&null!==e.read(););}function et(e,t){"function"!=typeof e.read&&(e=Y.wrap(e,{objectMode:!0}));let r=er(e,t);return r.stream=e,r}async function*er(e,t){let r,n=B;function i(t){this===e?(n(),n=B):n=t}e.on("readable",i);let o=T(e,{writable:!1},e=>{r=e?I(r,e):null,n(),n=B});try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else if(r)throw r;else{if(null===r)return;await new h(i)}}}catch(e){throw r=I(r,e)}finally{(r||(null==t?void 0:t.destroyOnReturn)!==!1)&&(void 0===r||e._readableState.autoDestroy)?A.destroyer(e,null):(e.off("readable",i),o())}}function en(e,t){let r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function ei(e){let t=e._readableState;w("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(eo,t,e))}function eo(e,t){if(w("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length){if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)i.nextTick(es,t);else if(e.autoDestroy){let e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}}function es(e){!e.writable||e.writableEnded||e.destroyed||e.end()}function ea(){return void 0===n&&(n={}),n}c(H.prototype,{objectMode:q(1),ended:q(2),endEmitted:q(4),reading:q(8),constructed:q(16),sync:q(32),needReadable:q(64),emittedReadable:q(128),readableListening:q(256),resumeScheduled:q(512),errorEmitted:q(1024),emitClose:q(2048),autoDestroy:q(4096),destroyed:q(8192),closed:q(16384),closeEmitted:q(32768),multiAwaitDrain:q(65536),readingMore:q(131072),dataEmitted:q(262144)}),Y.prototype.destroy=A.destroy,Y.prototype._undestroy=A.undestroy,Y.prototype._destroy=function(e,t){t(e)},Y.prototype[y.captureRejectionSymbol]=function(e){this.destroy(e)},Y.prototype[p]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new k,this.destroy(e)),new h((t,r)=>T(this,n=>n&&n!==e?r(n):t(null)))},Y.prototype.push=function(e,t){return V(this,e,t,!1)},Y.prototype.unshift=function(e,t){return V(this,e,t,!0)},Y.prototype.isPaused=function(){let e=this._readableState;return!0===e[U]||!1===e.flowing},Y.prototype.setEncoding=function(e){let t=new x(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},Y.prototype.read=function(e){let t;w("read",e),void 0===e?e=NaN:s(e)||(e=l(e,10));let r=this._readableState,n=e;if(e>r.highWaterMark&&(r.highWaterMark=function(e){if(e>0x40000000)throw new P("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(r.state&=-129),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return w("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?ei(this):W(this),null;if(0===(e=z(e,r))&&r.ended)return 0===r.length&&ei(this),null;let i=(64&r.state)!=0;if(w("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&w("length less than watermark",i=!0),r.ended||r.reading||r.destroyed||r.errored||!r.constructed)w("reading, ended or constructing",i=!1);else if(i){w("do read"),r.state|=40,0===r.length&&(r.state|=64);try{this._read(r.highWaterMark)}catch(e){j(this,e)}r.state&=-33,r.reading||(e=z(n,r))}return null===(t=e>0?en(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.multiAwaitDrain?r.awaitDrainWriters.clear():r.awaitDrainWriters=null),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&ei(this)),null===t||r.errorEmitted||r.closeEmitted||(r.dataEmitted=!0,this.emit("data",t)),t},Y.prototype._read=function(e){throw new R("_read()")},Y.prototype.pipe=function(e,t){let r;let n=this,o=this._readableState;1!==o.pipes.length||o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new f(o.awaitDrainWriters?[o.awaitDrainWriters]:[])),o.pipes.push(e),w("pipe count=%d opts=%j",o.pipes.length,t);let s=t&&!1===t.end||e===i.stdout||e===i.stderr?m:a;function a(){w("onend"),e.end()}o.endEmitted?i.nextTick(s):n.once("end",s),e.on("unpipe",function t(i,s){w("onunpipe"),i===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,w("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),r&&e.removeListener("drain",r),e.removeListener("error",d),e.removeListener("unpipe",t),n.removeListener("end",a),n.removeListener("end",m),n.removeListener("data",u),l=!0,r&&o.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&r())});let l=!1;function c(){l||(1===o.pipes.length&&o.pipes[0]===e?(w("false write response, pause",0),o.awaitDrainWriters=e,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(e)&&(w("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(e)),n.pause()),r||(r=function(){let t=n._readableState;t.awaitDrainWriters===e?(w("pipeOnDrain",1),t.awaitDrainWriters=null):t.multiAwaitDrain&&(w("pipeOnDrain",t.awaitDrainWriters.size),t.awaitDrainWriters.delete(e)),(!t.awaitDrainWriters||0===t.awaitDrainWriters.size)&&n.listenerCount("data")&&n.resume()},e.on("drain",r))}function u(t){w("ondata");let r=e.write(t);w("dest.write",r),!1===r&&c()}function d(t){if(w("onerror",t),m(),e.removeListener("error",d),0===e.listenerCount("error")){let r=e._writableState||e._readableState;r&&!r.errorEmitted?j(e,t):e.emit("error",t)}}function h(){e.removeListener("finish",p),m()}function p(){w("onfinish"),e.removeListener("close",h),m()}function m(){w("unpipe"),n.unpipe(e)}return n.on("data",u),E(e,"error",d),e.once("close",h),e.once("finish",p),e.emit("pipe",n),!0===e.writableNeedDrain?c():o.flowing||(w("pipe resume"),n.resume()),e},Y.prototype.unpipe=function(e){let t=this._readableState;if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let r=o(t.pipes,e);return -1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},Y.prototype.on=function(e,t){let r=_.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,w("on readable",n.length,n.reading),n.length?W(this):n.reading||i.nextTick(Q,this)),r},Y.prototype.addListener=Y.prototype.on,Y.prototype.removeListener=function(e,t){let r=_.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(X,this),r},Y.prototype.off=Y.prototype.removeListener,Y.prototype.removeAllListeners=function(e){let t=_.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&i.nextTick(X,this),t},Y.prototype.resume=function(){let e=this._readableState;return e.flowing||(w("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(J,this,e))),e[U]=!1,this},Y.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[U]=!0,this},Y.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{j(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=u(e);for(let t=1;t<r.length;t++){let n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},Y.prototype[m]=function(){return et(this)},Y.prototype.iterator=function(e){return void 0!==e&&L(e,"options"),et(this,e)},c(Y.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._readableState.readable&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(H.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[U]},set(e){this[U]=!!e}}}),Y._fromList=en,Y.from=function(e,t){return F(Y,e,t)},Y.fromWeb=function(e,t){return ea().newStreamReadableFromReadableStream(e,t)},Y.toWeb=function(e,t){return ea().newReadableStreamFromStreamReadable(e,t)},Y.wrap=function(e,t){var r,n;return new Y({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){A.destroyer(e,t),r(t)}}).wrap(e)}},81807:(e,t,r)=>{"use strict";let{MathFloor:n,NumberIsInteger:i}=r(45658),{validateInteger:o}=r(32349),{ERR_INVALID_ARG_VALUE:s}=r(10839).codes,a=16384,l=16;function c(e){return e?l:a}e.exports={getHighWaterMark:function(e,t,r,o){let a=null!=t.highWaterMark?t.highWaterMark:o?t[r]:null;if(null!=a){if(!i(a)||a<0)throw new s(o?`options.${r}`:"options.highWaterMark",a);return n(a)}return c(e.objectMode)},getDefaultHighWaterMark:c,setDefaultHighWaterMark:function(e,t){o(t,"value",0),e?l=t:a=t}}},88906:(e,t,r)=>{"use strict";let{ObjectSetPrototypeOf:n,Symbol:i}=r(45658);e.exports=c;let{ERR_METHOD_NOT_IMPLEMENTED:o}=r(10839).codes,s=r(62038),{getHighWaterMark:a}=r(81807);n(c.prototype,s.prototype),n(c,s);let l=i("kCallback");function c(e){if(!(this instanceof c))return new c(e);let t=e?a(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),s.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function u(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}null!=r&&this.push(r),this.push(null),e&&e()})}function d(){this._final!==u&&u.call(this)}c.prototype._final=u,c.prototype._transform=function(e,t,r){throw new o("_transform()")},c.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(e,t)=>{if(e){r(e);return}null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[l]=r})},c.prototype._read=function(){if(this[l]){let e=this[l];this[l]=null,e()}}},14599:(e,t,r)=>{"use strict";let{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:o}=r(45658),s=o("nodejs.stream.destroyed"),a=o("nodejs.stream.errored"),l=o("nodejs.stream.readable"),c=o("nodejs.stream.writable"),u=o("nodejs.stream.disturbed"),d=o("nodejs.webstream.isClosedPromise"),h=o("nodejs.webstream.controllerErrorFunction");function f(e,t=!1){var r;return!!(e&&"function"==typeof e.pipe&&"function"==typeof e.on&&(!t||"function"==typeof e.pause&&"function"==typeof e.resume)&&(!e._writableState||(null===(r=e._readableState)||void 0===r?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function p(e){var t;return!!(e&&"function"==typeof e.write&&"function"==typeof e.on&&(!e._readableState||(null===(t=e._writableState)||void 0===t?void 0:t.writable)!==!1))}function m(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function g(e){return!!(e&&!m(e)&&"function"==typeof e.pipeThrough&&"function"==typeof e.getReader&&"function"==typeof e.cancel)}function y(e){return!!(e&&!m(e)&&"function"==typeof e.getWriter&&"function"==typeof e.abort)}function _(e){return!!(e&&!m(e)&&"object"==typeof e.readable&&"object"==typeof e.writable)}function E(e){if(!m(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[s]||null!=n&&n.destroyed)}function v(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function b(e,t){if(!f(e))return null;let r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function T(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!E(e)&&f(e)&&e.readable&&!b(e)}function w(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!E(e)&&p(e)&&e.writable&&!v(e)}function S(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function A(e){return"boolean"==typeof e._sent100&&S(e)}e.exports={isDestroyed:E,kIsDestroyed:s,isDisturbed:function(e){var t;return!!(e&&(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,r,n,i,o,s,l,c,u,d;return!!(e&&(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(s=e[a])&&void 0!==s?s:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(c=e._writableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==r?r:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null===(d=e._writableState)||void 0===d?void 0:d.errored))},kIsErrored:a,isReadable:T,kIsReadable:l,kIsClosedPromise:d,kControllerErrorFunction:h,kIsWritable:c,isClosed:function(e){if(!m(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&S(e)?e._closed:null},isDuplexNodeStream:function(e){return!!(e&&"function"==typeof e.pipe&&e._readableState&&"function"==typeof e.on&&"function"==typeof e.write)},isFinished:function(e,t){return m(e)?!!E(e)||!((null==t?void 0:t.readable)!==!1&&T(e)||(null==t?void 0:t.writable)!==!1&&w(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:f,isReadableStream:g,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!!t&&!t.errored&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:b,isReadableErrored:function(e){var t,r;return m(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:m,isWebStream:function(e){return g(e)||y(e)||_(e)},isWritable:w,isWritableNodeStream:p,isWritableStream:y,isWritableEnded:v,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;let r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return m(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)===void 0},isServerResponse:A,willEmitClose:function(e){if(!m(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&A(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:_}},66016:(e,t,r)=>{"use strict";let n;let i=r(66794),{ArrayPrototypeSlice:o,Error:s,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:l,ObjectDefineProperties:c,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:d,Symbol:h,SymbolHasInstance:f}=r(45658);e.exports=L,L.WritableState=M;let{EventEmitter:p}=r(94735),m=r(49143).Stream,{Buffer:g}=r(79428),y=r(37744),{addAbortSignal:_}=r(68055),{getHighWaterMark:E,getDefaultHighWaterMark:v}=r(81807),{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_MULTIPLE_CALLBACK:w,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:C,ERR_STREAM_NULL_VALUES:O,ERR_STREAM_WRITE_AFTER_END:I,ERR_UNKNOWN_ENCODING:N}=r(10839).codes,{errorOrDestroy:R}=y;function P(){}u(L.prototype,m.prototype),u(L,m);let D=h("kOnFinished");function M(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(62038)),this.objectMode=!!(e&&e.objectMode),n&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?E(this,e,"writableHighWaterMark",n):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(e&&!1===e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,k(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[D]=[]}function k(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function L(e){let t=this instanceof r(62038);if(!t&&!a(L,this))return new L(e);this._writableState=new M(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&_(e.signal,this)),m.call(this,e),y.construct(this,()=>{let e=this._writableState;e.writing||Y(this,e),$(this,e)})}function U(e,t,r,n){let o;let s=e._writableState;if("function"==typeof r)n=r,r=s.defaultEncoding;else{if(r){if("buffer"!==r&&!g.isEncoding(r))throw new N(r)}else r=s.defaultEncoding;"function"!=typeof n&&(n=P)}if(null===t)throw new O;if(!s.objectMode){if("string"==typeof t)!1!==s.decodeStrings&&(t=g.from(t,r),r="buffer");else if(t instanceof g)r="buffer";else if(m._isUint8Array(t))t=m._uint8ArrayToBuffer(t),r="buffer";else throw new b("chunk",["string","Buffer","Uint8Array"],t)}return(s.ending?o=new I:s.destroyed&&(o=new A("write")),o)?(i.nextTick(n,o),R(e,o,!0),o):(s.pendingcb++,function(e,t,r,n,i){let o=t.objectMode?1:r.length;t.length+=o;let s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==P&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}(e,s,t,r,n))}function x(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new A("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function F(e,t,r,n){--t.pendingcb,n(r),H(t),R(e,r)}function B(e,t){let r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o){R(e,new w);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?i.nextTick(F,e,r,t,o):F(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&Y(e,r),n?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},i.nextTick(j,r.afterWriteTickInfo)):q(e,r,1,o))}function j({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,q(e,t,r,n)}function q(e,t,r,n){for(t.ending||e.destroyed||0!==t.length||!t.needDrain||(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&H(t),$(e,t)}function H(e){var t,r;if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){let{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new A("write"))}let n=e[D].splice(0);for(let t=0;t<n.length;t++)n[t](null!==(r=e.errored)&&void 0!==r?r:new A("end"));k(e)}function Y(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=t,s=r.length-n;if(!s)return;let a=n;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;let n=t.allNoop?P:e=>{for(let t=a;t<r.length;++t)r[t].callback(e)},i=t.allNoop&&0===a?r:o(r,a);i.allBuffers=t.allBuffers,x(e,t,!0,t.length,i,"",n),k(t)}else{do{let{chunk:n,encoding:o,callback:s}=r[a];r[a++]=null,x(e,t,!1,i?1:n.length,n,o,s)}while(a<r.length&&!t.writing);a===r.length?k(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function V(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function $(e,t,r){V(t)&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function n(n){if(r){R(e,null!=n?n:w());return}if(r=!0,t.pendingcb--,n){let r=t[D].splice(0);for(let e=0;e<r.length;e++)r[e](n);R(e,n,t.sync)}else V(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,i.nextTick(z,e,t))}t.sync=!0,t.pendingcb++;try{e._final(n)}catch(e){n(e)}t.sync=!1}(e,t))),0===t.pendingcb&&(r?(t.pendingcb++,i.nextTick((e,t)=>{V(t)?z(e,t):t.pendingcb--},e,t)):V(t)&&(t.pendingcb++,z(e,t))))}function z(e,t){t.pendingcb--,t.finished=!0;let r=t[D].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}M.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},l(M.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),l(L,f,{__proto__:null,value:function(e){return!!a(this,e)||this===L&&e&&e._writableState instanceof M}}),L.prototype.pipe=function(){R(this,new S)},L.prototype.write=function(e,t,r){return!0===U(this,e,t,r)},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||Y(this,e))},L.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=d(e)),!g.isEncoding(e))throw new N(e);return this._writableState.defaultEncoding=e,this},L.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new T("_write()")},L.prototype._writev=null,L.prototype.end=function(e,t,r){let n;let o=this._writableState;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){let r=U(this,e,t);r instanceof s&&(n=r)}return o.corked&&(o.corked=1,this.uncork()),n||(o.errored||o.ending?o.finished?n=new C("end"):o.destroyed&&(n=new A("end")):(o.ending=!0,$(this,o,!0),o.ended=!0)),"function"==typeof r&&(n||o.finished?i.nextTick(r,n):o[D].push(r)),this},c(L.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._writableState.writable&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});let W=y.destroy;function G(){return void 0===n&&(n={}),n}L.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[D].length)&&i.nextTick(H,r),W.call(this,e,t),this},L.prototype._undestroy=y.undestroy,L.prototype._destroy=function(e,t){t(e)},L.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},L.fromWeb=function(e,t){return G().newStreamWritableFromWritableStream(e,t)},L.toWeb=function(e){return G().newWritableStreamFromStreamWritable(e)}},32349:(e,t,r)=>{"use strict";let{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:s,NumberIsInteger:a,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:c,NumberMIN_SAFE_INTEGER:u,NumberParseInt:d,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:f,String:p,StringPrototypeToUpperCase:m,StringPrototypeTrim:g}=r(45658),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:E,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:b,ERR_UNKNOWN_SIGNAL:T}}=r(10839),{normalizeEncoding:w}=r(56040),{isAsyncFunction:S,isArrayBufferView:A}=r(56040).types,C={},O=/^[0-7]+$/,I=y((e,t,r=u,n=c)=>{if("number"!=typeof e)throw new E(t,"number",e);if(!a(e))throw new b(t,"an integer",e);if(e<r||e>n)throw new b(t,`>= ${r} && <= ${n}`,e)}),N=y((e,t,r=-0x80000000,n=0x7fffffff)=>{if("number"!=typeof e)throw new E(t,"number",e);if(!a(e))throw new b(t,"an integer",e);if(e<r||e>n)throw new b(t,`>= ${r} && <= ${n}`,e)}),R=y((e,t,r=!1)=>{if("number"!=typeof e)throw new E(t,"number",e);if(!a(e))throw new b(t,"an integer",e);let n=r?1:0;if(e<n||e>0xffffffff)throw new b(t,`>= ${n} && <= 4294967295`,e)});function P(e,t){if("string"!=typeof e)throw new E(t,"string",e)}let D=y((e,t,r)=>{if(!i(r,e))throw new v(t,e,"must be one of: "+o(s(r,e=>"string"==typeof e?`'${e}'`:p(e)),", "))});function M(e,t){if("boolean"!=typeof e)throw new E(t,"boolean",e)}function k(e,t,r){return null!=e&&h(e,t)?e[t]:r}let L=y((e,t,r=null)=>{let i=k(r,"allowArray",!1),o=k(r,"allowFunction",!1);if(!k(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new E(t,"Object",e)}),U=y((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new E(t,"a dictionary",e)}),x=y((e,t,r=0)=>{if(!n(e))throw new E(t,"Array",e);if(e.length<r)throw new v(t,e,`must be longer than ${r}`)}),F=y((e,t="buffer")=>{if(!A(e))throw new E(t,["Buffer","TypedArray","DataView"],e)}),B=y((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new E(t,"AbortSignal",e)}),j=y((e,t)=>{if("function"!=typeof e)throw new E(t,"Function",e)}),q=y((e,t)=>{if("function"!=typeof e||S(e))throw new E(t,"Function",e)}),H=y((e,t)=>{if(void 0!==e)throw new E(t,"undefined",e)}),Y=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function V(e,t){if(void 0===e||!f(Y,e))throw new v(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===f(O,e))throw new v(t,e,"must be a 32-bit unsigned integer or an octal string");e=d(e,8)}return R(e,t),e},validateArray:x,validateStringArray:function(e,t){x(e,t);for(let r=0;r<e.length;r++)P(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){x(e,t);for(let r=0;r<e.length;r++)M(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){x(e,t);for(let r=0;r<e.length;r++){let n=e[r],i=`${t}[${r}]`;if(null==n)throw new E(i,"AbortSignal",n);B(n,i)}},validateBoolean:M,validateBuffer:F,validateDictionary:U,validateEncoding:function(e,t){let r=w(t),n=e.length;if("hex"===r&&n%2!=0)throw new v("encoding",t,`is invalid for data of length ${n}`)},validateFunction:j,validateInt32:N,validateInteger:I,validateNumber:function(e,t,r,n){if("number"!=typeof e)throw new E(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&l(e))throw new b(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:L,validateOneOf:D,validatePlainFunction:q,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===g(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new _(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(P(e,t),void 0===C[e]){if(void 0!==C[m(e)])throw new T(e+" (signals must use all capital letters)");throw new T(e)}},validateString:P,validateUint32:R,validateUndefined:H,validateUnion:function(e,t,r){if(!i(r,e))throw new E(t,`('${o(r,"|")}')`,e)},validateAbortSignal:B,validateLinkHeaderValue:function(e){if("string"==typeof e)return V(e,"hints"),e;if(n(e)){let t=e.length,r="";if(0===t)return r;for(let n=0;n<t;n++){let i=e[n];V(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new v("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},10839:(e,t,r)=>{"use strict";let{format:n,inspect:i}=r(1451),{AggregateError:o}=r(45658),s=globalThis.AggregateError||o,a=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],c=/^([A-Z][a-z0-9]*)+$/,u={};function d(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function h(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function f(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return d(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let i=(t.match(/%[dfijoOs]/g)||[]).length;return(d(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length)?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[a]=!0,u[e]=i}function p(e){let t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class m extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",(e,t,r)=>{d("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let o=[],s=[],a=[];for(let e of t)d("string"==typeof e,"All expected entries have to be of type string"),l.includes(e)?o.push(e.toLowerCase()):c.test(e)?s.push(e):(d("object"!==e,'The value "object" should be written as "Object"'),a.push(e));if(s.length>0){let e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{let e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let e=s.pop();n+=`an instance of ${s.join(", ")}, or ${e}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{let e=a.pop();n+=`one of ${a.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var u;if(null!==(u=r.constructor)&&void 0!==u&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{let e=i(r,{depth:-1});n+=`. Received ${e}`}}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n},TypeError),f("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=i(t);n.length>128&&(n=n.slice(0,128)+"...");let o=e.includes(".")?"property":"argument";return`The ${o} '${e}' ${r}. Received ${n}`},TypeError),f("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError),f("ERR_MISSING_ARGS",(...e)=>{let t;d(e.length>0,"At least one arg needs to be specified");let r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),f("ERR_OUT_OF_RANGE",(e,t,r)=>{let n;if(d(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>0x100000000)n=h(String(r));else if("bigint"==typeof r){n=String(r);let e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(n=h(n)),n+="n"}else n=i(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:m,aggregateTwoErrors:p(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new s([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:p,codes:u}},97842:(e,t,r)=>{"use strict";let n=r(27910);if(n&&"disable"===process.env.READABLE_STREAM){let t=n.promises;e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>t}),e.exports.Stream=n.Stream}else{let t=r(12574),n=r(85395),i=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=i,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get:()=>n}),e.exports.Stream=t.Stream}e.exports.default=e.exports},45658:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw TypeError(`Expected input to be an Array, got ${typeof e}`);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}
`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean,Uint8Array}},56040:(e,t,r)=>{"use strict";let n=r(79428),{format:i,inspect:o}=r(1451),{codes:{ERR_INVALID_ARG_TYPE:s}}=r(10839),{kResistStopPropagation:a,AggregateError:l,SymbolDispose:c}=r(45658),AbortSignal=globalThis.AbortSignal||r(25152).AbortSignal,u=globalThis.AbortController||r(25152).AbortController,d=Object.getPrototypeOf(async function(){}).constructor,h=globalThis.Blob||n.Blob,f=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new s(t,"AbortSignal",e)},p=(e,t)=>{if("function"!=typeof e)throw new s(t,"Function",e)};e.exports={AggregateError:l,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:i,inspect:o,types:{isAsyncFunction:e=>e instanceof d,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:void 0!==h?function(e){return e instanceof h}:function(e){return!1},deprecate:(e,t)=>e,addAbortListener:r(94735).addAbortListener||function(e,t){let r;if(void 0===e)throw new s("signal","AbortSignal",e);return f(e,"signal"),p(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[a]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[c](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:AbortSignal.any||function(e){if(1===e.length)return e[0];let t=new u,r=()=>t.abort();return e.forEach(e=>{f(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},1451:e=>{"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){let n=t.shift();if("f"===r)return n.toFixed(6);if("j"===r)return JSON.stringify(n);if("s"!==r||"object"!=typeof n)return n.toString();{let e=n.constructor!==Object?n.constructor.name:"";return`${e} {}`.trim()}}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":if(isNaN(e))return"NaN";if(Object.is(e,-0))return String(e);return e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},12574:(e,t,r)=>{"use strict";let{Buffer:n}=r(79428),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:s}=r(45658),{promisify:{custom:a}}=r(56040),{streamReturningOperators:l,promiseReturningOperators:c}=r(56611),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=r(10839),d=r(85882),{setDefaultHighWaterMark:h,getDefaultHighWaterMark:f}=r(81807),{pipeline:p}=r(36946),{destroyer:m}=r(37744),g=r(62098),y=r(85395),_=r(14599),E=e.exports=r(49143).Stream;for(let e of(E.isDestroyed=_.isDestroyed,E.isDisturbed=_.isDisturbed,E.isErrored=_.isErrored,E.isReadable=_.isReadable,E.isWritable=_.isWritable,E.Readable=r(18720),o(l))){let t=l[e];function v(...e){if(new.target)throw u();return E.Readable.from(s(t,this,e))}i(v,"name",{__proto__:null,value:t.name}),i(v,"length",{__proto__:null,value:t.length}),i(E.Readable.prototype,e,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(let e of o(c)){let t=c[e];function b(...e){if(new.target)throw u();return s(t,this,e)}i(b,"name",{__proto__:null,value:t.name}),i(b,"length",{__proto__:null,value:t.length}),i(E.Readable.prototype,e,{__proto__:null,value:b,enumerable:!1,configurable:!0,writable:!0})}E.Writable=r(66016),E.Duplex=r(62038),E.Transform=r(88906),E.PassThrough=r(73084),E.pipeline=p;let{addAbortSignal:T}=r(68055);E.addAbortSignal=T,E.finished=g,E.destroy=m,E.compose=d,E.setDefaultHighWaterMark=h,E.getDefaultHighWaterMark=f,i(E,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>y}),i(p,a,{__proto__:null,enumerable:!0,get:()=>y.pipeline}),i(g,a,{__proto__:null,enumerable:!0,get:()=>y.finished}),E.Stream=E,E._isUint8Array=function(e){return e instanceof Uint8Array},E._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},85395:(e,t,r)=>{"use strict";let{ArrayPrototypePop:n,Promise:i}=r(45658),{isIterable:o,isNodeStream:s,isWebStream:a}=r(14599),{pipelineImpl:l}=r(36946),{finished:c}=r(62098);r(12574),e.exports={finished:c,pipeline:function(...e){return new i((t,r)=>{let i,c;let u=e[e.length-1];if(u&&"object"==typeof u&&!s(u)&&!o(u)&&!a(u)){let t=n(e);i=t.signal,c=t.end}l(e,(e,n)=>{e?r(e):t(n)},{signal:i,end:c})})}}},23861:(e,t,r)=>{"use strict";e.exports=r(96212)()},96212:e=>{"use strict";function t(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}e.exports=function(e){if((e=e||{}).circles)return function(e){let r=[],n=[],i=new Map;if(i.set(Date,e=>new Date(e)),i.set(Map,(e,t)=>new Map(s(Array.from(e),t))),i.set(Set,(e,t)=>new Set(s(Array.from(e),t))),e.constructorHandlers)for(let t of e.constructorHandlers)i.set(t[0],t[1]);let o=null;return e.proto?function e(a){if("object"!=typeof a||null===a)return a;if(Array.isArray(a))return s(a,e);if(a.constructor!==Object&&(o=i.get(a.constructor)))return o(a,e);let l={};for(let s in r.push(a),n.push(l),a){let c=a[s];if("object"!=typeof c||null===c)l[s]=c;else if(c.constructor!==Object&&(o=i.get(c.constructor)))l[s]=o(c,e);else if(ArrayBuffer.isView(c))l[s]=t(c);else{let t=r.indexOf(c);-1!==t?l[s]=n[t]:l[s]=e(c)}}return r.pop(),n.pop(),l}:function e(a){if("object"!=typeof a||null===a)return a;if(Array.isArray(a))return s(a,e);if(a.constructor!==Object&&(o=i.get(a.constructor)))return o(a,e);let l={};for(let s in r.push(a),n.push(l),a){if(!1===Object.hasOwnProperty.call(a,s))continue;let c=a[s];if("object"!=typeof c||null===c)l[s]=c;else if(c.constructor!==Object&&(o=i.get(c.constructor)))l[s]=o(c,e);else if(ArrayBuffer.isView(c))l[s]=t(c);else{let t=r.indexOf(c);-1!==t?l[s]=n[t]:l[s]=e(c)}}return r.pop(),n.pop(),l};function s(e,s){let a=Object.keys(e),l=Array(a.length);for(let c=0;c<a.length;c++){let u=a[c],d=e[u];if("object"!=typeof d||null===d)l[u]=d;else if(d.constructor!==Object&&(o=i.get(d.constructor)))l[u]=o(d,s);else if(ArrayBuffer.isView(d))l[u]=t(d);else{let e=r.indexOf(d);-1!==e?l[u]=n[e]:l[u]=s(d)}}return l}}(e);let r=new Map;if(r.set(Date,e=>new Date(e)),r.set(Map,(e,t)=>new Map(i(Array.from(e),t))),r.set(Set,(e,t)=>new Set(i(Array.from(e),t))),e.constructorHandlers)for(let t of e.constructorHandlers)r.set(t[0],t[1]);let n=null;return e.proto?function e(o){if("object"!=typeof o||null===o)return o;if(Array.isArray(o))return i(o,e);if(o.constructor!==Object&&(n=r.get(o.constructor)))return n(o,e);let s={};for(let i in o){let a=o[i];"object"!=typeof a||null===a?s[i]=a:a.constructor!==Object&&(n=r.get(a.constructor))?s[i]=n(a,e):ArrayBuffer.isView(a)?s[i]=t(a):s[i]=e(a)}return s}:function e(o){if("object"!=typeof o||null===o)return o;if(Array.isArray(o))return i(o,e);if(o.constructor!==Object&&(n=r.get(o.constructor)))return n(o,e);let s={};for(let i in o){if(!1===Object.hasOwnProperty.call(o,i))continue;let a=o[i];"object"!=typeof a||null===a?s[i]=a:a.constructor!==Object&&(n=r.get(a.constructor))?s[i]=n(a,e):ArrayBuffer.isView(a)?s[i]=t(a):s[i]=e(a)}return s};function i(e,i){let o=Object.keys(e),s=Array(o.length);for(let a=0;a<o.length;a++){let l=o[a],c=e[l];"object"!=typeof c||null===c?s[l]=c:c.constructor!==Object&&(n=r.get(c.constructor))?s[l]=n(c,i):ArrayBuffer.isView(c)?s[l]=t(c):s[l]=i(c)}return s}}},95957:(e,t,r)=>{var n=r(79428),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},59050:(e,t,r)=>{"use strict";var n,i=r(79428),o=i.Buffer,s={};for(n in i)i.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(s[n]=i[n]);var a=s.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(a[n]=o[n]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,r){if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,r)}),a.alloc||(a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*0x40000000)throw RangeError('The value "'+e+'" is invalid for option "size"');var n=o(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}!s.constants&&(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s},1304:(e,t,r)=>{let n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(e,t){if(t=o(t),e instanceof i){if(!!t.loose===e.loose)return e;e=e.value}c("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){let t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],r=e.match(t);if(!r)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=o(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=i;let o=r(4879),{safeRe:s,t:a}=r(53898),l=r(90699),c=r(12592),u=r(13812),d=r(53731)},53731:(e,t,r)=>{let n=/\s+/g;class i{constructor(e,t){if(t=s(t),e instanceof i){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new i(e.raw,t)}if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!y(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&_(e[0])){this.set=[e];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=o.get(t);if(r)return r;let n=this.options.loose,i=n?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];l("hyphen replace",e=e.replace(i,R(this.options.includePrerelease))),l("comparator trim",e=e.replace(u[d.COMPARATORTRIM],h)),l("tilde trim",e=e.replace(u[d.TILDETRIM],f)),l("caret trim",e=e.replace(u[d.CARETTRIM],p));let s=e.split(" ").map(e=>v(e,this.options)).join(" ").split(/\s+/).map(e=>N(e,this.options));n&&(s=s.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE])))),l("range list",s);let c=new Map;for(let e of s.map(e=>new a(e,this.options))){if(y(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");let _=[...c.values()];return o.set(t,_),_}intersects(e,t){if(!(e instanceof i))throw TypeError("a Range is required");return this.set.some(r=>E(r,t)&&e.set.some(e=>E(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(P(this.set[t],e,this.options))return!0;return!1}}e.exports=i;let o=new(r(51254)),s=r(4879),a=r(1304),l=r(12592),c=r(13812),{safeRe:u,t:d,comparatorTrimReplace:h,tildeTrimReplace:f,caretTrimReplace:p}=r(53898),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(26822),y=e=>"<0.0.0-0"===e.value,_=e=>""===e.value,E=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(e=>i.intersects(e,t)),i=n.pop();return r},v=(e,t)=>(l("comp",e,t),l("caret",e=S(e,t)),l("tildes",e=T(e,t)),l("xrange",e=C(e,t)),l("stars",e=I(e,t)),e),b=e=>!e||"x"===e.toLowerCase()||"*"===e,T=(e,t)=>e.trim().split(/\s+/).map(e=>w(e,t)).join(" "),w=(e,t)=>{let r=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(r,(t,r,n,i,o)=>{let s;return l("tilde",e,t,r,n,i,o),b(r)?s="":b(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:b(i)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(l("replaceTilde pr",o),s=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,l("tilde return",s),s})},S=(e,t)=>e.trim().split(/\s+/).map(e=>A(e,t)).join(" "),A=(e,t)=>{l("caret",e,t);let r=t.loose?u[d.CARETLOOSE]:u[d.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,i,o,s)=>{let a;return l("caret",e,t,r,i,o,s),b(r)?a="":b(i)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:b(o)?a="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:s?(l("replaceCaret pr",s),a="0"===r?"0"===i?`>=${r}.${i}.${o}-${s} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}-${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o}-${s} <${+r+1}.0.0-0`):(l("no pr"),a="0"===r?"0"===i?`>=${r}.${i}.${o}${n} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o} <${+r+1}.0.0-0`),l("caret return",a),a})},C=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>O(e,t)).join(" ")),O=(e,t)=>{e=e.trim();let r=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(r,(r,n,i,o,s,a)=>{l("xRange",e,r,n,i,o,s,a);let c=b(i),u=c||b(o),d=u||b(s);return"="===n&&d&&(n=""),a=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0):o=+o+1,s=0):"<="===n&&(n="<",u?i=+i+1:o=+o+1),"<"===n&&(a="-0"),r=`${n+i}.${o}.${s}${a}`):u?r=`>=${i}.0.0${a} <${+i+1}.0.0-0`:d&&(r=`>=${i}.${o}.0${a} <${i}.${+o+1}.0-0`),l("xRange return",r),r})},I=(e,t)=>(l("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),N=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),R=e=>(t,r,n,i,o,s,a,l,c,u,d,h)=>(r=b(n)?"":b(i)?`>=${n}.0.0${e?"-0":""}`:b(o)?`>=${n}.${i}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`,l=b(c)?"":b(u)?`<${+c+1}.0.0-0`:b(d)?`<${c}.${+u+1}.0-0`:h?`<=${c}.${u}.${d}-${h}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`,`${r} ${l}`.trim()),P=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(l(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){let n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},13812:(e,t,r)=>{let n=r(12592),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=r(26822),{safeRe:s,safeSrc:a,t:l}=r(53898),c=r(4879),{compareIdentifiers:u}=r(62967);class d{constructor(e,t){if(t=c(t),e instanceof d){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?s[l.LOOSE]:s[l.FULL]);if(!r)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof d)){if("string"==typeof e&&e===this.version)return 0;e=new d(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof d||(e=new d(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof d||(e=new d(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;if(r===i)continue;else return u(r,i)}while(++t)}compareBuild(e){e instanceof d||(e=new d(e,this.options));let t=0;do{let r=this.build[t],i=e.build[t];if(n("build compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;if(r===i)continue;else return u(r,i)}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(t){let e=RegExp(`^${this.options.loose?a[l.PRERELEASELOOSE]:a[l.PRERELEASE]}$`),r=`-${t}`.match(e);if(!r||r[1]!==t)throw Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(r)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=d},83498:(e,t,r)=>{let n=r(2328);e.exports=(e,t)=>{let r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},90699:(e,t,r)=>{let n=r(50945),i=r(95019),o=r(54220),s=r(36921),a=r(26903),l=r(36440);e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,c);case"!=":return i(e,r,c);case">":return o(e,r,c);case">=":return s(e,r,c);case"<":return a(e,r,c);case"<=":return l(e,r,c);default:throw TypeError(`Invalid operator: ${t}`)}}},96950:(e,t,r)=>{let n=r(13812),i=r(2328),{safeRe:o,t:s}=r(53898);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let n;let i=t.includePrerelease?o[s.COERCERTLFULL]:o[s.COERCERTL];for(;(n=i.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),i.lastIndex=n.index+n[1].length+n[2].length;i.lastIndex=-1}else r=e.match(t.includePrerelease?o[s.COERCEFULL]:o[s.COERCE]);if(null===r)return null;let a=r[2],l=r[3]||"0",c=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",d=t.includePrerelease&&r[6]?`+${r[6]}`:"";return i(`${a}.${l}.${c}${u}${d}`,t)}},11205:(e,t,r)=>{let n=r(13812);e.exports=(e,t,r)=>{let i=new n(e,r),o=new n(t,r);return i.compare(o)||i.compareBuild(o)}},11575:(e,t,r)=>{let n=r(43128);e.exports=(e,t)=>n(e,t,!0)},43128:(e,t,r)=>{let n=r(13812);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},51200:(e,t,r)=>{let n=r(2328);e.exports=(e,t)=>{let r=n(e,null,!0),i=n(t,null,!0),o=r.compare(i);if(0===o)return null;let s=o>0,a=s?r:i,l=s?i:r,c=!!a.prerelease.length;if(l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(a))return l.minor&&!l.patch?"minor":"patch"}let u=c?"pre":"";return r.major!==i.major?u+"major":r.minor!==i.minor?u+"minor":r.patch!==i.patch?u+"patch":"prerelease"}},50945:(e,t,r)=>{let n=r(43128);e.exports=(e,t,r)=>0===n(e,t,r)},54220:(e,t,r)=>{let n=r(43128);e.exports=(e,t,r)=>n(e,t,r)>0},36921:(e,t,r)=>{let n=r(43128);e.exports=(e,t,r)=>n(e,t,r)>=0},58555:(e,t,r)=>{let n=r(13812);e.exports=(e,t,r,i,o)=>{"string"==typeof r&&(o=i,i=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,i,o).version}catch(e){return null}}},26903:(e,t,r)=>{let n=r(43128);e.exports=(e,t,r)=>0>n(e,t,r)},36440:(e,t,r)=>{let n=r(43128);e.exports=(e,t,r)=>0>=n(e,t,r)},1686:(e,t,r)=>{let n=r(13812);e.exports=(e,t)=>new n(e,t).major},4386:(e,t,r)=>{let n=r(13812);e.exports=(e,t)=>new n(e,t).minor},95019:(e,t,r)=>{let n=r(43128);e.exports=(e,t,r)=>0!==n(e,t,r)},2328:(e,t,r)=>{let n=r(13812);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},39877:(e,t,r)=>{let n=r(13812);e.exports=(e,t)=>new n(e,t).patch},17969:(e,t,r)=>{let n=r(2328);e.exports=(e,t)=>{let r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},25070:(e,t,r)=>{let n=r(43128);e.exports=(e,t,r)=>n(t,e,r)},44781:(e,t,r)=>{let n=r(11205);e.exports=(e,t)=>e.sort((e,r)=>n(r,e,t))},41770:(e,t,r)=>{let n=r(53731);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},49363:(e,t,r)=>{let n=r(11205);e.exports=(e,t)=>e.sort((e,r)=>n(e,r,t))},61225:(e,t,r)=>{let n=r(2328);e.exports=(e,t)=>{let r=n(e,t);return r?r.version:null}},46205:(e,t,r)=>{let n=r(53898),i=r(26822),o=r(13812),s=r(62967),a=r(2328),l=r(61225),c=r(83498),u=r(58555),d=r(51200),h=r(1686),f=r(4386),p=r(39877),m=r(17969),g=r(43128),y=r(25070),_=r(11575),E=r(11205),v=r(49363),b=r(44781),T=r(54220),w=r(26903),S=r(50945),A=r(95019),C=r(36921),O=r(36440),I=r(90699),N=r(96950),R=r(1304),P=r(53731),D=r(41770),M=r(36587),k=r(68524),L=r(86034),U=r(39397),x=r(82750),F=r(7607),B=r(87479),j=r(11682),q=r(7164),H=r(63093),Y=r(34928);e.exports={parse:a,valid:l,clean:c,inc:u,diff:d,major:h,minor:f,patch:p,prerelease:m,compare:g,rcompare:y,compareLoose:_,compareBuild:E,sort:v,rsort:b,gt:T,lt:w,eq:S,neq:A,gte:C,lte:O,cmp:I,coerce:N,Comparator:R,Range:P,satisfies:D,toComparators:M,maxSatisfying:k,minSatisfying:L,minVersion:U,validRange:x,outside:F,gtr:B,ltr:j,intersects:q,simplifyRange:H,subset:Y,SemVer:o,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},26822:e=>{let t=Number.MAX_SAFE_INTEGER||0x1fffffffffffff;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},12592:e=>{let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},62967:e=>{let t=/^[0-9]+$/,r=(e,r)=>{let n=t.test(e),i=t.test(r);return n&&i&&(e=+e,r=+r),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},51254:e=>{class t{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=t},4879:e=>{let t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},53898:(e,t,r)=>{let{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:o}=r(26822),s=r(12592),a=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.safeSrc=[],d=t.t={},h=0,f="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",o],[f,i]],m=e=>{for(let[t,r]of p)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},g=(e,t,r)=>{let n=m(t),i=h++;s(e,i,t),d[e]=i,c[i]=t,u[i]=n,a[i]=new RegExp(t,r?"g":void 0),l[i]=new RegExp(n,r?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),g("MAINVERSION",`(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[d.NUMERICIDENTIFIER]}|${c[d.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[d.NUMERICIDENTIFIERLOOSE]}|${c[d.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${c[d.PRERELEASEIDENTIFIER]}(?:\\.${c[d.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[d.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${f}+`),g("BUILD",`(?:\\+(${c[d.BUILDIDENTIFIER]}(?:\\.${c[d.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[d.MAINVERSION]}${c[d.PRERELEASE]}?${c[d.BUILD]}?`),g("FULL",`^${c[d.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[d.MAINVERSIONLOOSE]}${c[d.PRERELEASELOOSE]}?${c[d.BUILD]}?`),g("LOOSE",`^${c[d.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[d.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:${c[d.PRERELEASE]})?${c[d.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:${c[d.PRERELEASELOOSE]})?${c[d.BUILD]}?)?)?`),g("XRANGE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${c[d.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[d.COERCEPLAIN]+`(?:${c[d.PRERELEASE]})?`+`(?:${c[d.BUILD]})?`+"(?:$|[^\\d])"),g("COERCERTL",c[d.COERCE],!0),g("COERCERTLFULL",c[d.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[d.LONECARET]}${c[d.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[d.LONECARET]}${c[d.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[d.GTLT]}\\s*(${c[d.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]}|${c[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[d.XRANGEPLAIN]})\\s+-\\s+(${c[d.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[d.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},87479:(e,t,r)=>{let n=r(7607);e.exports=(e,t,r)=>n(e,t,">",r)},7164:(e,t,r)=>{let n=r(53731);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},11682:(e,t,r)=>{let n=r(7607);e.exports=(e,t,r)=>n(e,t,"<",r)},68524:(e,t,r)=>{let n=r(13812),i=r(53731);e.exports=(e,t,r)=>{let o=null,s=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!o||-1===s.compare(e))&&(s=new n(o=e,r))}),o}},86034:(e,t,r)=>{let n=r(13812),i=r(53731);e.exports=(e,t,r)=>{let o=null,s=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!o||1===s.compare(e))&&(s=new n(o=e,r))}),o}},39397:(e,t,r)=>{let n=r(13812),i=r(53731),o=r(54220);e.exports=(e,t)=>{e=new i(e,t);let r=new n("0.0.0");if(e.test(r)||(r=new n("0.0.0-0"),e.test(r)))return r;r=null;for(let t=0;t<e.set.length;++t){let i=e.set[t],s=null;i.forEach(e=>{let t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!s||o(t,s))&&(s=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),s&&(!r||o(r,s))&&(r=s)}return r&&e.test(r)?r:null}},7607:(e,t,r)=>{let n=r(13812),i=r(1304),{ANY:o}=i,s=r(53731),a=r(41770),l=r(54220),c=r(26903),u=r(36440),d=r(36921);e.exports=(e,t,r,h)=>{let f,p,m,g,y;switch(e=new n(e,h),t=new s(t,h),r){case">":f=l,p=u,m=c,g=">",y=">=";break;case"<":f=c,p=d,m=l,g="<",y="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,h))return!1;for(let r=0;r<t.set.length;++r){let n=t.set[r],s=null,a=null;if(n.forEach(e=>{e.semver===o&&(e=new i(">=0.0.0")),s=s||e,a=a||e,f(e.semver,s.semver,h)?s=e:m(e.semver,a.semver,h)&&(a=e)}),s.operator===g||s.operator===y||(!a.operator||a.operator===g)&&p(e,a.semver)||a.operator===y&&m(e,a.semver))return!1}return!0}},63093:(e,t,r)=>{let n=r(41770),i=r(43128);e.exports=(e,t,r)=>{let o=[],s=null,a=null,l=e.sort((e,t)=>i(e,t,r));for(let e of l)n(e,t,r)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);let c=[];for(let[e,t]of o)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");let u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},34928:(e,t,r)=>{let n=r(53731),i=r(1304),{ANY:o}=i,s=r(41770),a=r(43128),l=[new i(">=0.0.0-0")],c=[new i(">=0.0.0")],u=(e,t,r)=>{let n,i,u,f,p,m,g;if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=r.includePrerelease?l:c}if(1===t.length&&t[0].semver===o){if(r.includePrerelease)return!0;t=c}let y=new Set;for(let t of e)">"===t.operator||">="===t.operator?n=d(n,t,r):"<"===t.operator||"<="===t.operator?i=h(i,t,r):y.add(t.semver);if(y.size>1||n&&i&&((u=a(n.semver,i.semver,r))>0||0===u&&(">="!==n.operator||"<="!==i.operator)))return null;for(let e of y){if(n&&!s(e,String(n),r)||i&&!s(e,String(i),r))return null;for(let n of t)if(!s(e,String(n),r))return!1;return!0}let _=!!i&&!r.includePrerelease&&!!i.semver.prerelease.length&&i.semver,E=!!n&&!r.includePrerelease&&!!n.semver.prerelease.length&&n.semver;for(let e of(_&&1===_.prerelease.length&&"<"===i.operator&&0===_.prerelease[0]&&(_=!1),t)){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,n){if(E&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===E.major&&e.semver.minor===E.minor&&e.semver.patch===E.patch&&(E=!1),">"===e.operator||">="===e.operator){if((f=d(n,e,r))===e&&f!==n)return!1}else if(">="===n.operator&&!s(n.semver,String(e),r))return!1}if(i){if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),"<"===e.operator||"<="===e.operator){if((p=h(i,e,r))===e&&p!==i)return!1}else if("<="===i.operator&&!s(i.semver,String(e),r))return!1}if(!e.operator&&(i||n)&&0!==u)return!1}return(!n||!m||!!i||0===u)&&(!i||!g||!!n||0===u)&&!E&&!_},d=(e,t,r)=>{if(!e)return t;let n=a(e.semver,t.semver,r);return n>0?e:n<0?t:">"===t.operator&&">="===e.operator?t:e},h=(e,t,r)=>{if(!e)return t;let n=a(e.semver,t.semver,r);return n<0?e:n>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let i=!1;t:for(let n of e.set){for(let e of t.set){let t=u(n,e,r);if(i=i||null!==t,t)continue t}if(i)return!1}return!0}},36587:(e,t,r)=>{let n=r(53731);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},82750:(e,t,r)=>{let n=r(53731);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},45284:(e,t,r)=>{var n;!function(){"use strict";var i={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(e){return function(e,t){var r,n,s,a,l,c,u,d,h,f=1,p=e.length,m="";for(n=0;n<p;n++)if("string"==typeof e[n])m+=e[n];else if("object"==typeof e[n]){if((a=e[n]).keys)for(s=0,r=t[f];s<a.keys.length;s++){if(void 0==r)throw Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[s],a.keys[s-1]));r=r[a.keys[s]]}else r=a.param_no?t[a.param_no]:t[f++];if(i.not_type.test(a.type)&&i.not_primitive.test(a.type)&&r instanceof Function&&(r=r()),i.numeric_arg.test(a.type)&&"number"!=typeof r&&isNaN(r))throw TypeError(o("[sprintf] expecting number but found %T",r));switch(i.number.test(a.type)&&(d=r>=0),a.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,a.width?parseInt(a.width):0);break;case"e":r=a.precision?parseFloat(r).toExponential(a.precision):parseFloat(r).toExponential();break;case"f":r=a.precision?parseFloat(r).toFixed(a.precision):parseFloat(r);break;case"g":r=a.precision?String(Number(r.toPrecision(a.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=a.precision?r.substring(0,a.precision):r;break;case"t":r=String(!!r),r=a.precision?r.substring(0,a.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=a.precision?r.substring(0,a.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=a.precision?r.substring(0,a.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}i.json.test(a.type)?m+=r:(i.number.test(a.type)&&(!d||a.sign)?(h=d?"+":"-",r=r.toString().replace(i.sign,"")):h="",c=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",u=a.width-(h+r).length,l=a.width&&u>0?c.repeat(u):"",m+=a.align?h+r+l:"0"===c?h+l+r:l+h+r)}return m}(function(e){if(a[e])return a[e];for(var t,r=e,n=[],o=0;r;){if(null!==(t=i.text.exec(r)))n.push(t[0]);else if(null!==(t=i.modulo.exec(r)))n.push("%");else if(null!==(t=i.placeholder.exec(r))){if(t[2]){o|=1;var s=[],l=t[2],c=[];if(null!==(c=i.key.exec(l)))for(s.push(c[1]);""!==(l=l.substring(c[0].length));)if(null!==(c=i.key_access.exec(l)))s.push(c[1]);else if(null!==(c=i.index_access.exec(l)))s.push(c[1]);else throw SyntaxError("[sprintf] failed to parse named argument key");else throw SyntaxError("[sprintf] failed to parse named argument key");t[2]=s}else o|=2;if(3===o)throw Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}else throw SyntaxError("[sprintf] unexpected placeholder");r=r.substring(t[0].length)}return a[e]=n}(e),arguments)}function s(e,t){return o.apply(null,[e].concat(t||[]))}var a=Object.create(null);t.sprintf=o,t.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=s,void 0!==(n=(function(){return{sprintf:o,vsprintf:s}}).call(t,r,t,e))&&(e.exports=n))}()},98333:(e,t,r)=>{"use strict";var n=r(6431).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:this.write=h,this.end=f;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},6431:(e,t,r)=>{var n=r(79428),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},23203:(e,t,r)=>{"use strict";let n;let i=r(21820),o=r(83997),s=r(58684),{env:a}=process;function l(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function c(e,t){if(0===n)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!t&&void 0===n)return 0;let r=n||0;if("dumb"===a.TERM)return r;if("win32"===process.platform){let e=i.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in a)||"codeship"===a.CI_NAME?1:r;if("TEAMCITY_VERSION"in a)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0;if("truecolor"===a.COLORTERM)return 3;if("TERM_PROGRAM"in a){let e=parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:r}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?n=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(n=1),"FORCE_COLOR"in a&&(n="true"===a.FORCE_COLOR?1:"false"===a.FORCE_COLOR?0:0===a.FORCE_COLOR.length?1:Math.min(parseInt(a.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return l(c(e,e&&e.isTTY))},stdout:l(c(!0,o.isatty(1))),stderr:l(c(!0,o.isatty(2)))}},63335:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(38364),i=r(11190);class o{constructor(e){var t;this.timeoutMillis=e,this.deferred=i.defer(),this.possibleTimeoutCause=null,this.isRejected=!1,this.promise=(t=this.deferred.promise,new Promise((r,i)=>{let o=setTimeout(()=>i(new n.TimeoutError),e);t.then(e=>{clearTimeout(o),r(e)}).catch(e=>{clearTimeout(o),i(e)})})).catch(e=>(e instanceof n.TimeoutError&&(e=new n.TimeoutError(this.possibleTimeoutCause?this.possibleTimeoutCause.message:"operation timed out for an unknown reason")),this.isRejected=!0,Promise.reject(e)))}abort(){this.reject(Error("aborted"))}reject(e){this.deferred.reject(e)}resolve(e){this.deferred.resolve(e)}}t.PendingOperation=o},61341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(63335),i=r(20851),o=r(11190),s=r(94735),a=r(66136);class l{constructor(e){if(this.destroyed=!1,this.emitter=new s.EventEmitter,!(e=e||{}).create)throw Error("Tarn: opt.create function most be provided");if(!e.destroy)throw Error("Tarn: opt.destroy function most be provided");if("number"!=typeof e.min||e.min<0||e.min!==Math.round(e.min))throw Error("Tarn: opt.min must be an integer >= 0");if("number"!=typeof e.max||e.max<=0||e.max!==Math.round(e.max))throw Error("Tarn: opt.max must be an integer > 0");if(e.min>e.max)throw Error("Tarn: opt.max is smaller than opt.min");if(!o.checkOptionalTime(e.acquireTimeoutMillis))throw Error("Tarn: invalid opt.acquireTimeoutMillis "+JSON.stringify(e.acquireTimeoutMillis));if(!o.checkOptionalTime(e.createTimeoutMillis))throw Error("Tarn: invalid opt.createTimeoutMillis "+JSON.stringify(e.createTimeoutMillis));if(!o.checkOptionalTime(e.destroyTimeoutMillis))throw Error("Tarn: invalid opt.destroyTimeoutMillis "+JSON.stringify(e.destroyTimeoutMillis));if(!o.checkOptionalTime(e.idleTimeoutMillis))throw Error("Tarn: invalid opt.idleTimeoutMillis "+JSON.stringify(e.idleTimeoutMillis));if(!o.checkOptionalTime(e.reapIntervalMillis))throw Error("Tarn: invalid opt.reapIntervalMillis "+JSON.stringify(e.reapIntervalMillis));if(!o.checkOptionalTime(e.createRetryIntervalMillis))throw Error("Tarn: invalid opt.createRetryIntervalMillis "+JSON.stringify(e.createRetryIntervalMillis));let t={create:!0,validate:!0,destroy:!0,log:!0,min:!0,max:!0,acquireTimeoutMillis:!0,createTimeoutMillis:!0,destroyTimeoutMillis:!0,idleTimeoutMillis:!0,reapIntervalMillis:!0,createRetryIntervalMillis:!0,propagateCreateError:!0};for(let r of Object.keys(e))if(!t[r])throw Error(`Tarn: unsupported option opt.${r}`);this.creator=e.create,this.destroyer=e.destroy,this.validate="function"==typeof e.validate?e.validate:()=>!0,this.log=e.log||(()=>{}),this.acquireTimeoutMillis=e.acquireTimeoutMillis||3e4,this.createTimeoutMillis=e.createTimeoutMillis||3e4,this.destroyTimeoutMillis=e.destroyTimeoutMillis||5e3,this.idleTimeoutMillis=e.idleTimeoutMillis||3e4,this.reapIntervalMillis=e.reapIntervalMillis||1e3,this.createRetryIntervalMillis=e.createRetryIntervalMillis||200,this.propagateCreateError=!!e.propagateCreateError,this.min=e.min,this.max=e.max,this.used=[],this.free=[],this.pendingCreates=[],this.pendingAcquires=[],this.pendingDestroys=[],this.pendingValidations=[],this.destroyed=!1,this.interval=null,this.eventId=1}numUsed(){return this.used.length}numFree(){return this.free.length}numPendingAcquires(){return this.pendingAcquires.length}numPendingValidations(){return this.pendingValidations.length}numPendingCreates(){return this.pendingCreates.length}acquire(){let e=this.eventId++;this._executeEventHandlers("acquireRequest",e);let t=new n.PendingOperation(this.acquireTimeoutMillis);return this.pendingAcquires.push(t),t.promise=t.promise.then(t=>(this._executeEventHandlers("acquireSuccess",e,t),t)).catch(r=>(this._executeEventHandlers("acquireFail",e,r),c(this.pendingAcquires,t),Promise.reject(r))),this._tryAcquireOrCreate(),t}release(e){this._executeEventHandlers("release",e);for(let t=0,r=this.used.length;t<r;++t){let r=this.used[t];if(r.resource===e)return this.used.splice(t,1),this.free.push(r.resolve()),this._tryAcquireOrCreate(),!0}return!1}isEmpty(){return 0===[this.numFree(),this.numUsed(),this.numPendingAcquires(),this.numPendingValidations(),this.numPendingCreates()].reduce((e,t)=>e+t)}check(){let e=o.now(),t=[],r=this.min-this.used.length,n=this.free.length-r,i=0;this.free.forEach(r=>{o.duration(e,r.timestamp)>=this.idleTimeoutMillis&&i<n?(i++,this._destroy(r.resource)):t.push(r)}),this.free=t,this.isEmpty()&&this._stopReaping()}destroy(){let e=this.eventId++;return this._executeEventHandlers("poolDestroyRequest",e),this._stopReaping(),this.destroyed=!0,o.reflect(Promise.all(this.pendingCreates.map(e=>o.reflect(e.promise))).then(()=>new Promise((e,t)=>{if(0===this.numPendingValidations()){e();return}let r=setInterval(()=>{0===this.numPendingValidations()&&(a.clearInterval(r),e())},100)})).then(()=>Promise.all(this.used.map(e=>o.reflect(e.promise)))).then(()=>Promise.all(this.pendingAcquires.map(e=>(e.abort(),o.reflect(e.promise))))).then(()=>Promise.all(this.free.map(e=>o.reflect(this._destroy(e.resource))))).then(()=>Promise.all(this.pendingDestroys.map(e=>e.promise))).then(()=>{this.free=[],this.pendingAcquires=[]})).then(t=>(this._executeEventHandlers("poolDestroySuccess",e),this.emitter.removeAllListeners(),t))}on(e,t){this.emitter.on(e,t)}removeListener(e,t){this.emitter.removeListener(e,t)}removeAllListeners(e){this.emitter.removeAllListeners(e)}_tryAcquireOrCreate(){!this.destroyed&&(this._hasFreeResources()?this._doAcquire():this._shouldCreateMoreResources()&&this._doCreate())}_hasFreeResources(){return this.free.length>0}_doAcquire(){for(;this._canAcquire();){let e=this.pendingAcquires.shift(),t=this.free.pop();if(void 0===t||void 0===e){let e="this.free was empty while trying to acquire resource";throw this.log(`Tarn: ${e}`,"warn"),Error(`Internal error, should never happen. ${e}`)}this.pendingValidations.push(e),this.used.push(t);let r=new n.PendingOperation(this.acquireTimeoutMillis);e.promise.catch(e=>{r.abort()}),r.promise.catch(e=>(this.log("Tarn: resource validator threw an exception "+e.stack,"warn"),!1)).then(r=>{try{r&&!e.isRejected?(this._startReaping(),e.resolve(t.resource)):(c(this.used,t),r?this.free.push(t):(this._destroy(t.resource),setTimeout(()=>{this._tryAcquireOrCreate()},0)),e.isRejected||this.pendingAcquires.unshift(e))}finally{c(this.pendingValidations,e)}}),this._validateResource(t.resource).then(e=>{r.resolve(e)}).catch(e=>{r.reject(e)})}}_canAcquire(){return this.free.length>0&&this.pendingAcquires.length>0}_validateResource(e){try{return Promise.resolve(this.validate(e))}catch(e){return Promise.reject(e)}}_shouldCreateMoreResources(){return this.used.length+this.pendingCreates.length<this.max&&this.pendingCreates.length<this.pendingAcquires.length}_doCreate(){let e=this.pendingAcquires.slice();this._create().promise.then(()=>(this._tryAcquireOrCreate(),null)).catch(t=>{this.propagateCreateError&&0!==this.pendingAcquires.length&&this.pendingAcquires[0].reject(t),e.forEach(e=>{e.possibleTimeoutCause=t}),o.delay(this.createRetryIntervalMillis).then(()=>this._tryAcquireOrCreate())})}_create(){var e;let t=this.eventId++;this._executeEventHandlers("createRequest",t);let r=new n.PendingOperation(this.createTimeoutMillis);return r.promise=r.promise.catch(e=>{throw c(this.pendingCreates,r)&&this._executeEventHandlers("createFail",t,e),e}),this.pendingCreates.push(r),(e=this.creator,new Promise((t,r)=>{let n=(e,n)=>{e?r(e):t(n)};o.tryPromise(()=>e(n)).then(e=>{e&&t(e)}).catch(e=>{r(e)})})).then(e=>(r.isRejected?this.destroyer(e):(c(this.pendingCreates,r),this.free.push(new i.Resource(e)),r.resolve(e),this._executeEventHandlers("createSuccess",t,e)),null)).catch(e=>(r.isRejected||(c(this.pendingCreates,r)&&this._executeEventHandlers("createFail",t,e),r.reject(e)),null)),r}_destroy(e){let t=this.eventId++;this._executeEventHandlers("destroyRequest",t,e);let r=new n.PendingOperation(this.destroyTimeoutMillis);return Promise.resolve().then(()=>this.destroyer(e)).then(()=>{r.resolve(e)}).catch(e=>{r.reject(e)}),this.pendingDestroys.push(r),r.promise.then(r=>(this._executeEventHandlers("destroySuccess",t,e),r)).catch(r=>this._logDestroyerError(t,e,r)).then(e=>{let t=this.pendingDestroys.findIndex(e=>e===r);return this.pendingDestroys.splice(t,1),e})}_logDestroyerError(e,t,r){this._executeEventHandlers("destroyFail",e,t,r),this.log("Tarn: resource destroyer threw an exception "+r.stack,"warn")}_startReaping(){this.interval||(this._executeEventHandlers("startReaping"),this.interval=setInterval(()=>this.check(),this.reapIntervalMillis))}_stopReaping(){null!==this.interval&&(this._executeEventHandlers("stopReaping"),a.clearInterval(this.interval)),this.interval=null}_executeEventHandlers(e,...t){this.emitter.listeners(e).forEach(r=>{try{r(...t)}catch(t){this.log(`Tarn: event handler "${e}" threw an exception ${t.stack}`,"warn")}})}}function c(e,t){let r=e.indexOf(t);return -1!==r&&(e.splice(r,1),!0)}t.Pool=l},36048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this._value=e.value,this._error=e.error}value(){return this._value}reason(){return this._error}isRejected(){return!!this._error}isFulfilled(){return!!this._value}}t.PromiseInspection=r},20851:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(11190);class i{constructor(e){this.resource=e,this.resource=e,this.timestamp=n.now(),this.deferred=n.defer()}get promise(){return this.deferred.promise}resolve(){return this.deferred.resolve(void 0),new i(this.resource)}}t.Resource=i},38364:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{}t.TimeoutError=r},43092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(61341);t.Pool=n.Pool;let i=r(38364);t.TimeoutError=i.TimeoutError,e.exports={Pool:n.Pool,TimeoutError:i.TimeoutError}},11190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(36048);function i(e){return"number"==typeof e&&e===Math.round(e)&&e>0}t.defer=function(){let e=null,t=null;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},t.now=function(){return Date.now()},t.duration=function(e,t){return Math.abs(t-e)},t.checkOptionalTime=function(e){return void 0===e||i(e)},t.checkRequiredTime=i,t.delay=function(e){return new Promise(t=>setTimeout(t,e))},t.reflect=function(e){return e.then(e=>new n.PromiseInspection({value:e})).catch(e=>new n.PromiseInspection({error:e}))},t.tryPromise=function(e){try{let t=e();return Promise.resolve(t)}catch(e){return Promise.reject(e)}}},48114:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeToTrackingBuffer=function(e,t,i){e.writeUInt32LE(0),e.writeUInt32LE(n),e.writeUInt16LE(r.TXN_DESCRIPTOR),e.writeBuffer(t),e.writeUInt32LE(i);let o=e.data;return o.writeUInt32LE(o.length,0),e};let r={TXN_DESCRIPTOR:2},n=18},27538:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SQLServerStatementColumnEncryptionSetting=t.SQLServerEncryptionType=t.DescribeParameterEncryptionResultSet2=t.DescribeParameterEncryptionResultSet1=void 0,t.SQLServerEncryptionType=function(e){return e[e.Deterministic=1]="Deterministic",e[e.Randomized=2]="Randomized",e[e.PlainText=0]="PlainText",e}({}),t.DescribeParameterEncryptionResultSet1=function(e){return e[e.KeyOrdinal=0]="KeyOrdinal",e[e.DbId=1]="DbId",e[e.KeyId=2]="KeyId",e[e.KeyVersion=3]="KeyVersion",e[e.KeyMdVersion=4]="KeyMdVersion",e[e.EncryptedKey=5]="EncryptedKey",e[e.ProviderName=6]="ProviderName",e[e.KeyPath=7]="KeyPath",e[e.KeyEncryptionAlgorithm=8]="KeyEncryptionAlgorithm",e}({}),t.DescribeParameterEncryptionResultSet2=function(e){return e[e.ParameterOrdinal=0]="ParameterOrdinal",e[e.ParameterName=1]="ParameterName",e[e.ColumnEncryptionAlgorithm=2]="ColumnEncryptionAlgorithm",e[e.ColumnEncrytionType=3]="ColumnEncrytionType",e[e.ColumnEncryptionKeyOrdinal=4]="ColumnEncryptionKeyOrdinal",e[e.NormalizationRuleVersion=5]="NormalizationRuleVersion",e}({}),t.SQLServerStatementColumnEncryptionSetting=function(e){return e[e.UseConnectionSetting=0]="UseConnectionSetting",e[e.Enabled=1]="Enabled",e[e.ResultSetOnly=2]="ResultSetOnly",e[e.Disabled=3]="Disabled",e}({})},53210:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BulkLoadPayload=void 0;class r{constructor(e){this.bulkLoad=e,this.iterator=this.bulkLoad.rowToPacketTransform[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterator}toString(e=""){return e+"BulkLoad"}}t.BulkLoadPayload=r},32437:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(94735),i=function(e){return e&&e.__esModule?e:{default:e}}(r(49184)),o=r(27910),s=r(16725);let a={nullable:1,updateableReadWrite:4,nullableUnknown:32768},l={FINAL:0},c=Buffer.from([s.TYPE.ROW]),u=Buffer.from([16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),d=Buffer.from([0]);class h extends o.Transform{constructor(e){super({writableObjectMode:!0}),this.bulkLoad=e,this.mainOptions=e.options,this.columns=e.columns,this.columnMetadataWritten=!1}_transform(e,t,r){this.columnMetadataWritten||(this.push(this.bulkLoad.getColMetaData()),this.columnMetadataWritten=!0),this.push(c);for(let t=0;t<this.columns.length;t++){let n=this.columns[t],i=Array.isArray(e)?e[t]:e[n.objName];if(!this.bulkLoad.firstRowWritten)try{i=n.type.validate(i,n.collation)}catch(e){return r(e)}let o={length:n.length,scale:n.scale,precision:n.precision,value:i};if("Text"===n.type.name||"Image"===n.type.name||"NText"===n.type.name){if(null==i){this.push(d);continue}this.push(u)}try{for(let e of(this.push(n.type.generateParameterLength(o,this.mainOptions)),n.type.generateParameterData(o,this.mainOptions)))this.push(e)}catch(e){return r(e)}}process.nextTick(r)}_flush(e){this.push(this.bulkLoad.createDoneToken()),process.nextTick(e)}}class f extends n.EventEmitter{constructor(e,t,r,{checkConstraints:n=!1,fireTriggers:i=!1,keepNulls:o=!1,lockTable:s=!1,order:a={}},l){if("boolean"!=typeof n)throw TypeError('The "options.checkConstraints" property must be of type boolean.');if("boolean"!=typeof i)throw TypeError('The "options.fireTriggers" property must be of type boolean.');if("boolean"!=typeof o)throw TypeError('The "options.keepNulls" property must be of type boolean.');if("boolean"!=typeof s)throw TypeError('The "options.lockTable" property must be of type boolean.');if("object"!=typeof a||null===a)throw TypeError('The "options.order" property must be of type object.');for(let[e,t]of Object.entries(a))if("ASC"!==t&&"DESC"!==t)throw TypeError('The value of the "'+e+'" key in the "options.order" object must be either "ASC" or "DESC".');super(),this.error=void 0,this.canceled=!1,this.executionStarted=!1,this.collation=t,this.table=e,this.options=r,this.callback=l,this.columns=[],this.columnsByName={},this.firstRowWritten=!1,this.streamingMode=!1,this.rowToPacketTransform=new h(this),this.bulkOptions={checkConstraints:n,fireTriggers:i,keepNulls:o,lockTable:s,order:a}}addColumn(e,t,{output:r=!1,length:n,precision:i,scale:o,objName:s=e,nullable:a=!0}){if(this.firstRowWritten)throw Error("Columns cannot be added to bulk insert after the first row has been written.");if(this.executionStarted)throw Error("Columns cannot be added to bulk insert after execution has started.");let l={type:t,name:e,value:null,output:r,length:n,precision:i,scale:o,objName:s,nullable:a,collation:this.collation};(48&t.id)==32&&null==l.length&&t.resolveLength&&(l.length=t.resolveLength(l)),t.resolvePrecision&&null==l.precision&&(l.precision=t.resolvePrecision(l)),t.resolveScale&&null==l.scale&&(l.scale=t.resolveScale(l)),this.columns.push(l),this.columnsByName[e]=l}getOptionsSql(){let e=[];if(this.bulkOptions.checkConstraints&&e.push("CHECK_CONSTRAINTS"),this.bulkOptions.fireTriggers&&e.push("FIRE_TRIGGERS"),this.bulkOptions.keepNulls&&e.push("KEEP_NULLS"),this.bulkOptions.lockTable&&e.push("TABLOCK"),this.bulkOptions.order){let t=[];for(let[e,r]of Object.entries(this.bulkOptions.order))t.push(`${e} ${r}`);t.length&&e.push(`ORDER (${t.join(", ")})`)}return e.length>0?` WITH (${e.join(",")})`:""}getBulkInsertSql(){let e="insert bulk "+this.table+"(";for(let t=0,r=this.columns.length;t<r;t++){let r=this.columns[t];0!==t&&(e+=", "),e+="["+r.name+"] "+r.type.declaration(r)}return e+=")",e+=this.getOptionsSql()}getTableCreationSql(){let e="CREATE TABLE "+this.table+"(\n";for(let t=0,r=this.columns.length;t<r;t++){let r=this.columns[t];0!==t&&(e+=",\n"),e+="["+r.name+"] "+r.type.declaration(r),void 0!==r.nullable&&(e+=" "+(r.nullable?"NULL":"NOT NULL"))}return e+"\n)"}getColMetaData(){let e=new i.default(100,null,!0);e.writeUInt8(s.TYPE.COLMETADATA),e.writeUInt16LE(this.columns.length);for(let t=0,r=this.columns.length;t<r;t++){let r=this.columns[t];this.options.tdsVersion<"7_2"?e.writeUInt16LE(0):e.writeUInt32LE(0);let n=a.updateableReadWrite;r.nullable?n|=a.nullable:void 0===r.nullable&&this.options.tdsVersion>="7_2"&&(n|=a.nullableUnknown),e.writeUInt16LE(n),e.writeBuffer(r.type.generateTypeInfo(r,this.options)),r.type.hasTableName&&e.writeUsVarchar(this.table,"ucs2"),e.writeBVarchar(r.name,"ucs2")}return e.data}setTimeout(e){this.timeout=e}createDoneToken(){let e=new i.default(this.options.tdsVersion<"7_2"?9:13);e.writeUInt8(s.TYPE.DONE);let t=l.FINAL;return e.writeUInt16LE(t),e.writeUInt16LE(0),e.writeUInt32LE(0),this.options.tdsVersion>="7_2"&&e.writeUInt32LE(0),e.data}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}}t.default=f,e.exports=f},10425:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codepageBySortId=t.codepageByLanguageId=t.Flags=t.Collation=void 0;let r=t.codepageByLanguageId={1025:"CP1256",1028:"CP950",1029:"CP1250",1030:"CP1252",1032:"CP1253",1033:"CP1252",1034:"CP1252",1035:"CP1252",1036:"CP1252",1037:"CP1255",1038:"CP1250",1039:"CP1252",1041:"CP932",1042:"CP949",1044:"CP1252",1045:"CP1250",1047:"CP1252",1048:"CP1250",1049:"CP1251",1050:"CP1250",1051:"CP1250",1052:"CP1250",1054:"CP874",1055:"CP1254",1056:"CP1256",1058:"CP1251",1060:"CP1250",1061:"CP1257",1062:"CP1257",1063:"CP1257",1065:"CP1256",1066:"CP1258",1068:"CP1254",1070:"CP1252",1071:"CP1251",1083:"CP1252",1087:"CP1251",1090:"CP1250",1091:"CP1254",1092:"CP1251",1106:"CP1252",1122:"CP1252",1133:"CP1251",1146:"CP1252",1148:"CP1252",1150:"CP1252",1152:"CP1256",1155:"CP1252",1157:"CP1251",1164:"CP1256",2052:"CP936",2074:"CP1250",2092:"CP1251",2107:"CP1252",2143:"CP1252",3076:"CP950",3082:"CP1252",3098:"CP1251",5124:"CP950",5146:"CP1250",8218:"CP1251",1031:"CP1252",1079:"CP1252"},n=t.codepageBySortId={30:"CP437",31:"CP437",32:"CP437",33:"CP437",34:"CP437",40:"CP850",41:"CP850",42:"CP850",43:"CP850",44:"CP850",49:"CP850",51:"CP1252",52:"CP1252",53:"CP1252",54:"CP1252",55:"CP850",56:"CP850",57:"CP850",58:"CP850",59:"CP850",60:"CP850",61:"CP850",80:"CP1250",81:"CP1250",82:"CP1250",83:"CP1250",84:"CP1250",85:"CP1250",86:"CP1250",87:"CP1250",88:"CP1250",89:"CP1250",90:"CP1250",91:"CP1250",92:"CP1250",93:"CP1250",94:"CP1250",95:"CP1250",96:"CP1250",104:"CP1251",105:"CP1251",106:"CP1251",107:"CP1251",108:"CP1251",112:"CP1253",113:"CP1253",114:"CP1253",120:"CP1253",121:"CP1253",122:"CP1253",124:"CP1253",128:"CP1254",129:"CP1254",130:"CP1254",136:"CP1255",137:"CP1255",138:"CP1255",144:"CP1256",145:"CP1256",146:"CP1256",152:"CP1257",153:"CP1257",154:"CP1257",155:"CP1257",156:"CP1257",157:"CP1257",158:"CP1257",159:"CP1257",160:"CP1257",183:"CP1252",184:"CP1252",185:"CP1252",186:"CP1252"},i=t.Flags={IGNORE_CASE:1,IGNORE_ACCENT:2,IGNORE_KANA:4,IGNORE_WIDTH:8,BINARY:16,BINARY2:32,UTF8:64};class o{static fromBuffer(e,t=0){let r=(15&e[t+2])<<16;r|=e[t+1]<<8,r|=e[t+0];let n=(15&e[t+3])<<4;return new this(r,n|=(240&e[t+2])>>>4,(240&e[t+3])>>>4,e[t+4])}constructor(e,t,o,s){if(this.buffer=void 0,this.lcid=e,this.flags=t,this.version=o,this.sortId=s,this.flags&i.UTF8)this.codepage="utf-8";else if(this.sortId)this.codepage=n[this.sortId];else{let e=65535&this.lcid;this.codepage=r[e]}}toBuffer(){return this.buffer||(this.buffer=Buffer.alloc(5),this.buffer[0]=255&this.lcid,this.buffer[1]=this.lcid>>>8&255,this.buffer[2]=this.lcid>>>16&15|(15&this.flags)<<4,this.buffer[3]=(240&this.flags)>>>4|(15&this.version)<<4,this.buffer[4]=255&this.sortId),this.buffer}}t.Collation=o},536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=q(r(55511)),i=q(r(21820)),o=j(r(34631)),s=j(r(91645)),a=q(r(14985)),l=q(r(81115)),c=r(27910),u=r(82805),d=r(51553),h=q(r(32437)),f=q(r(88061)),p=r(94735),m=r(78230),g=r(11998),y=r(93740),_=q(r(50021)),E=q(r(92041)),v=q(r(76406)),b=q(r(59295)),T=q(r(45963)),w=q(r(57099)),S=q(r(96166)),A=r(65580),C=r(36378),O=r(92115),I=r(85345),N=r(30385),R=r(32833),P=q(r(33965)),D=r(62017),M=r(21053),k=r(53210),L=q(r(57637)),U=r(18209),x=r(79551),F=r(9704);function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(B=function(e){return e?r:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=B(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function q(e){return e&&e.__esModule?e:{default:e}}let H={NORMAL:0,REDIRECT:1,RETRY:2};class Y extends p.EventEmitter{_cancelAfterRequestSent;constructor(e){let t;if(super(),"object"!=typeof e||null===e)throw TypeError('The "config" argument is required and must be of type Object.');if("string"!=typeof e.server)throw TypeError('The "config.server" property is required and must be of type string.');if(this.fedAuthRequired=!1,void 0!==e.authentication){if("object"!=typeof e.authentication||null===e.authentication)throw TypeError('The "config.authentication" property must be of type Object.');let r=e.authentication.type,n=void 0===e.authentication.options?{}:e.authentication.options;if("string"!=typeof r)throw TypeError('The "config.authentication.type" property must be of type string.');if("default"!==r&&"ntlm"!==r&&"token-credential"!==r&&"azure-active-directory-password"!==r&&"azure-active-directory-access-token"!==r&&"azure-active-directory-msi-vm"!==r&&"azure-active-directory-msi-app-service"!==r&&"azure-active-directory-service-principal-secret"!==r&&"azure-active-directory-default"!==r)throw TypeError('The "type" property must one of "default", "ntlm", "token-credential", "azure-active-directory-password", "azure-active-directory-access-token", "azure-active-directory-default", "azure-active-directory-msi-vm" or "azure-active-directory-msi-app-service" or "azure-active-directory-service-principal-secret".');if("object"!=typeof n||null===n)throw TypeError('The "config.authentication.options" property must be of type object.');if("ntlm"===r){if("string"!=typeof n.domain)throw TypeError('The "config.authentication.options.domain" property must be of type string.');if(void 0!==n.userName&&"string"!=typeof n.userName)throw TypeError('The "config.authentication.options.userName" property must be of type string.');if(void 0!==n.password&&"string"!=typeof n.password)throw TypeError('The "config.authentication.options.password" property must be of type string.');t={type:"ntlm",options:{userName:n.userName,password:n.password,domain:n.domain&&n.domain.toUpperCase()}}}else if("token-credential"===r){if(!(0,d.isTokenCredential)(n.credential))throw TypeError('The "config.authentication.options.credential" property must be an instance of the token credential class.');t={type:"token-credential",options:{credential:n.credential}}}else if("azure-active-directory-password"===r){if("string"!=typeof n.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');if(void 0!==n.userName&&"string"!=typeof n.userName)throw TypeError('The "config.authentication.options.userName" property must be of type string.');if(void 0!==n.password&&"string"!=typeof n.password)throw TypeError('The "config.authentication.options.password" property must be of type string.');if(void 0!==n.tenantId&&"string"!=typeof n.tenantId)throw TypeError('The "config.authentication.options.tenantId" property must be of type string.');t={type:"azure-active-directory-password",options:{userName:n.userName,password:n.password,tenantId:n.tenantId,clientId:n.clientId}}}else if("azure-active-directory-access-token"===r){if("string"!=typeof n.token)throw TypeError('The "config.authentication.options.token" property must be of type string.');t={type:"azure-active-directory-access-token",options:{token:n.token}}}else if("azure-active-directory-msi-vm"===r){if(void 0!==n.clientId&&"string"!=typeof n.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');t={type:"azure-active-directory-msi-vm",options:{clientId:n.clientId}}}else if("azure-active-directory-default"===r){if(void 0!==n.clientId&&"string"!=typeof n.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');t={type:"azure-active-directory-default",options:{clientId:n.clientId}}}else if("azure-active-directory-msi-app-service"===r){if(void 0!==n.clientId&&"string"!=typeof n.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');t={type:"azure-active-directory-msi-app-service",options:{clientId:n.clientId}}}else if("azure-active-directory-service-principal-secret"===r){if("string"!=typeof n.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');if("string"!=typeof n.clientSecret)throw TypeError('The "config.authentication.options.clientSecret" property must be of type string.');if("string"!=typeof n.tenantId)throw TypeError('The "config.authentication.options.tenantId" property must be of type string.');t={type:"azure-active-directory-service-principal-secret",options:{clientId:n.clientId,clientSecret:n.clientSecret,tenantId:n.tenantId}}}else{if(void 0!==n.userName&&"string"!=typeof n.userName)throw TypeError('The "config.authentication.options.userName" property must be of type string.');if(void 0!==n.password&&"string"!=typeof n.password)throw TypeError('The "config.authentication.options.password" property must be of type string.');t={type:"default",options:{userName:n.userName,password:n.password}}}}else t={type:"default",options:{userName:void 0,password:void 0}};if(this.config={server:e.server,authentication:t,options:{abortTransactionOnError:!1,appName:void 0,camelCaseColumns:!1,cancelTimeout:5e3,columnEncryptionKeyCacheTTL:72e5,columnEncryptionSetting:!1,columnNameReplacer:void 0,connectionRetryInterval:500,connectTimeout:15e3,connector:void 0,connectionIsolationLevel:C.ISOLATION_LEVEL.READ_COMMITTED,cryptoCredentialsDetails:{},database:void 0,datefirst:7,dateFormat:"mdy",debug:{data:!1,packet:!1,payload:!1,token:!1},enableAnsiNull:!0,enableAnsiNullDefault:!0,enableAnsiPadding:!0,enableAnsiWarnings:!0,enableArithAbort:!0,enableConcatNullYieldsNull:!0,enableCursorCloseOnCommit:null,enableImplicitTransactions:!1,enableNumericRoundabort:!1,enableQuotedIdentifier:!0,encrypt:!0,fallbackToDefaultDb:!1,encryptionKeyStoreProviders:void 0,instanceName:void 0,isolationLevel:C.ISOLATION_LEVEL.READ_COMMITTED,language:"us_english",localAddress:void 0,maxRetriesOnTransientErrors:3,multiSubnetFailover:!1,packetSize:4096,port:1433,readOnlyIntent:!1,requestTimeout:15e3,rowCollectionOnDone:!1,rowCollectionOnRequestCompletion:!1,serverName:void 0,serverSupportsColumnEncryption:!1,tdsVersion:"7_4",textsize:0x7fffffff,trustedServerNameAE:void 0,trustServerCertificate:!1,useColumnNames:!1,useUTC:!0,workstationId:void 0,lowerCaseGuids:!1}},e.options){if(e.options.port&&e.options.instanceName)throw Error("Port and instanceName are mutually exclusive, but "+e.options.port+" and "+e.options.instanceName+" provided");if(void 0!==e.options.abortTransactionOnError){if("boolean"!=typeof e.options.abortTransactionOnError&&null!==e.options.abortTransactionOnError)throw TypeError('The "config.options.abortTransactionOnError" property must be of type string or null.');this.config.options.abortTransactionOnError=e.options.abortTransactionOnError}if(void 0!==e.options.appName){if("string"!=typeof e.options.appName)throw TypeError('The "config.options.appName" property must be of type string.');this.config.options.appName=e.options.appName}if(void 0!==e.options.camelCaseColumns){if("boolean"!=typeof e.options.camelCaseColumns)throw TypeError('The "config.options.camelCaseColumns" property must be of type boolean.');this.config.options.camelCaseColumns=e.options.camelCaseColumns}if(void 0!==e.options.cancelTimeout){if("number"!=typeof e.options.cancelTimeout)throw TypeError('The "config.options.cancelTimeout" property must be of type number.');this.config.options.cancelTimeout=e.options.cancelTimeout}if(e.options.columnNameReplacer){if("function"!=typeof e.options.columnNameReplacer)throw TypeError('The "config.options.cancelTimeout" property must be of type function.');this.config.options.columnNameReplacer=e.options.columnNameReplacer}if(void 0!==e.options.connectionIsolationLevel&&((0,C.assertValidIsolationLevel)(e.options.connectionIsolationLevel,"config.options.connectionIsolationLevel"),this.config.options.connectionIsolationLevel=e.options.connectionIsolationLevel),void 0!==e.options.connectTimeout){if("number"!=typeof e.options.connectTimeout)throw TypeError('The "config.options.connectTimeout" property must be of type number.');this.config.options.connectTimeout=e.options.connectTimeout}if(void 0!==e.options.connector){if("function"!=typeof e.options.connector)throw TypeError('The "config.options.connector" property must be a function.');this.config.options.connector=e.options.connector}if(void 0!==e.options.cryptoCredentialsDetails){if("object"!=typeof e.options.cryptoCredentialsDetails||null===e.options.cryptoCredentialsDetails)throw TypeError('The "config.options.cryptoCredentialsDetails" property must be of type Object.');this.config.options.cryptoCredentialsDetails=e.options.cryptoCredentialsDetails}if(void 0!==e.options.database){if("string"!=typeof e.options.database)throw TypeError('The "config.options.database" property must be of type string.');this.config.options.database=e.options.database}if(void 0!==e.options.datefirst){if("number"!=typeof e.options.datefirst&&null!==e.options.datefirst)throw TypeError('The "config.options.datefirst" property must be of type number.');if(null!==e.options.datefirst&&(e.options.datefirst<1||e.options.datefirst>7))throw RangeError('The "config.options.datefirst" property must be >= 1 and <= 7');this.config.options.datefirst=e.options.datefirst}if(void 0!==e.options.dateFormat){if("string"!=typeof e.options.dateFormat&&null!==e.options.dateFormat)throw TypeError('The "config.options.dateFormat" property must be of type string or null.');this.config.options.dateFormat=e.options.dateFormat}if(e.options.debug){if(void 0!==e.options.debug.data){if("boolean"!=typeof e.options.debug.data)throw TypeError('The "config.options.debug.data" property must be of type boolean.');this.config.options.debug.data=e.options.debug.data}if(void 0!==e.options.debug.packet){if("boolean"!=typeof e.options.debug.packet)throw TypeError('The "config.options.debug.packet" property must be of type boolean.');this.config.options.debug.packet=e.options.debug.packet}if(void 0!==e.options.debug.payload){if("boolean"!=typeof e.options.debug.payload)throw TypeError('The "config.options.debug.payload" property must be of type boolean.');this.config.options.debug.payload=e.options.debug.payload}if(void 0!==e.options.debug.token){if("boolean"!=typeof e.options.debug.token)throw TypeError('The "config.options.debug.token" property must be of type boolean.');this.config.options.debug.token=e.options.debug.token}}if(void 0!==e.options.enableAnsiNull){if("boolean"!=typeof e.options.enableAnsiNull&&null!==e.options.enableAnsiNull)throw TypeError('The "config.options.enableAnsiNull" property must be of type boolean or null.');this.config.options.enableAnsiNull=e.options.enableAnsiNull}if(void 0!==e.options.enableAnsiNullDefault){if("boolean"!=typeof e.options.enableAnsiNullDefault&&null!==e.options.enableAnsiNullDefault)throw TypeError('The "config.options.enableAnsiNullDefault" property must be of type boolean or null.');this.config.options.enableAnsiNullDefault=e.options.enableAnsiNullDefault}if(void 0!==e.options.enableAnsiPadding){if("boolean"!=typeof e.options.enableAnsiPadding&&null!==e.options.enableAnsiPadding)throw TypeError('The "config.options.enableAnsiPadding" property must be of type boolean or null.');this.config.options.enableAnsiPadding=e.options.enableAnsiPadding}if(void 0!==e.options.enableAnsiWarnings){if("boolean"!=typeof e.options.enableAnsiWarnings&&null!==e.options.enableAnsiWarnings)throw TypeError('The "config.options.enableAnsiWarnings" property must be of type boolean or null.');this.config.options.enableAnsiWarnings=e.options.enableAnsiWarnings}if(void 0!==e.options.enableArithAbort){if("boolean"!=typeof e.options.enableArithAbort&&null!==e.options.enableArithAbort)throw TypeError('The "config.options.enableArithAbort" property must be of type boolean or null.');this.config.options.enableArithAbort=e.options.enableArithAbort}if(void 0!==e.options.enableConcatNullYieldsNull){if("boolean"!=typeof e.options.enableConcatNullYieldsNull&&null!==e.options.enableConcatNullYieldsNull)throw TypeError('The "config.options.enableConcatNullYieldsNull" property must be of type boolean or null.');this.config.options.enableConcatNullYieldsNull=e.options.enableConcatNullYieldsNull}if(void 0!==e.options.enableCursorCloseOnCommit){if("boolean"!=typeof e.options.enableCursorCloseOnCommit&&null!==e.options.enableCursorCloseOnCommit)throw TypeError('The "config.options.enableCursorCloseOnCommit" property must be of type boolean or null.');this.config.options.enableCursorCloseOnCommit=e.options.enableCursorCloseOnCommit}if(void 0!==e.options.enableImplicitTransactions){if("boolean"!=typeof e.options.enableImplicitTransactions&&null!==e.options.enableImplicitTransactions)throw TypeError('The "config.options.enableImplicitTransactions" property must be of type boolean or null.');this.config.options.enableImplicitTransactions=e.options.enableImplicitTransactions}if(void 0!==e.options.enableNumericRoundabort){if("boolean"!=typeof e.options.enableNumericRoundabort&&null!==e.options.enableNumericRoundabort)throw TypeError('The "config.options.enableNumericRoundabort" property must be of type boolean or null.');this.config.options.enableNumericRoundabort=e.options.enableNumericRoundabort}if(void 0!==e.options.enableQuotedIdentifier){if("boolean"!=typeof e.options.enableQuotedIdentifier&&null!==e.options.enableQuotedIdentifier)throw TypeError('The "config.options.enableQuotedIdentifier" property must be of type boolean or null.');this.config.options.enableQuotedIdentifier=e.options.enableQuotedIdentifier}if(void 0!==e.options.encrypt){if("boolean"!=typeof e.options.encrypt&&"strict"!==e.options.encrypt)throw TypeError('The "encrypt" property must be set to "strict", or of type boolean.');this.config.options.encrypt=e.options.encrypt}if(void 0!==e.options.fallbackToDefaultDb){if("boolean"!=typeof e.options.fallbackToDefaultDb)throw TypeError('The "config.options.fallbackToDefaultDb" property must be of type boolean.');this.config.options.fallbackToDefaultDb=e.options.fallbackToDefaultDb}if(void 0!==e.options.instanceName){if("string"!=typeof e.options.instanceName)throw TypeError('The "config.options.instanceName" property must be of type string.');this.config.options.instanceName=e.options.instanceName,this.config.options.port=void 0}if(void 0!==e.options.isolationLevel&&((0,C.assertValidIsolationLevel)(e.options.isolationLevel,"config.options.isolationLevel"),this.config.options.isolationLevel=e.options.isolationLevel),void 0!==e.options.language){if("string"!=typeof e.options.language&&null!==e.options.language)throw TypeError('The "config.options.language" property must be of type string or null.');this.config.options.language=e.options.language}if(void 0!==e.options.localAddress){if("string"!=typeof e.options.localAddress)throw TypeError('The "config.options.localAddress" property must be of type string.');this.config.options.localAddress=e.options.localAddress}if(void 0!==e.options.multiSubnetFailover){if("boolean"!=typeof e.options.multiSubnetFailover)throw TypeError('The "config.options.multiSubnetFailover" property must be of type boolean.');this.config.options.multiSubnetFailover=e.options.multiSubnetFailover}if(void 0!==e.options.packetSize){if("number"!=typeof e.options.packetSize)throw TypeError('The "config.options.packetSize" property must be of type number.');this.config.options.packetSize=e.options.packetSize}if(void 0!==e.options.port){if("number"!=typeof e.options.port)throw TypeError('The "config.options.port" property must be of type number.');if(e.options.port<=0||e.options.port>=65536)throw RangeError('The "config.options.port" property must be > 0 and < 65536');this.config.options.port=e.options.port,this.config.options.instanceName=void 0}if(void 0!==e.options.readOnlyIntent){if("boolean"!=typeof e.options.readOnlyIntent)throw TypeError('The "config.options.readOnlyIntent" property must be of type boolean.');this.config.options.readOnlyIntent=e.options.readOnlyIntent}if(void 0!==e.options.requestTimeout){if("number"!=typeof e.options.requestTimeout)throw TypeError('The "config.options.requestTimeout" property must be of type number.');this.config.options.requestTimeout=e.options.requestTimeout}if(void 0!==e.options.maxRetriesOnTransientErrors){if("number"!=typeof e.options.maxRetriesOnTransientErrors)throw TypeError('The "config.options.maxRetriesOnTransientErrors" property must be of type number.');if(e.options.maxRetriesOnTransientErrors<0)throw TypeError('The "config.options.maxRetriesOnTransientErrors" property must be equal or greater than 0.');this.config.options.maxRetriesOnTransientErrors=e.options.maxRetriesOnTransientErrors}if(void 0!==e.options.connectionRetryInterval){if("number"!=typeof e.options.connectionRetryInterval)throw TypeError('The "config.options.connectionRetryInterval" property must be of type number.');if(e.options.connectionRetryInterval<=0)throw TypeError('The "config.options.connectionRetryInterval" property must be greater than 0.');this.config.options.connectionRetryInterval=e.options.connectionRetryInterval}if(void 0!==e.options.rowCollectionOnDone){if("boolean"!=typeof e.options.rowCollectionOnDone)throw TypeError('The "config.options.rowCollectionOnDone" property must be of type boolean.');this.config.options.rowCollectionOnDone=e.options.rowCollectionOnDone}if(void 0!==e.options.rowCollectionOnRequestCompletion){if("boolean"!=typeof e.options.rowCollectionOnRequestCompletion)throw TypeError('The "config.options.rowCollectionOnRequestCompletion" property must be of type boolean.');this.config.options.rowCollectionOnRequestCompletion=e.options.rowCollectionOnRequestCompletion}if(void 0!==e.options.tdsVersion){if("string"!=typeof e.options.tdsVersion)throw TypeError('The "config.options.tdsVersion" property must be of type string.');this.config.options.tdsVersion=e.options.tdsVersion}if(void 0!==e.options.textsize){if("number"!=typeof e.options.textsize&&null!==e.options.textsize)throw TypeError('The "config.options.textsize" property must be of type number or null.');if(e.options.textsize>0x7fffffff)throw TypeError('The "config.options.textsize" can\'t be greater than 2147483647.');if(e.options.textsize<-1)throw TypeError('The "config.options.textsize" can\'t be smaller than -1.');this.config.options.textsize=0|e.options.textsize}if(void 0!==e.options.trustServerCertificate){if("boolean"!=typeof e.options.trustServerCertificate)throw TypeError('The "config.options.trustServerCertificate" property must be of type boolean.');this.config.options.trustServerCertificate=e.options.trustServerCertificate}if(void 0!==e.options.serverName){if("string"!=typeof e.options.serverName)throw TypeError('The "config.options.serverName" property must be of type string.');this.config.options.serverName=e.options.serverName}if(void 0!==e.options.useColumnNames){if("boolean"!=typeof e.options.useColumnNames)throw TypeError('The "config.options.useColumnNames" property must be of type boolean.');this.config.options.useColumnNames=e.options.useColumnNames}if(void 0!==e.options.useUTC){if("boolean"!=typeof e.options.useUTC)throw TypeError('The "config.options.useUTC" property must be of type boolean.');this.config.options.useUTC=e.options.useUTC}if(void 0!==e.options.workstationId){if("string"!=typeof e.options.workstationId)throw TypeError('The "config.options.workstationId" property must be of type string.');this.config.options.workstationId=e.options.workstationId}if(void 0!==e.options.lowerCaseGuids){if("boolean"!=typeof e.options.lowerCaseGuids)throw TypeError('The "config.options.lowerCaseGuids" property must be of type boolean.');this.config.options.lowerCaseGuids=e.options.lowerCaseGuids}}this.secureContextOptions=this.config.options.cryptoCredentialsDetails,void 0===this.secureContextOptions.secureOptions&&(this.secureContextOptions=Object.create(this.secureContextOptions,{secureOptions:{value:l.default.SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS}})),this.debug=this.createDebug(),this.inTransaction=!1,this.transactionDescriptors=[Buffer.from([0,0,0,0,0,0,0,0])],this.transactionDepth=0,this.isSqlBatch=!1,this.closed=!1,this.messageBuffer=Buffer.alloc(0),this.curTransientRetryCount=0,this.transientErrorLookup=new g.TransientErrorLookup,this.state=this.STATE.INITIALIZED,this._cancelAfterRequestSent=()=>{this.messageIo.sendMessage(y.TYPE.ATTENTION),this.createCancelTimer()}}connect(e){if(this.state!==this.STATE.INITIALIZED)throw new O.ConnectionError("`.connect` can not be called on a Connection in `"+this.state.name+"` state.");if(e){let t=t=>{this.removeListener("error",r),e(t)},r=r=>{this.removeListener("connect",t),e(r)};this.once("connect",t),this.once("error",r)}this.transitionTo(this.STATE.CONNECTING)}on(e,t){return super.on(e,t)}emit(e,...t){return super.emit(e,...t)}close(){this.transitionTo(this.STATE.FINAL)}initialiseConnection(){let e=this.createConnectTimer();return this.config.options.port?this.connectOnPort(this.config.options.port,this.config.options.multiSubnetFailover,e,this.config.options.connector):(0,m.instanceLookup)({server:this.config.server,instanceName:this.config.options.instanceName,timeout:this.config.options.connectTimeout,signal:e}).then(t=>{process.nextTick(()=>{this.connectOnPort(t,this.config.options.multiSubnetFailover,e,this.config.options.connector)})},t=>{this.clearConnectTimer(),e.aborted||process.nextTick(()=>{this.emit("connect",new O.ConnectionError(t.message,"EINSTLOOKUP",{cause:t}))})})}cleanupConnection(e){if(!this.closed){this.clearConnectTimer(),this.clearRequestTimer(),this.clearRetryTimer(),this.closeConnection(),e===H.REDIRECT?this.emit("rerouting"):e!==H.RETRY&&process.nextTick(()=>{this.emit("end")});let t=this.request;if(t){let e=new O.RequestError("Connection closed before request completed.","ECLOSE");t.callback(e),this.request=void 0}this.closed=!0,this.loginError=void 0}}createDebug(){let e=new f.default(this.config.options.debug);return e.on("debug",e=>{this.emit("debug",e)}),e}createTokenStreamParser(e,t){return new A.Parser(e,this.debug,t,this.config.options)}socketHandlingForSendPreLogin(e){e.on("error",e=>{this.socketError(e)}),e.on("close",()=>{this.socketClose()}),e.on("end",()=>{this.socketEnd()}),e.setKeepAlive(!0,3e4),this.messageIo=new S.default(e,this.config.options.packetSize,this.debug),this.messageIo.on("secure",e=>{this.emit("secure",e)}),this.socket=e,this.closed=!1,this.debug.log("connected to "+this.config.server+":"+this.config.options.port),this.sendPreLogin(),this.transitionTo(this.STATE.SENT_PRELOGIN)}wrapWithTls(e,t){return t.throwIfAborted(),new Promise((r,n)=>{let i=o.createSecureContext(this.secureContextOptions),a=s.isIP(this.config.server)?"":this.config.server,l={host:this.config.server,socket:e,ALPNProtocols:["tds/8.0"],secureContext:i,servername:this.config.options.serverName?this.config.options.serverName:a},c=o.connect(l),u=()=>{c.removeListener("error",d),c.removeListener("connect",h),c.destroy(),n(t.reason)},d=e=>{t.removeEventListener("abort",u),c.removeListener("error",d),c.removeListener("connect",h),c.destroy(),n(e)},h=()=>{t.removeEventListener("abort",u),c.removeListener("error",d),c.removeListener("connect",h),r(c)};t.addEventListener("abort",u,{once:!0}),c.on("error",d),c.on("secureConnect",h)})}connectOnPort(e,t,r,n){let i={host:this.routingData?this.routingData.server:this.config.server,port:this.routingData?this.routingData.port:e,localAddress:this.config.options.localAddress},o=n||(t?I.connectInParallel:I.connectInSequence);(async()=>{let e=await o(i,a.default.lookup,r);if("strict"===this.config.options.encrypt)try{e=await this.wrapWithTls(e,r)}catch(t){throw e.end(),t}this.socketHandlingForSendPreLogin(e)})().catch(e=>{this.clearConnectTimer(),r.aborted||process.nextTick(()=>{this.socketError(e)})})}closeConnection(){this.socket&&this.socket.destroy()}createConnectTimer(){let e=new AbortController;return this.connectTimer=setTimeout(()=>{e.abort(),this.connectTimeout()},this.config.options.connectTimeout),e.signal}createCancelTimer(){this.clearCancelTimer();let e=this.config.options.cancelTimeout;e>0&&(this.cancelTimer=setTimeout(()=>{this.cancelTimeout()},e))}createRequestTimer(){this.clearRequestTimer();let e=this.request,t=void 0!==e.timeout?e.timeout:this.config.options.requestTimeout;t&&(this.requestTimer=setTimeout(()=>{this.requestTimeout()},t))}createRetryTimer(){this.clearRetryTimer(),this.retryTimer=setTimeout(()=>{this.retryTimeout()},this.config.options.connectionRetryInterval)}connectTimeout(){let e=this.config.options.port?`:${this.config.options.port}`:`\\${this.config.options.instanceName}`,t=this.routingData?this.routingData.server:this.config.server,r=this.routingData?`:${this.routingData.port}`:e,n=this.routingData?` (redirected from ${this.config.server}${e})`:"",i=`Failed to connect to ${t}${r}${n} in ${this.config.options.connectTimeout}ms`;this.debug.log(i),this.emit("connect",new O.ConnectionError(i,"ETIMEOUT")),this.connectTimer=void 0,this.dispatchEvent("connectTimeout")}cancelTimeout(){let e=`Failed to cancel request in ${this.config.options.cancelTimeout}ms`;this.debug.log(e),this.dispatchEvent("socketError",new O.ConnectionError(e,"ETIMEOUT"))}requestTimeout(){this.requestTimer=void 0;let e=this.request;e.cancel();let t=void 0!==e.timeout?e.timeout:this.config.options.requestTimeout;e.error=new O.RequestError("Timeout: Request failed to complete in "+t+"ms","ETIMEOUT")}retryTimeout(){this.retryTimer=void 0,this.emit("retry"),this.transitionTo(this.STATE.CONNECTING)}clearConnectTimer(){this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=void 0)}clearCancelTimer(){this.cancelTimer&&(clearTimeout(this.cancelTimer),this.cancelTimer=void 0)}clearRequestTimer(){this.requestTimer&&(clearTimeout(this.requestTimer),this.requestTimer=void 0)}clearRetryTimer(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=void 0)}transitionTo(e){if(this.state===e){this.debug.log("State is already "+e.name);return}this.state&&this.state.exit&&this.state.exit.call(this,e),this.debug.log("State change: "+(this.state?this.state.name:"undefined")+" -> "+e.name),this.state=e,this.state.enter&&this.state.enter.apply(this)}getEventHandler(e){let t=this.state.events[e];if(!t)throw Error(`No event '${e}' in state '${this.state.name}'`);return t}dispatchEvent(e,...t){let r=this.state.events[e];r?r.apply(this,t):(this.emit("error",Error(`No event '${e}' in state '${this.state.name}'`)),this.close())}socketError(e){if(this.state===this.STATE.CONNECTING||this.state===this.STATE.SENT_TLSSSLNEGOTIATION){let t=this.config.options.port?`:${this.config.options.port}`:`\\${this.config.options.instanceName}`,r=this.routingData?this.routingData.server:this.config.server,n=this.routingData?`:${this.routingData.port}`:t,i=this.routingData?` (redirected from ${this.config.server}${t})`:"",o=`Failed to connect to ${r}${n}${i} - ${e.message}`;this.debug.log(o),this.emit("connect",new O.ConnectionError(o,"ESOCKET",{cause:e}))}else{let t=`Connection lost - ${e.message}`;this.debug.log(t),this.emit("error",new O.ConnectionError(t,"ESOCKET",{cause:e}))}this.dispatchEvent("socketError",e)}socketEnd(){if(this.debug.log("socket ended"),this.state!==this.STATE.FINAL){let e=Error("socket hang up");e.code="ECONNRESET",this.socketError(e)}}socketClose(){if(this.debug.log("connection to "+this.config.server+":"+this.config.options.port+" closed"),this.state===this.STATE.REROUTING)this.debug.log("Rerouting to "+this.routingData.server+":"+this.routingData.port),this.dispatchEvent("reconnect");else if(this.state===this.STATE.TRANSIENT_FAILURE_RETRY){let e=this.routingData?this.routingData.server:this.config.server,t=this.routingData?this.routingData.port:this.config.options.port;this.debug.log("Retry after transient failure connecting to "+e+":"+t),this.dispatchEvent("retry")}else this.transitionTo(this.STATE.FINAL)}sendPreLogin(){let[,e,t,r]=/^(\d+)\.(\d+)\.(\d+)/.exec(U.version)??["0.0.0","0","0","0"],n=new _.default({encrypt:"boolean"==typeof this.config.options.encrypt&&this.config.options.encrypt,version:{major:Number(e),minor:Number(t),build:Number(r),subbuild:0}});this.messageIo.sendMessage(y.TYPE.PRELOGIN,n.data),this.debug.payload(function(){return n.toString("  ")})}sendLogin7Packet(){let e=new E.default({tdsVersion:R.versions[this.config.options.tdsVersion],packetSize:this.config.options.packetSize,clientProgVer:0,clientPid:process.pid,connectionId:0,clientTimeZone:new Date().getTimezoneOffset(),clientLcid:1033}),{authentication:t}=this.config;switch(t.type){case"azure-active-directory-password":e.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"default"};break;case"azure-active-directory-access-token":e.fedAuth={type:"SECURITYTOKEN",echo:this.fedAuthRequired,fedAuthToken:t.options.token};break;case"token-credential":case"azure-active-directory-msi-vm":case"azure-active-directory-default":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":e.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"integrated"};break;case"ntlm":e.sspi=(0,D.createNTLMRequest)({domain:t.options.domain});break;default:e.userName=t.options.userName,e.password=t.options.password}e.hostname=this.config.options.workstationId||i.default.hostname(),e.serverName=this.routingData?this.routingData.server:this.config.server,e.appName=this.config.options.appName||"Tedious",e.libraryName=N.name,e.language=this.config.options.language,e.database=this.config.options.database,e.clientId=Buffer.from([1,2,3,4,5,6]),e.readOnlyIntent=this.config.options.readOnlyIntent,e.initDbFatal=!this.config.options.fallbackToDefaultDb,this.routingData=void 0,this.messageIo.sendMessage(y.TYPE.LOGIN7,e.toBuffer()),this.debug.payload(function(){return e.toString("  ")})}sendFedAuthTokenMessage(e){let t=Buffer.byteLength(e,"ucs2"),r=Buffer.alloc(8+t),n=0;n=r.writeUInt32LE(t+4,n),n=r.writeUInt32LE(t,n),r.write(e,n,"ucs2"),this.messageIo.sendMessage(y.TYPE.FEDAUTH_TOKEN,r),this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN)}sendInitialSql(){let e=new w.default(this.getInitialSql(),this.currentTransactionDescriptor(),this.config.options),t=new P.default({type:y.TYPE.SQL_BATCH});this.messageIo.outgoingMessageStream.write(t),c.Readable.from(e).pipe(t)}getInitialSql(){let e=[];return!0===this.config.options.enableAnsiNull?e.push("set ansi_nulls on"):!1===this.config.options.enableAnsiNull&&e.push("set ansi_nulls off"),!0===this.config.options.enableAnsiNullDefault?e.push("set ansi_null_dflt_on on"):!1===this.config.options.enableAnsiNullDefault&&e.push("set ansi_null_dflt_on off"),!0===this.config.options.enableAnsiPadding?e.push("set ansi_padding on"):!1===this.config.options.enableAnsiPadding&&e.push("set ansi_padding off"),!0===this.config.options.enableAnsiWarnings?e.push("set ansi_warnings on"):!1===this.config.options.enableAnsiWarnings&&e.push("set ansi_warnings off"),!0===this.config.options.enableArithAbort?e.push("set arithabort on"):!1===this.config.options.enableArithAbort&&e.push("set arithabort off"),!0===this.config.options.enableConcatNullYieldsNull?e.push("set concat_null_yields_null on"):!1===this.config.options.enableConcatNullYieldsNull&&e.push("set concat_null_yields_null off"),!0===this.config.options.enableCursorCloseOnCommit?e.push("set cursor_close_on_commit on"):!1===this.config.options.enableCursorCloseOnCommit&&e.push("set cursor_close_on_commit off"),null!==this.config.options.datefirst&&e.push(`set datefirst ${this.config.options.datefirst}`),null!==this.config.options.dateFormat&&e.push(`set dateformat ${this.config.options.dateFormat}`),!0===this.config.options.enableImplicitTransactions?e.push("set implicit_transactions on"):!1===this.config.options.enableImplicitTransactions&&e.push("set implicit_transactions off"),null!==this.config.options.language&&e.push(`set language ${this.config.options.language}`),!0===this.config.options.enableNumericRoundabort?e.push("set numeric_roundabort on"):!1===this.config.options.enableNumericRoundabort&&e.push("set numeric_roundabort off"),!0===this.config.options.enableQuotedIdentifier?e.push("set quoted_identifier on"):!1===this.config.options.enableQuotedIdentifier&&e.push("set quoted_identifier off"),null!==this.config.options.textsize&&e.push(`set textsize ${this.config.options.textsize}`),null!==this.config.options.connectionIsolationLevel&&e.push(`set transaction isolation level ${this.getIsolationLevelText(this.config.options.connectionIsolationLevel)}`),!0===this.config.options.abortTransactionOnError?e.push("set xact_abort on"):!1===this.config.options.abortTransactionOnError&&e.push("set xact_abort off"),e.join("\n")}processedInitialSql(){this.clearConnectTimer(),this.emit("connect")}execSqlBatch(e){this.makeRequest(e,y.TYPE.SQL_BATCH,new w.default(e.sqlTextOrProcedure,this.currentTransactionDescriptor(),this.config.options))}execSql(e){try{e.validateParameters(this.databaseCollation)}catch(t){e.error=t,process.nextTick(()=>{this.debug.log(t.message),e.callback(t)});return}let t=[];t.push({type:M.TYPES.NVarChar,name:"statement",value:e.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),e.parameters.length&&(t.push({type:M.TYPES.NVarChar,name:"params",value:e.makeParamsParameter(e.parameters),output:!1,length:void 0,precision:void 0,scale:void 0}),t.push(...e.parameters)),this.makeRequest(e,y.TYPE.RPC_REQUEST,new T.default(L.default.Sp_ExecuteSql,t,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}newBulkLoad(e,t,r){let n;if(void 0===r?(r=t,n={}):n=t,"object"!=typeof n)throw TypeError('"options" argument must be an object');return new h.default(e,this.databaseCollation,this.config.options,n,r)}execBulkLoad(e,t){if(e.executionStarted=!0,t){if(e.streamingMode)throw Error("Connection.execBulkLoad can't be called with a BulkLoad that was put in streaming mode.");if(e.firstRowWritten)throw Error("Connection.execBulkLoad can't be called with a BulkLoad that already has rows written to it.");let r=c.Readable.from(t);r.on("error",t=>{e.rowToPacketTransform.destroy(t)}),e.rowToPacketTransform.on("error",e=>{r.destroy(e)}),r.pipe(e.rowToPacketTransform)}else e.streamingMode||e.rowToPacketTransform.end();let r=()=>{i.cancel()},n=new k.BulkLoadPayload(e),i=new b.default(e.getBulkInsertSql(),t=>{if(e.removeListener("cancel",r),t){"UNKNOWN"===t.code&&(t.message+=" This is likely because the schema of the BulkLoad does not match the schema of the table you are attempting to insert into."),e.error=t,e.callback(t);return}this.makeRequest(e,y.TYPE.BULK_LOAD,n)});e.once("cancel",r),this.execSqlBatch(i)}prepare(e){let t=[];t.push({type:M.TYPES.Int,name:"handle",value:void 0,output:!0,length:void 0,precision:void 0,scale:void 0}),t.push({type:M.TYPES.NVarChar,name:"params",value:e.parameters.length?e.makeParamsParameter(e.parameters):null,output:!1,length:void 0,precision:void 0,scale:void 0}),t.push({type:M.TYPES.NVarChar,name:"stmt",value:e.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),e.preparing=!0,e.on("returnValue",(t,r)=>{"handle"===t?e.handle=r:e.error=new O.RequestError(`Tedious > Unexpected output parameter ${t} from sp_prepare`)}),this.makeRequest(e,y.TYPE.RPC_REQUEST,new T.default(L.default.Sp_Prepare,t,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}unprepare(e){let t=[];t.push({type:M.TYPES.Int,name:"handle",value:e.handle,output:!1,length:void 0,precision:void 0,scale:void 0}),this.makeRequest(e,y.TYPE.RPC_REQUEST,new T.default(L.default.Sp_Unprepare,t,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}execute(e,t){let r=[];r.push({type:M.TYPES.Int,name:"",value:e.handle,output:!1,length:void 0,precision:void 0,scale:void 0});try{for(let n=0,i=e.parameters.length;n<i;n++){let i=e.parameters[n];r.push({...i,value:i.type.validate(t?t[i.name]:null,this.databaseCollation)})}}catch(t){e.error=t,process.nextTick(()=>{this.debug.log(t.message),e.callback(t)});return}this.makeRequest(e,y.TYPE.RPC_REQUEST,new T.default(L.default.Sp_Execute,r,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}callProcedure(e){try{e.validateParameters(this.databaseCollation)}catch(t){e.error=t,process.nextTick(()=>{this.debug.log(t.message),e.callback(t)});return}this.makeRequest(e,y.TYPE.RPC_REQUEST,new T.default(e.sqlTextOrProcedure,e.parameters,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}beginTransaction(e,t="",r=this.config.options.isolationLevel){(0,C.assertValidIsolationLevel)(r,"isolationLevel");let n=new C.Transaction(t,r);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new b.default("SET TRANSACTION ISOLATION LEVEL "+n.isolationLevelToTSQL()+";BEGIN TRAN "+n.name,t=>{this.transactionDepth++,1===this.transactionDepth&&(this.inTransaction=!0),e(t)}));let i=new b.default(void 0,t=>e(t,this.currentTransactionDescriptor()));return this.makeRequest(i,y.TYPE.TRANSACTION_MANAGER,n.beginPayload(this.currentTransactionDescriptor()))}commitTransaction(e,t=""){let r=new C.Transaction(t);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new b.default("COMMIT TRAN "+r.name,t=>{this.transactionDepth--,0===this.transactionDepth&&(this.inTransaction=!1),e(t)}));let n=new b.default(void 0,e);return this.makeRequest(n,y.TYPE.TRANSACTION_MANAGER,r.commitPayload(this.currentTransactionDescriptor()))}rollbackTransaction(e,t=""){let r=new C.Transaction(t);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new b.default("ROLLBACK TRAN "+r.name,t=>{this.transactionDepth--,0===this.transactionDepth&&(this.inTransaction=!1),e(t)}));let n=new b.default(void 0,e);return this.makeRequest(n,y.TYPE.TRANSACTION_MANAGER,r.rollbackPayload(this.currentTransactionDescriptor()))}saveTransaction(e,t){let r=new C.Transaction(t);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new b.default("SAVE TRAN "+r.name,t=>{this.transactionDepth++,e(t)}));let n=new b.default(void 0,e);return this.makeRequest(n,y.TYPE.TRANSACTION_MANAGER,r.savePayload(this.currentTransactionDescriptor()))}transaction(e,t){if("function"!=typeof e)throw TypeError("`cb` must be a function");let r=this.inTransaction,i="_tedious_"+n.default.randomBytes(10).toString("hex"),o=(e,t,...n)=>{e?this.inTransaction&&this.state===this.STATE.LOGGED_IN?this.rollbackTransaction(r=>{t(r||e,...n)},i):t(e,...n):r?(this.config.options.tdsVersion<"7_2"&&this.transactionDepth--,t(null,...n)):this.commitTransaction(e=>{t(e,...n)},i)};return r?this.saveTransaction(r=>r?e(r):t?this.execSqlBatch(new b.default("SET transaction isolation level "+this.getIsolationLevelText(t),t=>e(t,o))):e(null,o),i):this.beginTransaction(t=>t?e(t):e(null,o),i,t)}makeRequest(e,t,r){if(this.state!==this.STATE.LOGGED_IN){let t="Requests can only be made in the "+this.STATE.LOGGED_IN.name+" state, not the "+this.state.name+" state";this.debug.log(t),e.callback(new O.RequestError(t,"EINVALIDSTATE"))}else if(e.canceled)process.nextTick(()=>{e.callback(new O.RequestError("Canceled.","ECANCEL"))});else{t===y.TYPE.SQL_BATCH?this.isSqlBatch=!0:this.isSqlBatch=!1,this.request=e,e.connection=this,e.rowCount=0,e.rows=[],e.rst=[];let n=()=>{o.unpipe(i),o.destroy(new O.RequestError("Canceled.","ECANCEL")),i.ignore=!0,i.end(),e instanceof b.default&&e.paused&&e.resume()};e.once("cancel",n),this.createRequestTimer();let i=new P.default({type:t,resetConnection:this.resetConnectionOnNextRequest});this.messageIo.outgoingMessageStream.write(i),this.transitionTo(this.STATE.SENT_CLIENT_REQUEST),i.once("finish",()=>{e.removeListener("cancel",n),e.once("cancel",this._cancelAfterRequestSent),this.resetConnectionOnNextRequest=!1,this.debug.payload(function(){return r.toString("  ")})});let o=c.Readable.from(r);o.once("error",t=>{o.unpipe(i),e.error??=t,i.ignore=!0,i.end()}),o.pipe(i)}}cancel(){return!!this.request&&!this.request.canceled&&(this.request.cancel(),!0)}reset(e){let t=new b.default(this.getInitialSql(),t=>{this.config.options.tdsVersion<"7_2"&&(this.inTransaction=!1),e(t)});this.resetConnectionOnNextRequest=!0,this.execSqlBatch(t)}currentTransactionDescriptor(){return this.transactionDescriptors[this.transactionDescriptors.length-1]}getIsolationLevelText(e){switch(e){case C.ISOLATION_LEVEL.READ_UNCOMMITTED:return"read uncommitted";case C.ISOLATION_LEVEL.REPEATABLE_READ:return"repeatable read";case C.ISOLATION_LEVEL.SERIALIZABLE:return"serializable";case C.ISOLATION_LEVEL.SNAPSHOT:return"snapshot";default:return"read committed"}}}function V(e){return e instanceof AggregateError&&(e=e.errors[0]),e instanceof O.ConnectionError&&!!e.isTransient}t.default=Y,e.exports=Y,Y.prototype.STATE={INITIALIZED:{name:"Initialized",events:{}},CONNECTING:{name:"Connecting",enter:function(){this.initialiseConnection()},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_PRELOGIN:{name:"SentPrelogin",enter:function(){(async()=>{let e,t=Buffer.alloc(0);try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}for await(let r of e)t=Buffer.concat([t,r]);let r=new _.default(t);if(this.debug.payload(function(){return r.toString("  ")}),1===r.fedAuthRequired&&(this.fedAuthRequired=!0),"strict"!==this.config.options.encrypt&&("ON"===r.encryptionString||"REQ"===r.encryptionString)){if(!this.config.options.encrypt)return this.emit("connect",new O.ConnectionError("Server requires encryption, set 'encrypt' config option to true.","EENCRYPT")),this.close();try{this.transitionTo(this.STATE.SENT_TLSSSLNEGOTIATION),await this.messageIo.startTls(this.secureContextOptions,this.config.options.serverName?this.config.options.serverName:this.routingData?.server??this.config.server,this.config.options.trustServerCertificate)}catch(e){return this.socketError(e)}}this.sendLogin7Packet();let{authentication:n}=this.config;switch(n.type){case"token-credential":case"azure-active-directory-password":case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":case"azure-active-directory-default":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_FEDAUTH);break;case"ntlm":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_NTLM);break;default:this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN)}})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},REROUTING:{name:"ReRouting",enter:function(){this.cleanupConnection(H.REDIRECT)},events:{message:function(){},socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)},reconnect:function(){this.transitionTo(this.STATE.CONNECTING)}}},TRANSIENT_FAILURE_RETRY:{name:"TRANSIENT_FAILURE_RETRY",enter:function(){this.curTransientRetryCount++,this.cleanupConnection(H.RETRY)},events:{message:function(){},socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)},retry:function(){this.createRetryTimer()}}},SENT_TLSSSLNEGOTIATION:{name:"SentTLSSSLNegotiation",events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_STANDARD_LOGIN:{name:"SentLogin7WithStandardLogin",enter:function(){(async()=>{let e;try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=new F.Login7TokenHandler(this),r=this.createTokenStreamParser(e,t);await (0,p.once)(r,"end"),t.loginAckReceived?t.routingData?(this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL):this.loginError?V(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new O.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_NTLM:{name:"SentLogin7WithNTLMLogin",enter:function(){(async()=>{for(;;){let e;try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=new F.Login7TokenHandler(this),r=this.createTokenStreamParser(e,t);if(await (0,p.once)(r,"end"),t.loginAckReceived){if(t.routingData)return this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING);return this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL)}if(this.ntlmpacket){let e=this.config.authentication,t=new v.default({domain:e.options.domain,userName:e.options.userName,password:e.options.password,ntlmpacket:this.ntlmpacket});this.messageIo.sendMessage(y.TYPE.NTLMAUTH_PKT,t.data),this.debug.payload(function(){return t.toString("  ")}),this.ntlmpacket=void 0}else{if(!this.loginError)return this.emit("connect",new O.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL);if(V(this.loginError))return this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY);return this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)}}})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_FEDAUTH:{name:"SentLogin7Withfedauth",enter:function(){(async()=>{let e;try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=new F.Login7TokenHandler(this),r=this.createTokenStreamParser(e,t);if(await (0,p.once)(r,"end"),t.loginAckReceived){t.routingData?(this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL);return}let n=t.fedAuthInfoToken;if(n&&n.stsurl&&n.spn){let e,t;let r=this.config.authentication,i=new x.URL("/.default",n.spn).toString();switch(r.type){case"token-credential":e=r.options.credential;break;case"azure-active-directory-password":e=new u.UsernamePasswordCredential(r.options.tenantId??"common",r.options.clientId,r.options.userName,r.options.password);break;case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":let o=r.options.clientId?[r.options.clientId,{}]:[{}];e=new u.ManagedIdentityCredential(...o);break;case"azure-active-directory-default":let s=r.options.clientId?{managedIdentityClientId:r.options.clientId}:{};e=new u.DefaultAzureCredential(s);break;case"azure-active-directory-service-principal-secret":e=new u.ClientSecretCredential(r.options.tenantId,r.options.clientId,r.options.clientSecret)}try{t=await e.getToken(i)}catch(e){this.loginError=AggregateError([new O.ConnectionError("Security token could not be authenticated or authorized.","EFEDAUTH"),e]),this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL);return}if(null===t){this.loginError=AggregateError([new O.ConnectionError("Security token could not be authenticated or authorized.","EFEDAUTH")]),this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL);return}this.sendFedAuthTokenMessage(t.token)}else this.loginError?V(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new O.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},LOGGED_IN_SENDING_INITIAL_SQL:{name:"LoggedInSendingInitialSql",enter:function(){(async()=>{let e;this.sendInitialSql();try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=this.createTokenStreamParser(e,new F.InitialSqlTokenHandler(this));await (0,p.once)(t,"end"),this.transitionTo(this.STATE.LOGGED_IN),this.processedInitialSql()})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},LOGGED_IN:{name:"LoggedIn",events:{socketError:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_CLIENT_REQUEST:{name:"SentClientRequest",enter:function(){(async()=>{let e;try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}this.clearRequestTimer();let t=this.createTokenStreamParser(e,new F.RequestTokenHandler(this,this.request));if(this.request?.canceled&&this.cancelTimer)return this.transitionTo(this.STATE.SENT_ATTENTION);let r=()=>{t.resume()},n=()=>{t.pause(),this.request?.once("resume",r)};this.request?.on("pause",n),this.request instanceof b.default&&this.request.paused&&n();let i=()=>{t.removeListener("end",o),this.request instanceof b.default&&this.request.paused&&this.request.resume(),this.request?.removeListener("pause",n),this.request?.removeListener("resume",r),this.transitionTo(this.STATE.SENT_ATTENTION)},o=()=>{this.request?.removeListener("cancel",this._cancelAfterRequestSent),this.request?.removeListener("cancel",i),this.request?.removeListener("pause",n),this.request?.removeListener("resume",r),this.transitionTo(this.STATE.LOGGED_IN);let e=this.request;this.request=void 0,this.config.options.tdsVersion<"7_2"&&e.error&&this.isSqlBatch&&(this.inTransaction=!1),e.callback(e.error,e.rowCount,e.rows)};t.once("end",o),this.request?.once("cancel",i)})()},exit:function(e){this.clearRequestTimer()},events:{socketError:function(e){let t=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),t.callback(e)}}},SENT_ATTENTION:{name:"SentAttention",enter:function(){(async()=>{let e;try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=new F.AttentionTokenHandler(this,this.request),r=this.createTokenStreamParser(e,t);if(await (0,p.once)(r,"end"),t.attentionReceived){this.clearCancelTimer();let e=this.request;this.request=void 0,this.transitionTo(this.STATE.LOGGED_IN),e.error&&e.error instanceof O.RequestError&&"ETIMEOUT"===e.error.code?e.callback(e.error):e.callback(new O.RequestError("Canceled.","ECANCEL"))}})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(e){let t=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),t.callback(e)}}},FINAL:{name:"Final",enter:function(){this.cleanupConnection(H.NORMAL)},events:{connectTimeout:function(){},message:function(){},socketError:function(){}}}}},85345:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectInParallel=a,t.connectInSequence=l,t.lookupAllAddresses=c;var n=s(r(91645)),i=s(r(73136)),o=s(r(42053));function s(e){return e&&e.__esModule?e:{default:e}}async function a(e,t,r){if(r.aborted)throw new o.default;let i=await c(e.host,t,r);return await new Promise((t,s)=>{let a=Array(i.length),l=[];function c(e){l.push(e),this.removeListener("error",c),this.removeListener("connect",u),this.destroy(),l.length===i.length&&(r.removeEventListener("abort",d),s(AggregateError(l,"Could not connect (parallel)")))}function u(){r.removeEventListener("abort",d);for(let e=0;e<a.length;e++){let t=a[e];this!==t&&(t.removeListener("error",c),t.removeListener("connect",u),t.destroy())}t(this)}let d=()=>{for(let e=0;e<a.length;e++){let t=a[e];t.removeListener("error",c),t.removeListener("connect",u),t.destroy()}s(new o.default)};for(let t=0,r=i.length;t<r;t++){let r=a[t]=n.default.connect({...e,host:i[t].address,family:i[t].family});r.on("error",c),r.on("connect",u)}r.addEventListener("abort",d,{once:!0})})}async function l(e,t,r){if(r.aborted)throw new o.default;let i=[];for(let s of(await c(e.host,t,r)))try{return await new Promise((t,i)=>{let a=n.default.connect({...e,host:s.address,family:s.family}),l=()=>{a.removeListener("error",c),a.removeListener("connect",u),a.destroy(),i(new o.default)},c=e=>{r.removeEventListener("abort",l),a.removeListener("error",c),a.removeListener("connect",u),a.destroy(),i(e)},u=()=>{r.removeEventListener("abort",l),a.removeListener("error",c),a.removeListener("connect",u),t(a)};r.addEventListener("abort",l,{once:!0}),a.on("error",c),a.on("connect",u)})}catch(e){if(e instanceof Error&&"AbortError"===e.name)throw e;i.push(e);continue}throw AggregateError(i,"Could not connect (sequence)")}async function c(e,t,r){if(r.aborted)throw new o.default;return n.default.isIPv6(e)?[{address:e,family:6}]:n.default.isIPv4(e)?[{address:e,family:4}]:await new Promise((n,s)=>{let a=()=>{s(new o.default)};r.addEventListener("abort",a);let l=i.default.domainToASCII(e);t(""===l?e:l,{all:!0},(e,t)=>{r.removeEventListener("abort",a),e?s(e):n(t)})})}},21053:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeByName=t.TYPES=t.TYPE=void 0;var n=H(r(64430)),i=H(r(84632)),o=H(r(19076)),s=H(r(57231)),a=H(r(74738)),l=H(r(65313)),c=H(r(62547)),u=H(r(57995)),d=H(r(47078)),h=H(r(81425)),f=H(r(69504)),p=H(r(34420)),m=H(r(42990)),g=H(r(44552)),y=H(r(32798)),_=H(r(35312)),E=H(r(67059)),v=H(r(79310)),b=H(r(59202)),T=H(r(69e3)),w=H(r(86084)),S=H(r(70808)),A=H(r(77683)),C=H(r(14245)),O=H(r(83842)),I=H(r(18439)),N=H(r(86074)),R=H(r(90646)),P=H(r(68051)),D=H(r(38280)),M=H(r(88373)),k=H(r(98618)),L=H(r(57802)),U=H(r(71643)),x=H(r(30934)),F=H(r(1521)),B=H(r(51880)),j=H(r(49153)),q=H(r(13451));function H(e){return e&&e.__esModule?e:{default:e}}t.TYPE={[n.default.id]:n.default,[i.default.id]:i.default,[o.default.id]:o.default,[s.default.id]:s.default,[a.default.id]:a.default,[l.default.id]:l.default,[c.default.id]:c.default,[u.default.id]:u.default,[d.default.id]:d.default,[h.default.id]:h.default,[f.default.id]:f.default,[p.default.id]:p.default,[m.default.id]:m.default,[g.default.id]:g.default,[y.default.id]:y.default,[_.default.id]:_.default,[E.default.id]:E.default,[v.default.id]:v.default,[b.default.id]:b.default,[T.default.id]:T.default,[w.default.id]:w.default,[S.default.id]:S.default,[A.default.id]:A.default,[C.default.id]:C.default,[O.default.id]:O.default,[I.default.id]:I.default,[N.default.id]:N.default,[R.default.id]:R.default,[P.default.id]:P.default,[D.default.id]:D.default,[M.default.id]:M.default,[k.default.id]:k.default,[L.default.id]:L.default,[U.default.id]:U.default,[x.default.id]:x.default,[F.default.id]:F.default,[B.default.id]:B.default,[j.default.id]:j.default,[q.default.id]:q.default};let Y=t.TYPES={TinyInt:i.default,Bit:o.default,SmallInt:s.default,Int:a.default,SmallDateTime:l.default,Real:c.default,Money:u.default,DateTime:d.default,Float:h.default,Decimal:f.default,Numeric:p.default,SmallMoney:m.default,BigInt:g.default,Image:y.default,Text:_.default,UniqueIdentifier:E.default,NText:b.default,VarBinary:I.default,VarChar:N.default,Binary:R.default,Char:P.default,NVarChar:D.default,NChar:M.default,Xml:k.default,Time:L.default,Date:U.default,DateTime2:x.default,DateTimeOffset:F.default,UDT:B.default,TVP:j.default,Variant:q.default};t.typeByName=Y},44552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(79310)),i=o(r(49184));function o(e){return e&&e.__esModule?e:{default:e}}let s=Buffer.from([8]),a=Buffer.from([0]),l=-0x8000000000000000n,c={id:127,type:"INT8",name:"BigInt",declaration:function(){return"bigint"},generateTypeInfo:()=>Buffer.from([n.default.id,8]),generateParameterLength:(e,t)=>null==e.value?a:s,*generateParameterData(e,t){if(null==e.value)return;let r=new i.default(8);r.writeBigInt64LE("bigint"==typeof e.value?e.value:globalThis.BigInt(e.value)),yield r.data},validate:function(e){if(null==e)return null;if("bigint"!=typeof e&&(e=globalThis.BigInt(e)),e<l||e>0x7fffffffffffffffn)throw TypeError(`Value must be between ${l} and ${0x7fffffffffffffffn}, inclusive.`);return e}};t.default=c,e.exports=c},90646:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([255,255]),n={id:173,type:"BIGBinary",name:"Binary",maximumLength:8e3,declaration:function(e){let t=e.value;return"binary("+(e.length?e.length:null!=t?t.length||1:null!==t||e.output?this.maximumLength:1)+")"},resolveLength:function(e){let t=e.value;return null!=t?t.length:this.maximumLength},generateTypeInfo(e){let t=Buffer.alloc(3);return t.writeUInt8(this.id,0),t.writeUInt16LE(e.length,1),t},generateParameterLength(e,t){if(null==e.value)return r;let n=Buffer.alloc(2);return n.writeUInt16LE(e.length,0),n},*generateParameterData(e,t){null!=e.value&&(yield e.value.slice(0,void 0!==e.length?Math.min(e.length,this.maximumLength):this.maximumLength))},validate:function(e){if(null==e)return null;if(!Buffer.isBuffer(e))throw TypeError("Invalid buffer.");return e}};t.default=n,e.exports=n},19076:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(69e3));let i=Buffer.from([1]),o=Buffer.from([0]),s={id:50,type:"BIT",name:"Bit",declaration:function(){return"bit"},generateTypeInfo:()=>Buffer.from([n.default.id,1]),generateParameterLength:(e,t)=>null==e.value?o:i,*generateParameterData(e,t){null!=e.value&&(yield e.value?Buffer.from([1]):Buffer.from([0]))},validate:function(e){return null==e?null:!!e}};t.default=s,e.exports=s},69e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:104,type:"BITN",name:"BitN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},*generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},68051:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(53521));let i=Buffer.from([255,255]),o={id:175,type:"BIGCHAR",name:"Char",maximumLength:8e3,declaration:function(e){let t;let r=e.value;return(t=e.length?e.length:null!=r?r.length||1:null!==r||e.output?this.maximumLength:1)<this.maximumLength?"char("+t+")":"char("+this.maximumLength+")"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null!=t?t.length||1:this.maximumLength},generateTypeInfo(e){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),t.writeUInt16LE(e.length,1),e.collation&&e.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(e,t){let r=e.value;if(null==r)return i;let n=Buffer.alloc(2);return n.writeUInt16LE(r.length,0),n},*generateParameterData(e,t){null!=e.value&&(yield Buffer.from(e.value,"ascii"))},validate:function(e,t){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");if(!t)throw Error("No collation was set by the server for the current connection.");if(!t.codepage)throw Error("The collation set by the server has no associated encoding.");return n.default.encode(e,t.codepage)}};t.default=o,e.exports=o},71643:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(49015);let i=global.Date,o=n.LocalDate.ofYearDay(1,1),s=Buffer.from([0]),a=Buffer.from([3]),l={id:40,type:"DATEN",name:"Date",declaration:function(){return"date"},generateTypeInfo:function(){return Buffer.from([this.id])},generateParameterLength:(e,t)=>null==e.value?s:a,*generateParameterData(e,t){let r;if(null==e.value)return;let i=e.value;r=t.useUTC?n.LocalDate.of(i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate()):n.LocalDate.of(i.getFullYear(),i.getMonth()+1,i.getDate());let s=o.until(r,n.ChronoUnit.DAYS),a=Buffer.alloc(3);a.writeUIntLE(s,0,3),yield a},validate:function(e,t,r){let n;if(null==e)return null;if(e instanceof i||(e=new i(i.parse(e))),(n=r&&r.useUTC?e.getUTCFullYear():e.getFullYear())<1||n>9999)throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=l,e.exports=l},47078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(83842)),i=r(49015);let o=i.LocalDate.ofYearDay(1900,1),s=Buffer.from([0]),a=Buffer.from([8]),l={id:61,type:"DATETIME",name:"DateTime",declaration:function(){return"datetime"},generateTypeInfo:()=>Buffer.from([n.default.id,8]),generateParameterLength:(e,t)=>null==e.value?s:a,generateParameterData:function*(e,t){let r,n,s;if(null==e.value)return;let a=e.value;r=t.useUTC?i.LocalDate.of(a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate()):i.LocalDate.of(a.getFullYear(),a.getMonth()+1,a.getDate());let l=o.until(r,i.ChronoUnit.DAYS);if(t.useUTC){let e=3600*a.getUTCHours();e+=60*a.getUTCMinutes(),e+=a.getUTCSeconds(),n=1e3*e+a.getUTCMilliseconds()}else{let e=3600*a.getHours();e+=60*a.getMinutes(),e+=a.getSeconds(),n=1e3*e+a.getMilliseconds()}2592e4===(s=Math.round(s=n/(3+1/3)))&&(l+=1,s=0);let c=Buffer.alloc(8);c.writeInt32LE(l,0),c.writeUInt32LE(s,4),yield c},validate:function(e,t,r){let n;if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),(n=r&&r.useUTC?e.getUTCFullYear():e.getFullYear())<1753||n>9999)throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=l,e.exports=l},30934:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(49015),i=function(e){return e&&e.__esModule?e:{default:e}}(r(49184));let o=n.LocalDate.ofYearDay(1,1),s=Buffer.from([0]),a={id:42,type:"DATETIME2N",name:"DateTime2",declaration:function(e){return"datetime2("+this.resolveScale(e)+")"},resolveScale:function(e){return null!=e.scale?e.scale:null===e.value?0:7},generateTypeInfo(e,t){return Buffer.from([this.id,e.scale])},generateParameterLength(e,t){if(null==e.value)return s;switch(e.scale){case 0:case 1:case 2:return Buffer.from([6]);case 3:case 4:return Buffer.from([7]);case 5:case 6:case 7:return Buffer.from([8]);default:throw Error("invalid scale")}},*generateParameterData(e,t){let r,s;if(null==e.value)return;let a=e.value,l=e.scale,c=new i.default(16);switch(r=Math.round(r=(t.useUTC?((60*a.getUTCHours()+a.getUTCMinutes())*60+a.getUTCSeconds())*1e3+a.getUTCMilliseconds():((60*a.getHours()+a.getMinutes())*60+a.getSeconds())*1e3+a.getMilliseconds())*Math.pow(10,l-3)+(null!=a.nanosecondDelta?a.nanosecondDelta:0)*Math.pow(10,l)),l){case 0:case 1:case 2:c.writeUInt24LE(r);break;case 3:case 4:c.writeUInt32LE(r);break;case 5:case 6:case 7:c.writeUInt40LE(r)}s=t.useUTC?n.LocalDate.of(a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate()):n.LocalDate.of(a.getFullYear(),a.getMonth()+1,a.getDate());let u=o.until(s,n.ChronoUnit.DAYS);c.writeUInt24LE(u),yield c.data},validate:function(e,t,r){let n;if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),(n=r&&r.useUTC?e.getUTCFullYear():e.getFullYear())<1||n>9999)throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=a,e.exports=a},83842:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:111,type:"DATETIMN",name:"DateTimeN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},1521:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(49015),i=function(e){return e&&e.__esModule?e:{default:e}}(r(49184));let o=n.LocalDate.ofYearDay(1,1),s=Buffer.from([0]),a={id:43,type:"DATETIMEOFFSETN",name:"DateTimeOffset",declaration:function(e){return"datetimeoffset("+this.resolveScale(e)+")"},resolveScale:function(e){return null!=e.scale?e.scale:null===e.value?0:7},generateTypeInfo(e){return Buffer.from([this.id,e.scale])},generateParameterLength(e,t){if(null==e.value)return s;switch(e.scale){case 0:case 1:case 2:return Buffer.from([8]);case 3:case 4:return Buffer.from([9]);case 5:case 6:case 7:return Buffer.from([10]);default:throw Error("invalid scale")}},*generateParameterData(e,t){let r;if(null==e.value)return;let s=e.value,a=e.scale,l=new i.default(16);switch(r=Math.round(r=(((60*s.getUTCHours()+s.getUTCMinutes())*60+s.getUTCSeconds())*1e3+s.getMilliseconds())*Math.pow(10,a-3)+(null!=s.nanosecondDelta?s.nanosecondDelta:0)*Math.pow(10,a)),a){case 0:case 1:case 2:l.writeUInt24LE(r);break;case 3:case 4:l.writeUInt32LE(r);break;case 5:case 6:case 7:l.writeUInt40LE(r)}let c=n.LocalDate.of(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),u=o.until(c,n.ChronoUnit.DAYS);l.writeUInt24LE(u);let d=-s.getTimezoneOffset();l.writeInt16LE(d),yield l.data},validate:function(e,t,r){let n;if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),(n=r&&r.useUTC?e.getUTCFullYear():e.getFullYear())<1||n>9999)throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=a,e.exports=a},69504:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(86084)),i=o(r(49184));function o(e){return e&&e.__esModule?e:{default:e}}let s=Buffer.from([0]),a={id:55,type:"DECIMAL",name:"Decimal",declaration:function(e){return"decimal("+this.resolvePrecision(e)+", "+this.resolveScale(e)+")"},resolvePrecision:function(e){return null!=e.precision?e.precision:null===e.value?1:18},resolveScale:function(e){return null!=e.scale?e.scale:0},generateTypeInfo(e,t){let r;return r=e.precision<=9?5:e.precision<=19?9:e.precision<=28?13:17,Buffer.from([n.default.id,r,e.precision,e.scale])},generateParameterLength(e,t){if(null==e.value)return s;let r=e.precision;return r<=9?Buffer.from([5]):r<=19?Buffer.from([9]):r<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(e,t){if(null==e.value)return;let r=e.value<0?0:1,n=Math.round(Math.abs(e.value*Math.pow(10,e.scale))),o=e.precision;if(o<=9){let e=Buffer.alloc(5);e.writeUInt8(r,0),e.writeUInt32LE(n,1),yield e}else if(o<=19){let e=new i.default(9);e.writeUInt8(r),e.writeUInt64LE(n),yield e.data}else if(o<=28){let e=new i.default(13);e.writeUInt8(r),e.writeUInt64LE(n),e.writeUInt32LE(0),yield e.data}else{let e=new i.default(17);e.writeUInt8(r),e.writeUInt64LE(n),e.writeUInt32LE(0),e.writeUInt32LE(0),yield e.data}},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");return e}};t.default=a,e.exports=a},86084:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:106,type:"DECIMALN",name:"DecimalN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},81425:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(77683));let i=Buffer.from([0]),o={id:62,type:"FLT8",name:"Float",declaration:function(){return"float"},generateTypeInfo:()=>Buffer.from([n.default.id,8]),generateParameterLength:(e,t)=>null==e.value?i:Buffer.from([8]),*generateParameterData(e,t){if(null==e.value)return;let r=Buffer.alloc(8);r.writeDoubleLE(parseFloat(e.value),0),yield r},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");return e}};t.default=o,e.exports=o},77683:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:109,type:"FLTN",name:"FloatN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},32798:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([255,255,255,255]),n={id:34,type:"IMAGE",name:"Image",hasTableName:!0,declaration:function(){return"image"},resolveLength:function(e){return null!=e.value?e.value.length:-1},generateTypeInfo(e){let t=Buffer.alloc(5);return t.writeUInt8(this.id,0),t.writeInt32LE(e.length,1),t},generateParameterLength(e,t){if(null==e.value)return r;let n=Buffer.alloc(4);return n.writeInt32LE(e.value.length,0),n},*generateParameterData(e,t){null!=e.value&&(yield e.value)},validate:function(e){if(null==e)return null;if(!Buffer.isBuffer(e))throw TypeError("Invalid buffer.");return e}};t.default=n,e.exports=n},74738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(79310));let i=Buffer.from([0]),o=Buffer.from([4]),s={id:56,type:"INT4",name:"Int",declaration:function(){return"int"},generateTypeInfo:()=>Buffer.from([n.default.id,4]),generateParameterLength:(e,t)=>null==e.value?i:o,*generateParameterData(e,t){if(null==e.value)return;let r=Buffer.alloc(4);r.writeInt32LE(Number(e.value),0),yield r},validate:function(e){if(null==e)return null;if("number"!=typeof e&&(e=Number(e)),isNaN(e))throw TypeError("Invalid number.");if(e<-0x80000000||e>0x7fffffff)throw TypeError("Value must be between -2147483648 and 2147483647, inclusive.");return 0|e}};t.default=s,e.exports=s},79310:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:38,type:"INTN",name:"IntN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},57995:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(14245));let i=Buffer.from([0]),o=Buffer.from([8]),s={id:60,type:"MONEY",name:"Money",declaration:function(){return"money"},generateTypeInfo:function(){return Buffer.from([n.default.id,8])},generateParameterLength:(e,t)=>null==e.value?i:o,*generateParameterData(e,t){if(null==e.value)return;let r=1e4*e.value,n=Buffer.alloc(8);n.writeInt32LE(Math.floor(23283064365386963e-26*r),0),n.writeInt32LE(-1&r,4),yield n},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");if(e<-922337203685477.6||e>922337203685477.6)throw TypeError("Value must be between -922337203685477.5808 and 922337203685477.5807, inclusive.");return e}};t.default=s,e.exports=s},14245:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:110,type:"MONEYN",name:"MoneyN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},88373:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([255,255]),n={id:239,type:"NCHAR",name:"NChar",maximumLength:4e3,declaration:function(e){let t;let r=e.value;return(t=e.length?e.length:null!=e.value?r.toString().length||1:null!==e.value||e.output?this.maximumLength:1)<this.maximumLength?"nchar("+t+")":"nchar("+this.maximumLength+")"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null==e.value?this.maximumLength:Buffer.isBuffer(e.value)?e.value.length/2||1:t.toString().length||1},generateTypeInfo:function(e){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),t.writeUInt16LE(2*e.length,1),e.collation&&e.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(e,t){if(null==e.value)return r;let{value:n}=e;if(n instanceof Buffer){let e=n.length,t=Buffer.alloc(2);return t.writeUInt16LE(e,0),t}{let e=Buffer.byteLength(n.toString(),"ucs2"),t=Buffer.alloc(2);return t.writeUInt16LE(e,0),t}},*generateParameterData(e,t){if(null==e.value)return;let r=e.value;r instanceof Buffer?yield r:yield Buffer.from(r,"ucs2")},validate:function(e){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");return e}};t.default=n,e.exports=n},59202:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([255,255,255,255]),n={id:99,type:"NTEXT",name:"NText",hasTableName:!0,declaration:function(){return"ntext"},resolveLength:function(e){let t=e.value;return null!=t?t.length:-1},generateTypeInfo(e,t){let r=Buffer.alloc(10);return r.writeUInt8(this.id,0),r.writeInt32LE(e.length,1),e.collation&&e.collation.toBuffer().copy(r,5,0,5),r},generateParameterLength(e,t){if(null==e.value)return r;let n=Buffer.alloc(4);return n.writeInt32LE(Buffer.byteLength(e.value,"ucs2"),0),n},generateParameterData:function*(e,t){null!=e.value&&(yield Buffer.from(e.value.toString(),"ucs2"))},validate:function(e){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");return e}};t.default=n,e.exports=n},64430:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:31,type:"NULL",name:"Null",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},34420:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(70808)),i=o(r(49184));function o(e){return e&&e.__esModule?e:{default:e}}let s=Buffer.from([0]),a={id:63,type:"NUMERIC",name:"Numeric",declaration:function(e){return"numeric("+this.resolvePrecision(e)+", "+this.resolveScale(e)+")"},resolvePrecision:function(e){return null!=e.precision?e.precision:null===e.value?1:18},resolveScale:function(e){return null!=e.scale?e.scale:0},generateTypeInfo(e){let t;return t=e.precision<=9?5:e.precision<=19?9:e.precision<=28?13:17,Buffer.from([n.default.id,t,e.precision,e.scale])},generateParameterLength(e,t){if(null==e.value)return s;let r=e.precision;return r<=9?Buffer.from([5]):r<=19?Buffer.from([9]):r<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(e,t){if(null==e.value)return;let r=e.value<0?0:1,n=Math.round(Math.abs(e.value*Math.pow(10,e.scale)));if(e.precision<=9){let e=Buffer.alloc(5);e.writeUInt8(r,0),e.writeUInt32LE(n,1),yield e}else if(e.precision<=19){let e=new i.default(10);e.writeUInt8(r),e.writeUInt64LE(n),yield e.data}else if(e.precision<=28){let e=new i.default(14);e.writeUInt8(r),e.writeUInt64LE(n),e.writeUInt32LE(0),yield e.data}else{let e=new i.default(18);e.writeUInt8(r),e.writeUInt64LE(n),e.writeUInt32LE(0),e.writeUInt32LE(0),yield e.data}},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");return e}};t.default=a,e.exports=a},70808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:108,type:"NUMERICN",name:"NumericN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},38280:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([254,255,255,255,255,255,255,255]),n=Buffer.from([0,0,0,0]),i=Buffer.from([255,255]),o=Buffer.from([255,255,255,255,255,255,255,255]),s={id:231,type:"NVARCHAR",name:"NVarChar",maximumLength:4e3,declaration:function(e){let t;let r=e.value;return(t=e.length?e.length:null!=r?r.toString().length||1:null!==r||e.output?this.maximumLength:1)<=this.maximumLength?"nvarchar("+t+")":"nvarchar(max)"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null==t?this.maximumLength:Buffer.isBuffer(t)?t.length/2||1:t.toString().length||1},generateTypeInfo(e){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),e.length<=this.maximumLength?t.writeUInt16LE(2*e.length,1):t.writeUInt16LE(65535,1),e.collation&&e.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(e,t){if(null==e.value)return e.length<=this.maximumLength?i:o;let n=e.value;if(!(e.length<=this.maximumLength))return r;{let e;n instanceof Buffer?e=n.length:(n=n.toString(),e=Buffer.byteLength(n,"ucs2"));let t=Buffer.alloc(2);return t.writeUInt16LE(e,0),t}},*generateParameterData(e,t){if(null==e.value)return;let r=e.value;if(e.length<=this.maximumLength)r instanceof Buffer?yield r:(r=r.toString(),yield Buffer.from(r,"ucs2"));else{if(r instanceof Buffer){let e=r.length;if(e>0){let t=Buffer.alloc(4);t.writeUInt32LE(e,0),yield t,yield r}}else{r=r.toString();let e=Buffer.byteLength(r,"ucs2");if(e>0){let t=Buffer.alloc(4);t.writeUInt32LE(e,0),yield t,yield Buffer.from(r,"ucs2")}}yield n}},validate:function(e){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");return e}};t.default=s,e.exports=s},62547:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(77683));let i=Buffer.from([0]),o=Buffer.from([4]),s={id:59,type:"FLT4",name:"Real",declaration:function(){return"real"},generateTypeInfo:()=>Buffer.from([n.default.id,4]),generateParameterLength:(e,t)=>null==e.value?i:o,*generateParameterData(e,t){if(null==e.value)return;let r=Buffer.alloc(4);r.writeFloatLE(parseFloat(e.value),0),yield r},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");return e}};t.default=s,e.exports=s},65313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(83842));let i=new Date(1900,0,1),o=new Date(Date.UTC(1900,0,1)),s=Buffer.from([4]),a=Buffer.from([0]),l={id:58,type:"DATETIM4",name:"SmallDateTime",declaration:function(){return"smalldatetime"},generateTypeInfo:()=>Buffer.from([n.default.id,4]),generateParameterLength:(e,t)=>null==e.value?a:s,generateParameterData:function*(e,t){let r,n,s;if(null==e.value)return;let a=Buffer.alloc(4);t.useUTC?(r=Math.floor((e.value.getTime()-o.getTime())/864e5),s=60*e.value.getUTCHours()+e.value.getUTCMinutes()):(n=-(6e4*(e.value.getTimezoneOffset()-i.getTimezoneOffset())),r=Math.floor((e.value.getTime()-i.getTime()+n)/864e5),s=60*e.value.getHours()+e.value.getMinutes()),a.writeUInt16LE(r,0),a.writeUInt16LE(s,2),yield a},validate:function(e,t,r){let n,i,o;if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),r&&r.useUTC?(n=e.getUTCFullYear(),i=e.getUTCMonth(),o=e.getUTCDate()):(n=e.getFullYear(),i=e.getMonth(),o=e.getDate()),n<1900||n>2079||2079===n&&(i>5||5===i&&o>6))throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=l,e.exports=l},57231:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(79310));let i=Buffer.from([2]),o=Buffer.from([0]),s={id:52,type:"INT2",name:"SmallInt",declaration:function(){return"smallint"},generateTypeInfo:()=>Buffer.from([n.default.id,2]),generateParameterLength:(e,t)=>null==e.value?o:i,*generateParameterData(e,t){if(null==e.value)return;let r=Buffer.alloc(2);r.writeInt16LE(Number(e.value),0),yield r},validate:function(e){if(null==e)return null;if("number"!=typeof e&&(e=Number(e)),isNaN(e))throw TypeError("Invalid number.");if(e<-32768||e>32767)throw TypeError("Value must be between -32768 and 32767, inclusive.");return 0|e}};t.default=s,e.exports=s},42990:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(14245));let i=Buffer.from([4]),o=Buffer.from([0]),s={id:122,type:"MONEY4",name:"SmallMoney",declaration:function(){return"smallmoney"},generateTypeInfo:function(){return Buffer.from([n.default.id,4])},generateParameterLength:(e,t)=>null==e.value?o:i,*generateParameterData(e,t){if(null==e.value)return;let r=Buffer.alloc(4);r.writeInt32LE(1e4*e.value,0),yield r},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");if(e<-214748.3648||e>214748.3647)throw TypeError("Value must be between -214748.3648 and 214748.3647.");return e}};t.default=s,e.exports=s},13451:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:98,type:"SSVARIANTTYPE",name:"Variant",declaration:function(){return"sql_variant"},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},35312:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(53521));let i=Buffer.from([255,255,255,255]),o={id:35,type:"TEXT",name:"Text",hasTableName:!0,declaration:function(){return"text"},resolveLength:function(e){let t=e.value;return null!=t?t.length:-1},generateTypeInfo(e,t){let r=Buffer.alloc(10);return r.writeUInt8(this.id,0),r.writeInt32LE(e.length,1),e.collation&&e.collation.toBuffer().copy(r,5,0,5),r},generateParameterLength(e,t){let r=e.value;if(null==r)return i;let n=Buffer.alloc(4);return n.writeInt32LE(r.length,0),n},generateParameterData:function*(e,t){let r=e.value;null!=r&&(yield r)},validate:function(e,t){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");if(!t)throw Error("No collation was set by the server for the current connection.");if(!t.codepage)throw Error("The collation set by the server has no associated encoding.");return n.default.encode(e,t.codepage)}};t.default=o,e.exports=o},57802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(49184));let i=Buffer.from([0]),o={id:41,type:"TIMEN",name:"Time",declaration:function(e){return"time("+this.resolveScale(e)+")"},resolveScale:function(e){return null!=e.scale?e.scale:null===e.value?0:7},generateTypeInfo(e){return Buffer.from([this.id,e.scale])},generateParameterLength(e,t){if(null==e.value)return i;switch(e.scale){case 0:case 1:case 2:return Buffer.from([3]);case 3:case 4:return Buffer.from([4]);case 5:case 6:case 7:return Buffer.from([5]);default:throw Error("invalid scale")}},*generateParameterData(e,t){let r;if(null==e.value)return;let i=new n.default(16),o=e.value;switch(r=Math.round(r=(t.useUTC?((60*o.getUTCHours()+o.getUTCMinutes())*60+o.getUTCSeconds())*1e3+o.getUTCMilliseconds():((60*o.getHours()+o.getMinutes())*60+o.getSeconds())*1e3+o.getMilliseconds())*Math.pow(10,e.scale-3)+(null!=e.value.nanosecondDelta?e.value.nanosecondDelta:0)*Math.pow(10,e.scale)),e.scale){case 0:case 1:case 2:i.writeUInt24LE(r);break;case 3:case 4:i.writeUInt32LE(r);break;case 5:case 6:case 7:i.writeUInt40LE(r)}yield i.data},validate:function(e){if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),isNaN(e))throw TypeError("Invalid time.");return e}};t.default=o,e.exports=o},84632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(79310));let i=Buffer.from([1]),o=Buffer.from([0]),s={id:48,type:"INT1",name:"TinyInt",declaration:function(){return"tinyint"},generateTypeInfo:()=>Buffer.from([n.default.id,1]),generateParameterLength:(e,t)=>null==e.value?o:i,*generateParameterData(e,t){if(null==e.value)return;let r=Buffer.alloc(1);r.writeUInt8(Number(e.value),0),yield r},validate:function(e){if(null==e)return null;if("number"!=typeof e&&(e=Number(e)),isNaN(e))throw TypeError("Invalid number.");if(e<0||e>255)throw TypeError("Value must be between 0 and 255, inclusive.");return 0|e}};t.default=s,e.exports=s},49153:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(92115),i=function(e){return e&&e.__esModule?e:{default:e}}(r(49184));let o=Buffer.from([1]),s=Buffer.from([0]),a=Buffer.from([255,255]),l={id:243,type:"TVPTYPE",name:"TVP",declaration:function(e){return e.value.name+" readonly"},generateTypeInfo(e){let t=e.value?.schema??"",r=e.value?.name??"",n=2+Buffer.byteLength("","ucs2")+1+Buffer.byteLength(t,"ucs2")+1+Buffer.byteLength(r,"ucs2"),o=new i.default(n,"ucs2");return o.writeUInt8(this.id),o.writeBVarchar(""),o.writeBVarchar(t),o.writeBVarchar(r),o.data},generateParameterLength(e,t){if(null==e.value)return a;let{columns:r}=e.value,n=Buffer.alloc(2);return n.writeUInt16LE(r.length,0),n},*generateParameterData(e,t){if(null==e.value){yield s,yield s;return}let{columns:r,rows:i}=e.value;for(let e=0,t=r.length;e<t;e++){let t=r[e],n=Buffer.alloc(6);n.writeUInt32LE(0,0),n.writeUInt16LE(0,4),yield n,yield t.type.generateTypeInfo(t),yield Buffer.from([0])}yield s;for(let s=0,a=i.length;s<a;s++){yield o;let a=i[s];for(let i=0,o=a.length;i<o;i++){let o;let l=r[i],c=a[i];try{o=l.type.validate(c,e.collation)}catch(e){throw new n.InputError(`TVP column '${l.name}' has invalid data at row index ${s}`,{cause:e})}let u={value:o,length:l.length,scale:l.scale,precision:l.precision};yield l.type.generateParameterLength(u,t),yield*l.type.generateParameterData(u,t)}}yield s},validate:function(e){if(null==e)return null;if("object"!=typeof e||!Array.isArray(e.columns)||!Array.isArray(e.rows))throw TypeError("Invalid table.");return e}};t.default=l,e.exports=l},51880:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:240,type:"UDTTYPE",name:"UDT",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},67059:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(64041);let i=Buffer.from([0]),o=Buffer.from([16]),s={id:36,type:"GUIDN",name:"UniqueIdentifier",declaration:function(){return"uniqueidentifier"},resolveLength:function(){return 16},generateTypeInfo(){return Buffer.from([this.id,16])},generateParameterLength:(e,t)=>null==e.value?i:o,generateParameterData:function*(e,t){null!=e.value&&(yield Buffer.from((0,n.guidToArray)(e.value)))},validate:function(e){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))throw TypeError("Invalid GUID.");return e}};t.default=s,e.exports=s},18439:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([254,255,255,255,255,255,255,255]),n=Buffer.from([0,0,0,0]),i=Buffer.from([255,255]),o=Buffer.from([255,255,255,255,255,255,255,255]),s={id:165,type:"BIGVARBIN",name:"VarBinary",maximumLength:8e3,declaration:function(e){let t;let r=e.value;return(t=e.length?e.length:null!=r?r.length||1:null!==r||e.output?this.maximumLength:1)<=this.maximumLength?"varbinary("+t+")":"varbinary(max)"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null!=t?t.length:this.maximumLength},generateTypeInfo:function(e){let t=Buffer.alloc(3);return t.writeUInt8(this.id,0),e.length<=this.maximumLength?t.writeUInt16LE(e.length,1):t.writeUInt16LE(65535,1),t},generateParameterLength(e,t){if(null==e.value)return e.length<=this.maximumLength?i:o;let n=e.value;Buffer.isBuffer(n)||(n=n.toString());let s=Buffer.byteLength(n,"ucs2");if(!(e.length<=this.maximumLength))return r;{let e=Buffer.alloc(2);return e.writeUInt16LE(s,0),e}},*generateParameterData(e,t){if(null==e.value)return;let r=e.value;if(e.length<=this.maximumLength)Buffer.isBuffer(r)?yield r:yield Buffer.from(r.toString(),"ucs2");else{Buffer.isBuffer(r)||(r=r.toString());let e=Buffer.byteLength(r,"ucs2");if(e>0){let t=Buffer.alloc(4);t.writeUInt32LE(e,0),yield t,Buffer.isBuffer(r)?yield r:yield Buffer.from(r,"ucs2")}yield n}},validate:function(e){if(null==e)return null;if(!Buffer.isBuffer(e))throw TypeError("Invalid buffer.");return e}};t.default=s,e.exports=s},86074:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(53521));let i=Buffer.from([254,255,255,255,255,255,255,255]),o=Buffer.from([0,0,0,0]),s=Buffer.from([255,255]),a=Buffer.from([255,255,255,255,255,255,255,255]),l={id:167,type:"BIGVARCHR",name:"VarChar",maximumLength:8e3,declaration:function(e){let t;let r=e.value;return(t=e.length?e.length:null!=r?r.length||1:null!==r||e.output?this.maximumLength:1)<=this.maximumLength?"varchar("+t+")":"varchar(max)"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null!=t?t.length||1:this.maximumLength},generateTypeInfo(e){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),e.length<=this.maximumLength?t.writeUInt16LE(e.length,1):t.writeUInt16LE(65535,1),e.collation&&e.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(e,t){let r=e.value;if(null==r)return e.length<=this.maximumLength?s:a;if(!(e.length<=this.maximumLength))return i;{let e=Buffer.alloc(2);return e.writeUInt16LE(r.length,0),e}},*generateParameterData(e,t){let r=e.value;if(null!=r){if(e.length<=this.maximumLength)yield r;else{if(r.length>0){let e=Buffer.alloc(4);e.writeUInt32LE(r.length,0),yield e,yield r}yield o}}},validate:function(e,t){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");if(!t)throw Error("No collation was set by the server for the current connection.");if(!t.codepage)throw Error("The collation set by the server has no associated encoding.");return n.default.encode(e,t.codepage)}};t.default=l,e.exports=l},98618:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:241,type:"XML",name:"Xml",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},88061:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(94735),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(28354));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}class s extends n.EventEmitter{constructor({data:e=!1,payload:t=!1,packet:r=!1,token:n=!1}={}){super(),this.options={data:e,payload:t,packet:r,token:n},this.indent="  "}packet(e,t){this.haveListeners()&&this.options.packet&&(this.log(""),this.log(e),this.log(t.headerToString(this.indent)))}data(e){this.haveListeners()&&this.options.data&&this.log(e.dataToString(this.indent))}payload(e){this.haveListeners()&&this.options.payload&&this.log(e())}token(e){this.haveListeners()&&this.options.token&&this.log(i.inspect(e,{showHidden:!1,depth:5,colors:!0}))}haveListeners(){return this.listeners("debug").length>0}log(e){this.emit("debug",e)}}t.default=s,e.exports=s},92115:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestError=t.InputError=t.ConnectionError=void 0;class r extends Error{constructor(e,t,r){super(e,r),this.code=t}}t.ConnectionError=r;class n extends Error{constructor(e,t,r){super(e,r),this.code=t}}t.RequestError=n;class i extends TypeError{}t.InputError=i},42053:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class r extends Error{constructor(){super("The operation was aborted"),this.code="ABORT_ERR",this.name="AbortError"}}t.default=r},84668:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class r extends Error{constructor(){super("The operation was aborted due to timeout"),this.code="TIMEOUT_ERR",this.name="TimeoutError"}}t.default=r},64041:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToLowerCaseGuid=function(e){return n[e[3]]+n[e[2]]+n[e[1]]+n[e[0]]+"-"+n[e[5]]+n[e[4]]+"-"+n[e[7]]+n[e[6]]+"-"+n[e[8]]+n[e[9]]+"-"+n[e[10]]+n[e[11]]+n[e[12]]+n[e[13]]+n[e[14]]+n[e[15]]},t.bufferToUpperCaseGuid=function(e){return r[e[3]]+r[e[2]]+r[e[1]]+r[e[0]]+"-"+r[e[5]]+r[e[4]]+"-"+r[e[7]]+r[e[6]]+"-"+r[e[8]]+r[e[9]]+"-"+r[e[10]]+r[e[11]]+r[e[12]]+r[e[13]]+r[e[14]]+r[e[15]]},t.guidToArray=function(e){return[i[e.charCodeAt(6)][e.charCodeAt(7)],i[e.charCodeAt(4)][e.charCodeAt(5)],i[e.charCodeAt(2)][e.charCodeAt(3)],i[e.charCodeAt(0)][e.charCodeAt(1)],i[e.charCodeAt(11)][e.charCodeAt(12)],i[e.charCodeAt(9)][e.charCodeAt(10)],i[e.charCodeAt(16)][e.charCodeAt(17)],i[e.charCodeAt(14)][e.charCodeAt(15)],i[e.charCodeAt(19)][e.charCodeAt(20)],i[e.charCodeAt(21)][e.charCodeAt(22)],i[e.charCodeAt(24)][e.charCodeAt(25)],i[e.charCodeAt(26)][e.charCodeAt(27)],i[e.charCodeAt(28)][e.charCodeAt(29)],i[e.charCodeAt(30)][e.charCodeAt(31)],i[e.charCodeAt(32)][e.charCodeAt(33)],i[e.charCodeAt(34)][e.charCodeAt(35)]]};let r=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],n=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],i={},o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"].map(e=>e.charCodeAt(0));for(let e=0;e<o.length;e++){let t=i[o[e]]={};for(let r=0;r<o.length;r++){let n=parseInt(String.fromCharCode(o[e],o[r]),16);t[o[r]]=n}}},21119:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(83573)),i=r(27910),o=l(r(33965)),s=r(93740),a=r(92115);function l(e){return e&&e.__esModule?e:{default:e}}class c extends i.Transform{constructor(e){super({readableObjectMode:!0}),this.debug=e,this.currentMessage=void 0,this.bl=new n.default}pause(){return super.pause(),this.currentMessage&&this.currentMessage.pause(),this}resume(){return super.resume(),this.currentMessage&&this.currentMessage.resume(),this}processBufferedData(e){for(;this.bl.length>=s.HEADER_LENGTH;){let t=this.bl.readUInt16BE(2);if(t<s.HEADER_LENGTH)return e(new a.ConnectionError("Unable to process incoming packet"));if(this.bl.length>=t){let r=this.bl.slice(0,t);this.bl.consume(t);let n=new s.Packet(r);this.debug.packet("Received",n),this.debug.data(n);let i=this.currentMessage;if(void 0===i&&(this.currentMessage=i=new o.default({type:n.type(),resetConnection:!1}),this.push(i)),n.isLast()){i.once("end",()=>{this.currentMessage=void 0,this.processBufferedData(e)}),i.end(n.data());return}if(!i.write(n.data())){i.once("drain",()=>{this.processBufferedData(e)});return}}else break}e()}_transform(e,t,r){this.bl.append(e),this.processBufferedData(r)}}t.default=c,e.exports=c},78230:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.instanceLookup=l,t.parseBrowserResponse=c;var n=a(r(14985)),i=a(r(42053)),o=r(2097),s=r(64072);function a(e){return e&&e.__esModule?e:{default:e}}async function l(e){let t;let r=e.server;if("string"!=typeof r)throw TypeError('Invalid arguments: "server" must be a string');let a=e.instanceName;if("string"!=typeof a)throw TypeError('Invalid arguments: "instanceName" must be a string');let l=void 0===e.timeout?2e3:e.timeout;if("number"!=typeof l)throw TypeError('Invalid arguments: "timeout" must be a number');let u=void 0===e.retries?3:e.retries;if("number"!=typeof u)throw TypeError('Invalid arguments: "retries" must be a number');if(void 0!==e.lookup&&"function"!=typeof e.lookup)throw TypeError('Invalid arguments: "lookup" must be a function');let d=e.lookup??n.default.lookup;if(void 0!==e.port&&"number"!=typeof e.port)throw TypeError('Invalid arguments: "port" must be a number');let h=e.port??1434,f=e.signal;if(f.aborted)throw new i.default;for(let r=0;r<=u;r++)try{t=await (0,s.withTimeout)(l,async t=>{let r=Buffer.from([2]);return await (0,o.sendMessage)(e.server,h,d,t,r)},f)}catch(e){if(!f.aborted&&e instanceof Error&&"TimeoutError"===e.name)continue;throw e}if(!t)throw Error("Failed to get response from SQL Server Browser on "+r);let p=c(t.toString("ascii",3),a);if(!p)throw Error("Port for "+a+" not found in "+e.server);return p}function c(e,t){let r;let n=e.split(";;");for(let e=0,i=n.length;e<i;e++){let i=n[e].split(";");for(let e=0,n=i.length;e<n;e+=2){let n=i[e],o=i[e+1];if("tcp"===n&&r)return parseInt(o,10);"InstanceName"===n&&(r=o.toUpperCase()===t.toUpperCase())}}}},30385:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.name=void 0,t.name="Tedious"},92041:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(45284),i=r(32833);let o={ENDIAN_LITTLE:0,CHARSET_ASCII:0,FLOAT_IEEE_754:0,BCP_DUMPLOAD_OFF:16,USE_DB_OFF:32,INIT_DB_WARN:0,INIT_DB_FATAL:64,SET_LANG_WARN_ON:128},s={INIT_LANG_WARN:0,ODBC_OFF:0,USER_NORMAL:0,INTEGRATED_SECURITY_OFF:0,INTEGRATED_SECURITY_ON:128},a={SQL_DFLT:0,OLEDB_OFF:0,READ_WRITE_INTENT:0,READ_ONLY_INTENT:32},l={CHANGE_PASSWORD_NO:0,UNKNOWN_COLLATION_HANDLING:8,EXTENSION_USED:16},c={FEATURE_ID:2,LIBRARY_SECURITYTOKEN:1,LIBRARY_ADAL:2,FEDAUTH_YES_ECHO:1,FEDAUTH_NO_ECHO:0,ADAL_WORKFLOW_USER_PASS:1};class u{constructor({tdsVersion:e,packetSize:t,clientProgVer:r,clientPid:n,connectionId:i,clientTimeZone:o,clientLcid:s}){this.tdsVersion=e,this.packetSize=t,this.clientProgVer=r,this.clientPid=n,this.connectionId=i,this.clientTimeZone=o,this.clientLcid=s,this.readOnlyIntent=!1,this.initDbFatal=!1,this.fedAuth=void 0,this.userName=void 0,this.password=void 0,this.serverName=void 0,this.appName=void 0,this.hostname=void 0,this.libraryName=void 0,this.language=void 0,this.database=void 0,this.clientId=void 0,this.sspi=void 0,this.attachDbFile=void 0,this.changePassword=void 0}toBuffer(){let e=Buffer.alloc(94),t=[e],r=0,n=e.length;if(r=e.writeUInt32LE(0,r),r=e.writeUInt32LE(this.tdsVersion,r),r=e.writeUInt32LE(this.packetSize,r),r=e.writeUInt32LE(this.clientProgVer,r),r=e.writeUInt32LE(this.clientPid,r),r=e.writeUInt32LE(this.connectionId,r),r=e.writeUInt8(this.buildOptionFlags1(),r),r=e.writeUInt8(this.buildOptionFlags2(),r),r=e.writeUInt8(this.buildTypeFlags(),r),r=e.writeUInt8(this.buildOptionFlags3(),r),r=e.writeInt32LE(this.clientTimeZone,r),r=e.writeUInt32LE(this.clientLcid,r),r=e.writeUInt16LE(n,r),this.hostname){let i=Buffer.from(this.hostname,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(n,r);if(r=e.writeUInt16LE(n,r),this.userName){let i=Buffer.from(this.userName,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);if(r=e.writeUInt16LE(n,r),this.password){let i=Buffer.from(this.password,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(this.scramblePassword(i))}else r=e.writeUInt16LE(0,r);if(r=e.writeUInt16LE(n,r),this.appName){let i=Buffer.from(this.appName,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);if(r=e.writeUInt16LE(n,r),this.serverName){let i=Buffer.from(this.serverName,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);r=e.writeUInt16LE(n,r);let i=this.buildFeatureExt();r=e.writeUInt16LE(4,r);let o=Buffer.alloc(4);if(o.writeUInt32LE(n+=4,0),n+=i.length,t.push(o,i),r=e.writeUInt16LE(n,r),this.libraryName){let i=Buffer.from(this.libraryName,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);if(r=e.writeUInt16LE(n,r),this.language){let i=Buffer.from(this.language,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);if(r=e.writeUInt16LE(n,r),this.database){let i=Buffer.from(this.database,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);if(this.clientId&&this.clientId.copy(e,r,0,6),r+=6,r=e.writeUInt16LE(n,r),this.sspi?(r=this.sspi.length>65535?e.writeUInt16LE(65535,r):e.writeUInt16LE(this.sspi.length,r),t.push(this.sspi)):r=e.writeUInt16LE(0,r),r=e.writeUInt16LE(n,r),this.attachDbFile){let i=Buffer.from(this.attachDbFile,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);if(r=e.writeUInt16LE(n,r),this.changePassword){let i=Buffer.from(this.changePassword,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);this.sspi&&this.sspi.length>65535?e.writeUInt32LE(this.sspi.length,r):e.writeUInt32LE(0,r);let s=Buffer.concat(t);return s.writeUInt32LE(s.length,0),s}buildOptionFlags1(){let e=o.ENDIAN_LITTLE|o.CHARSET_ASCII|o.FLOAT_IEEE_754|o.BCP_DUMPLOAD_OFF|o.USE_DB_OFF|o.SET_LANG_WARN_ON;return this.initDbFatal?e|=o.INIT_DB_FATAL:e|=o.INIT_DB_WARN,e}buildFeatureExt(){let e=[],t=this.fedAuth;if(t)switch(t.type){case"ADAL":let r=Buffer.alloc(7);r.writeUInt8(c.FEATURE_ID,0),r.writeUInt32LE(2,1),r.writeUInt8(c.LIBRARY_ADAL<<1|(t.echo?c.FEDAUTH_YES_ECHO:c.FEDAUTH_NO_ECHO),5),r.writeUInt8("integrated"===t.workflow?2:c.ADAL_WORKFLOW_USER_PASS,6),e.push(r);break;case"SECURITYTOKEN":let n=Buffer.from(t.fedAuthToken,"ucs2"),o=Buffer.alloc(10),s=0;s=o.writeUInt8(c.FEATURE_ID,s),s=o.writeUInt32LE(n.length+4+1,s),s=o.writeUInt8(c.LIBRARY_SECURITYTOKEN<<1|(t.echo?c.FEDAUTH_YES_ECHO:c.FEDAUTH_NO_ECHO),s),o.writeInt32LE(n.length,s),e.push(o),e.push(n)}if(this.tdsVersion>=i.versions["7_4"]){let t=Buffer.alloc(6);t.writeUInt8(10,0),t.writeUInt32LE(1,1),t.writeUInt8(1,5),e.push(t)}return e.push(Buffer.from([255])),Buffer.concat(e)}buildOptionFlags2(){let e=s.INIT_LANG_WARN|s.ODBC_OFF|s.USER_NORMAL;return this.sspi?e|=s.INTEGRATED_SECURITY_ON:e|=s.INTEGRATED_SECURITY_OFF,e}buildTypeFlags(){let e=a.SQL_DFLT|a.OLEDB_OFF;return this.readOnlyIntent?e|=a.READ_ONLY_INTENT:e|=a.READ_WRITE_INTENT,e}buildOptionFlags3(){return l.CHANGE_PASSWORD_NO|l.UNKNOWN_COLLATION_HANDLING|l.EXTENSION_USED}scramblePassword(e){for(let t=0,r=e.length;t<r;t++){let r=e[t];r=((15&r)<<4|r>>4)^165,e[t]=r}return e}toString(e=""){return e+"Login7 - "+(0,n.sprintf)("TDS:0x%08X, PacketSize:0x%08X, ClientProgVer:0x%08X, ClientPID:0x%08X, ConnectionID:0x%08X",this.tdsVersion,this.packetSize,this.clientProgVer,this.clientPid,this.connectionId)+"\n"+e+"         "+(0,n.sprintf)("Flags1:0x%02X, Flags2:0x%02X, TypeFlags:0x%02X, Flags3:0x%02X, ClientTimezone:%d, ClientLCID:0x%08X",this.buildOptionFlags1(),this.buildOptionFlags2(),this.buildTypeFlags(),this.buildOptionFlags3(),this.clientTimeZone,this.clientLcid)+"\n"+e+"         "+(0,n.sprintf)("Hostname:'%s', Username:'%s', Password:'%s', AppName:'%s', ServerName:'%s', LibraryName:'%s'",this.hostname,this.userName,this.password,this.appName,this.serverName,this.libraryName)+"\n"+e+"         "+(0,n.sprintf)("Language:'%s', Database:'%s', SSPI:'%s', AttachDbFile:'%s', ChangePassword:'%s'",this.language,this.database,this.sspi,this.attachDbFile,this.changePassword)}}t.default=u,e.exports=u},96166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(74955)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(34631)),o=r(94735),s=d(r(33965)),a=r(93740),l=d(r(21119)),c=d(r(40625));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}class h extends o.EventEmitter{constructor(e,t,r){super(),this.socket=e,this.debug=r,this.tlsNegotiationComplete=!1,this.incomingMessageStream=new l.default(this.debug),this.incomingMessageIterator=this.incomingMessageStream[Symbol.asyncIterator](),this.outgoingMessageStream=new c.default(this.debug,{packetSize:t}),this.socket.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(this.socket)}packetSize(...e){if(e.length>0){let t=e[0];this.debug.log("Packet size changed from "+this.outgoingMessageStream.packetSize+" to "+t),this.outgoingMessageStream.packetSize=t}return this.securePair&&this.securePair.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.packetSize}startTls(e,t,r){e.maxVersion&&["TLSv1.2","TLSv1.1","TLSv1"].includes(e.maxVersion)||(e.maxVersion="TLSv1.2");let o=i.createSecureContext(e);return new Promise((e,l)=>{let c=new n.default,u=this.securePair={cleartext:i.connect({socket:c.socket1,servername:t,secureContext:o,rejectUnauthorized:!r}),encrypted:c.socket2},d=()=>{u.encrypted.removeListener("readable",f),u.cleartext.removeListener("error",h),u.cleartext.removeListener("secureConnect",d),u.cleartext.once("error",e=>{this.socket.destroy(e)});let t=u.cleartext.getCipher();t&&this.debug.log("TLS negotiated ("+t.name+", "+t.version+")"),this.emit("secure",u.cleartext),u.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.unpipe(this.socket),this.socket.unpipe(this.incomingMessageStream),this.socket.pipe(u.encrypted),u.encrypted.pipe(this.socket),u.cleartext.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(u.cleartext),this.tlsNegotiationComplete=!0,e()},h=e=>{u.encrypted.removeListener("readable",f),u.cleartext.removeListener("error",h),u.cleartext.removeListener("secureConnect",d),u.cleartext.destroy(),u.encrypted.destroy(),l(e)},f=()=>{let e;let t=new s.default({type:a.TYPE.PRELOGIN,resetConnection:!1});for(;e=u.encrypted.read();)t.write(e);this.outgoingMessageStream.write(t),t.end(),this.readMessage().then(async e=>{for await(let t of(u.encrypted.once("readable",f),e))u.encrypted.write(t)}).catch(h)};u.cleartext.once("error",h),u.cleartext.once("secureConnect",d),u.encrypted.once("readable",f)})}sendMessage(e,t,r){let n=new s.default({type:e,resetConnection:r});return n.end(t),this.outgoingMessageStream.write(n),n}async readMessage(){let e=await this.incomingMessageIterator.next();if(e.done)throw Error("unexpected end of message stream");return e.value}}t.default=h,e.exports=h},33965:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(27910);class i extends n.PassThrough{constructor({type:e,resetConnection:t=!1}){super(),this.type=e,this.resetConnection=t,this.ignore=!1}}t.default=i,e.exports=i},46225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.readCollation=a,t.readMetadata=l;var n=r(10425),i=r(21053),o=r(45284),s=r(28981);function a(e,t){if(t=+t,e.length<t+5)throw new s.NotEnoughDataError(t+5);let r=n.Collation.fromBuffer(e.slice(t,t+5));return new s.Result(r,t+5)}function l(e,t,r){var n,l;let c,u,d;({offset:t,value:c}=(r.tdsVersion<"7_2"?s.readUInt16LE:s.readUInt32LE)(e,t)),({offset:t,value:u}=(0,s.readUInt16LE)(e,t)),{offset:t,value:d}=(0,s.readUInt8)(e,t);let h=i.TYPE[d];if(!h)throw Error((0,o.sprintf)("Unrecognised data type 0x%02X",d));switch(h.name){case"Null":case"TinyInt":case"SmallInt":case"Int":case"BigInt":case"Real":case"Float":case"SmallMoney":case"Money":case"Bit":case"SmallDateTime":case"DateTime":case"Date":return new s.Result({userType:c,flags:u,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:void 0},t);case"IntN":case"FloatN":case"MoneyN":case"BitN":case"UniqueIdentifier":case"DateTimeN":{let r;return{offset:t,value:r}=(0,s.readUInt8)(e,t),new s.Result({userType:c,flags:u,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"Variant":{let r;return{offset:t,value:r}=(0,s.readUInt32LE)(e,t),new s.Result({userType:c,flags:u,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"VarChar":case"Char":case"NVarChar":case"NChar":{let r,n;return{offset:t,value:r}=(0,s.readUInt16LE)(e,t),{offset:t,value:n}=a(e,t),new s.Result({userType:c,flags:u,type:h,collation:n,precision:void 0,scale:void 0,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"Text":case"NText":{let r,n;return{offset:t,value:r}=(0,s.readUInt32LE)(e,t),{offset:t,value:n}=a(e,t),new s.Result({userType:c,flags:u,type:h,collation:n,precision:void 0,scale:void 0,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"VarBinary":case"Binary":{let r;return{offset:t,value:r}=(0,s.readUInt16LE)(e,t),new s.Result({userType:c,flags:u,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"Image":{let r;return{offset:t,value:r}=(0,s.readUInt32LE)(e,t),new s.Result({userType:c,flags:u,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"Xml":{let r,i,o,a,l;return n=+(n=t),{offset:n,value:i}=(0,s.readUInt8)(e,n),{offset:t,value:r}=1!==i?new s.Result(void 0,n):({offset:n,value:o}=(0,s.readBVarChar)(e,n),{offset:n,value:a}=(0,s.readBVarChar)(e,n),{offset:n,value:l}=(0,s.readUsVarChar)(e,n),new s.Result({dbname:o,owningSchema:a,xmlSchemaCollection:l},n)),new s.Result({userType:c,flags:u,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:r,udtInfo:void 0},t)}case"Time":case"DateTime2":case"DateTimeOffset":{let r;return{offset:t,value:r}=(0,s.readUInt8)(e,t),new s.Result({userType:c,flags:u,type:h,collation:void 0,precision:void 0,scale:r,dataLength:void 0,schema:void 0,udtInfo:void 0},t)}case"NumericN":case"DecimalN":{let r,n,i;return{offset:t,value:r}=(0,s.readUInt8)(e,t),{offset:t,value:n}=(0,s.readUInt8)(e,t),{offset:t,value:i}=(0,s.readUInt8)(e,t),new s.Result({userType:c,flags:u,type:h,collation:void 0,precision:n,scale:i,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"UDT":{let r,n,i,o,a,d;return{offset:t,value:r}=(l=t,{offset:l,value:n}=(0,s.readUInt16LE)(e,l),{offset:l,value:i}=(0,s.readBVarChar)(e,l),{offset:l,value:o}=(0,s.readBVarChar)(e,l),{offset:l,value:a}=(0,s.readBVarChar)(e,l),{offset:l,value:d}=(0,s.readUsVarChar)(e,l),new s.Result({maxByteSize:n,dbname:i,owningSchema:o,typeName:a,assemblyName:d},l)),new s.Result({userType:c,flags:u,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:r},t)}default:throw Error((0,o.sprintf)("Unrecognised type %s",h.name))}}function c(e,t,r){(async()=>{for(;;){let n;try{n=l(e.buffer,e.position,t)}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}return e.position=n.offset,r(n.value)}})()}t.default=c,e.exports=c,e.exports.readCollation=a,e.exports.readMetadata=l},76406:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(49184)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(55511)),o=a(r(66650));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function a(e){return e&&e.__esModule?e:{default:e}}class l{constructor(e){this.data=this.createResponse(e)}toString(e=""){return e+"NTLM Auth"}createResponse(e){let t=this.createClientNonce(),r=e.domain,i=e.userName,o=e.password,s=e.ntlmpacket,a=s.target,l=s.nonce,c=64+2*r.length+2*i.length+24+16+8+8+8+4+a.length+4,u=new n.default(c);u.position=0,u.writeString("NTLMSSP\0","utf8"),u.writeUInt32LE(3);let d=64+2*r.length,h=d+2*i.length;u.writeUInt16LE(24),u.writeUInt16LE(24),u.writeUInt32LE(h),u.writeUInt16LE(16),u.writeUInt16LE(16),u.writeUInt32LE(h+24),u.writeUInt16LE(2*r.length),u.writeUInt16LE(2*r.length),u.writeUInt32LE(64),u.writeUInt16LE(2*i.length),u.writeUInt16LE(2*i.length),u.writeUInt32LE(d),u.writeUInt16LE(0),u.writeUInt16LE(0),u.writeUInt32LE(64),u.writeUInt16LE(0),u.writeUInt16LE(0),u.writeUInt32LE(64),u.writeUInt16LE(33281),u.writeUInt16LE(8),u.writeString(r,"ucs2"),u.writeString(i,"ucs2");let f=this.lmv2Response(r,i,o,l,t);u.copyFrom(f);let p=new Date().getTime(),m=this.ntlmv2Response(r,i,o,l,a,t,p);u.copyFrom(m),u.writeUInt32LE(257),u.writeUInt32LE(0);let g=this.createTimestamp(p);return u.copyFrom(g),u.copyFrom(t),u.writeUInt32LE(0),u.copyFrom(a),u.writeUInt32LE(0),u.data}createClientNonce(){let e=Buffer.alloc(8,0),t=0;for(;t<8;)e.writeUInt8(Math.ceil(255*Math.random()),t),t++;return e}ntlmv2Response(e,t,r,n,i,o,s){let a=this.createTimestamp(s),l=this.ntv2Hash(e,t,r),c=40+i.length,u=Buffer.alloc(c,0);return n.copy(u,0,0,8),u.writeUInt32LE(257,8),u.writeUInt32LE(0,12),a.copy(u,16,0,8),o.copy(u,24,0,8),u.writeUInt32LE(0,32),i.copy(u,36,0,i.length),u.writeUInt32LE(0,36+i.length),this.hmacMD5(u,l)}createTimestamp(e){let t=(BigInt(e)+BigInt(0x2b6109100))*BigInt(1e7),r=Number(t&BigInt(0xffffffff)),n=Number(t>>BigInt(32)&BigInt(0xffffffff)),i=Buffer.alloc(8);return i.writeUInt32LE(r,0),i.writeUInt32LE(n,4),i}lmv2Response(e,t,r,n,i){let o=this.ntv2Hash(e,t,r),s=Buffer.alloc(n.length+i.length,0);n.copy(s),i.copy(s,n.length,0,i.length);let a=this.hmacMD5(s,o),l=Buffer.alloc(a.length+i.length,0);return a.copy(l),i.copy(l,a.length,0,i.length),l}ntv2Hash(e,t,r){let n=this.ntHash(r),i=Buffer.from(t.toUpperCase()+e.toUpperCase(),"ucs2");return this.hmacMD5(i,n)}ntHash(e){let t=Buffer.from(e,"ucs2");return Buffer.from(o.default.arrayBuffer(t))}hmacMD5(e,t){return i.createHmac("MD5",t).update(e).digest()}}t.default=l,e.exports=l},62017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNTLMRequest=function(e){let t=escape(e.domain.toUpperCase()),n=e.workstation?escape(e.workstation.toUpperCase()):"",i=r.NTLM_NegotiateUnicode+r.NTLM_NegotiateOEM+r.NTLM_RequestTarget+r.NTLM_NegotiateNTLM+r.NTLM_NegotiateOemDomainSupplied+r.NTLM_NegotiateOemWorkstationSupplied+r.NTLM_NegotiateAlwaysSign+r.NTLM_NegotiateVersion+r.NTLM_NegotiateExtendedSecurity+r.NTLM_Negotiate128+r.NTLM_Negotiate56;""===n&&(i-=r.NTLM_NegotiateOemWorkstationSupplied);let o=Buffer.alloc(40),s=[o],a=0;return a+=o.write("NTLMSSP",a,7,"ascii"),a=o.writeUInt8(0,a),a=o.writeUInt32LE(1,a),a=o.writeUInt32LE(i,a),a=o.writeUInt16LE(t.length,a),a=o.writeUInt16LE(t.length,a),a=o.writeUInt32LE(o.length+n.length,a),a=o.writeUInt16LE(n.length,a),a=o.writeUInt16LE(n.length,a),a=o.writeUInt32LE(o.length,a),a=o.writeUInt8(5,a),a=o.writeUInt8(0,a),a=o.writeUInt16LE(2195,a),a=o.writeUInt8(0,a),a=o.writeUInt8(0,a),a=o.writeUInt8(0,a),o.writeUInt8(15,a),s.push(Buffer.from(n,"ascii")),s.push(Buffer.from(t,"ascii")),Buffer.concat(s)};let r={NTLM_NegotiateUnicode:1,NTLM_NegotiateOEM:2,NTLM_RequestTarget:4,NTLM_NegotiateNTLM:512,NTLM_NegotiateOemDomainSupplied:4096,NTLM_NegotiateOemWorkstationSupplied:8192,NTLM_NegotiateAlwaysSign:32768,NTLM_NegotiateExtendedSecurity:524288,NTLM_NegotiateVersion:0x2000000,NTLM_Negotiate128:0x20000000,NTLM_Negotiate56:0x80000000}},40625:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(83573)),i=r(27910),o=r(93740);class s extends i.Duplex{constructor(e,{packetSize:t}){super({writableObjectMode:!0}),this.packetSize=t,this.debug=e,this.bl=new n.default,this.on("finish",()=>{this.push(null)})}_write(e,t,r){let n=this.packetSize-o.HEADER_LENGTH,i=0;this.currentMessage=e,this.currentMessage.on("data",t=>{if(!e.ignore)for(this.bl.append(t);this.bl.length>n;){let t=this.bl.slice(0,n);this.bl.consume(n);let r=new o.Packet(e.type);r.packetId(i+=1),r.resetConnection(e.resetConnection),r.addData(t),this.debug.packet("Sent",r),this.debug.data(r),!1===this.push(r.buffer)&&e.pause()}}),this.currentMessage.on("end",()=>{let t=this.bl.slice();this.bl.consume(t.length);let n=new o.Packet(e.type);n.packetId(i+=1),n.resetConnection(e.resetConnection),n.last(!0),n.ignore(e.ignore),n.addData(t),this.debug.packet("Sent",n),this.debug.data(n),this.push(n.buffer),this.currentMessage=void 0,r()})}_read(e){this.currentMessage&&this.currentMessage.resume()}}t.default=s,e.exports=s},93740:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=t.Packet=t.OFFSET=t.HEADER_LENGTH=void 0,t.isPacketComplete=function(e){return!(e.length<i)&&e.length>=e.readUInt16BE(l.Length)},t.packetLength=function(e){return e.readUInt16BE(l.Length)};var n=r(45284);let i=t.HEADER_LENGTH=8,o=t.TYPE={SQL_BATCH:1,RPC_REQUEST:3,TABULAR_RESULT:4,ATTENTION:6,BULK_LOAD:7,TRANSACTION_MANAGER:14,LOGIN7:16,NTLMAUTH_PKT:17,PRELOGIN:18,FEDAUTH_TOKEN:8},s={};for(let e in o)s[o[e]]=e;let a={NORMAL:0,EOM:1,IGNORE:2,RESETCONNECTION:8,RESETCONNECTIONSKIPTRAN:16},l=t.OFFSET={Type:0,Status:1,Length:2,SPID:4,PacketID:6,Window:7};class c{constructor(e){e instanceof Buffer?this.buffer=e:(this.buffer=Buffer.alloc(i,0),this.buffer.writeUInt8(e,l.Type),this.buffer.writeUInt8(a.NORMAL,l.Status),this.buffer.writeUInt16BE(0,l.SPID),this.buffer.writeUInt8(1,l.PacketID),this.buffer.writeUInt8(0,l.Window),this.setLength())}setLength(){this.buffer.writeUInt16BE(this.buffer.length,l.Length)}length(){return this.buffer.readUInt16BE(l.Length)}resetConnection(e){let t=this.buffer.readUInt8(l.Status);e?t|=a.RESETCONNECTION:t&=255-a.RESETCONNECTION,this.buffer.writeUInt8(t,l.Status)}last(e){let t=this.buffer.readUInt8(l.Status);return arguments.length>0&&(e?t|=a.EOM:t&=255-a.EOM,this.buffer.writeUInt8(t,l.Status)),this.isLast()}ignore(e){let t=this.buffer.readUInt8(l.Status);e?t|=a.IGNORE:t&=255-a.IGNORE,this.buffer.writeUInt8(t,l.Status)}isLast(){return!!(this.buffer.readUInt8(l.Status)&a.EOM)}packetId(e){return e&&this.buffer.writeUInt8(e%256,l.PacketID),this.buffer.readUInt8(l.PacketID)}addData(e){return this.buffer=Buffer.concat([this.buffer,e]),this.setLength(),this}data(){return this.buffer.slice(i)}type(){return this.buffer.readUInt8(l.Type)}statusAsString(){let e=this.buffer.readUInt8(l.Status),t=[];for(let r in a)e&a[r]?t.push(r):t.push(void 0);return t.join(" ").trim()}headerToString(e=""){return e+(0,n.sprintf)("type:0x%02X(%s), status:0x%02X(%s), length:0x%04X, spid:0x%04X, packetId:0x%02X, window:0x%02X",this.buffer.readUInt8(l.Type),s[this.buffer.readUInt8(l.Type)],this.buffer.readUInt8(l.Status),this.statusAsString(),this.buffer.readUInt16BE(l.Length),this.buffer.readUInt16BE(l.SPID),this.buffer.readUInt8(l.PacketID),this.buffer.readUInt8(l.Window))}dataToString(e=""){let t=this.data(),r="",i="";for(let o=0;o<t.length;o++)o%32==0&&(r+=e,r+=(0,n.sprintf)("%04X  ",o)),t[o]<32||t[o]>126?(i+=".",(o+1)%8==0&&(o+1)%32!=0&&(i+=" ")):i+=String.fromCharCode(t[o]),null!=t[o]&&(r+=(0,n.sprintf)("%02X",t[o])),(o+1)%4==0&&(o+1)%32!=0&&(r+=" "),(o+1)%32==0&&(r+="  "+i,i="",o<t.length-1&&(r+="\n"));return i.length&&(r+="  "+i),r}toString(e=""){return this.headerToString(e)+"\n"+this.dataToString(e+e)}payloadString(){return""}}t.Packet=c},50021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(45284),i=function(e){return e&&e.__esModule?e:{default:e}}(r(49184));let o={VERSION:0,ENCRYPTION:1,INSTOPT:2,THREADID:3,MARS:4,FEDAUTHREQUIRED:6,TERMINATOR:255},s={OFF:0,ON:1,NOT_SUP:2,REQ:3},a={};for(let e in s)a[s[e]]=e;let l={OFF:0,ON:1},c={};for(let e in l)c[l[e]]=e;class u{constructor(e={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}){e instanceof Buffer?(this.data=e,this.options={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}):(this.options=e,this.createOptions()),this.extractOptions()}createOptions(){let e=[this.createVersionOption(),this.createEncryptionOption(),this.createInstanceOption(),this.createThreadIdOption(),this.createMarsOption(),this.createFedAuthOption()],t=0;for(let r=0,n=e.length;r<n;r++)t+=5+e[r].data.length;t++,this.data=Buffer.alloc(t,0);let r=0,n=5*e.length+1;for(let t=0,i=e.length;t<i;t++){let i=e[t];this.data.writeUInt8(i.token,r+0),this.data.writeUInt16BE(n,r+1),this.data.writeUInt16BE(i.data.length,r+3),r+=5,i.data.copy(this.data,n),n+=i.data.length}this.data.writeUInt8(o.TERMINATOR,r)}createVersionOption(){let e=new i.default(20);return e.writeUInt8(this.options.version.major),e.writeUInt8(this.options.version.minor),e.writeUInt16BE(this.options.version.build),e.writeUInt16BE(this.options.version.subbuild),{token:o.VERSION,data:e.data}}createEncryptionOption(){let e=new i.default(20);return this.options.encrypt?e.writeUInt8(s.ON):e.writeUInt8(s.NOT_SUP),{token:o.ENCRYPTION,data:e.data}}createInstanceOption(){let e=new i.default(20);return e.writeUInt8(0),{token:o.INSTOPT,data:e.data}}createThreadIdOption(){let e=new i.default(20);return e.writeUInt32BE(0),{token:o.THREADID,data:e.data}}createMarsOption(){let e=new i.default(20);return e.writeUInt8(l.OFF),{token:o.MARS,data:e.data}}createFedAuthOption(){let e=new i.default(20);return e.writeUInt8(1),{token:o.FEDAUTHREQUIRED,data:e.data}}extractOptions(){let e=0;for(;this.data[e]!==o.TERMINATOR;){let t=this.data.readUInt16BE(e+1),r=this.data.readUInt16BE(e+3);switch(this.data[e]){case o.VERSION:this.extractVersion(t);break;case o.ENCRYPTION:this.extractEncryption(t);break;case o.INSTOPT:this.extractInstance(t);break;case o.THREADID:r>0&&this.extractThreadId(t);break;case o.MARS:this.extractMars(t);break;case o.FEDAUTHREQUIRED:this.extractFedAuth(t)}e+=5,t+=r}}extractVersion(e){this.version={major:this.data.readUInt8(e+0),minor:this.data.readUInt8(e+1),build:this.data.readUInt16BE(e+2),subbuild:this.data.readUInt16BE(e+4)}}extractEncryption(e){this.encryption=this.data.readUInt8(e),this.encryptionString=a[this.encryption]}extractInstance(e){this.instance=this.data.readUInt8(e)}extractThreadId(e){this.threadId=this.data.readUInt32BE(e)}extractMars(e){this.mars=this.data.readUInt8(e),this.marsString=c[this.mars]}extractFedAuth(e){this.fedAuthRequired=this.data.readUInt8(e)}toString(e=""){return e+"PreLogin - "+(0,n.sprintf)("version:%d.%d.%d.%d, encryption:0x%02X(%s), instopt:0x%02X, threadId:0x%08X, mars:0x%02X(%s)",this.version.major,this.version.minor,this.version.build,this.version.subbuild,this.encryption?this.encryption:0,this.encryptionString?this.encryptionString:"",this.instance?this.instance:0,this.threadId?this.threadId:0,this.mars?this.mars:0,this.marsString?this.marsString:"")}}t.default=u,e.exports=u},59295:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(94735),i=r(92115),o=r(27538);class s extends n.EventEmitter{on(e,t){return super.on(e,t)}emit(e,...t){return super.emit(e,...t)}constructor(e,t,r){super(),this.sqlTextOrProcedure=e,this.parameters=[],this.parametersByName={},this.preparing=!1,this.handle=void 0,this.canceled=!1,this.paused=!1,this.error=void 0,this.connection=void 0,this.timeout=void 0,this.userCallback=t,this.statementColumnEncryptionSetting=r&&r.statementColumnEncryptionSetting||o.SQLServerStatementColumnEncryptionSetting.UseConnectionSetting,this.cryptoMetadataLoaded=!1,this.callback=function(e,t,r){this.preparing?(this.preparing=!1,e?this.emit("error",e):this.emit("prepared")):(this.userCallback(e,t,r),this.emit("requestCompleted"))}}addParameter(e,t,r,n){let{output:i=!1,length:o,precision:s,scale:a}=n??{},l={type:t,name:e,value:r,output:i,length:o,precision:s,scale:a};this.parameters.push(l),this.parametersByName[e]=l}addOutputParameter(e,t,r,n){this.addParameter(e,t,r,{...n,output:!0})}makeParamsParameter(e){let t="";for(let r=0,n=e.length;r<n;r++){let n=e[r];t.length>0&&(t+=", "),t+="@"+n.name+" ",t+=n.type.declaration(n),n.output&&(t+=" OUTPUT")}return t}validateParameters(e){for(let t=0,r=this.parameters.length;t<r;t++){let r=this.parameters[t];try{r.value=r.type.validate(r.value,e)}catch(e){throw new i.RequestError("Validation failed for parameter '"+r.name+"'. "+e.message,"EPARAM",{cause:e})}}}pause(){this.paused||(this.emit("pause"),this.paused=!0)}resume(){this.paused&&(this.paused=!1,this.emit("resume"))}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}setTimeout(e){this.timeout=e}}t.default=s,e.exports=s},45963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(49184)),i=r(48114),o=r(92115);let s={BY_REF_VALUE:1};class a{constructor(e,t,r,n,i){this.procedure=e,this.parameters=t,this.options=n,this.txnDescriptor=r,this.collation=i}[Symbol.iterator](){return this.generateData()}*generateData(){let e=new n.default(500);this.options.tdsVersion>="7_2"&&(0,i.writeToTrackingBuffer)(e,this.txnDescriptor,1),"string"==typeof this.procedure?e.writeUsVarchar(this.procedure):(e.writeUShort(65535),e.writeUShort(this.procedure)),e.writeUInt16LE(0),yield e.data;let t=this.parameters.length;for(let e=0;e<t;e++)yield*this.generateParameterData(this.parameters[e])}toString(e=""){return e+"RPC Request - "+this.procedure}*generateParameterData(e){let t=new n.default(3+Buffer.byteLength(e.name,"ucs-2")+1);e.name?t.writeBVarchar("@"+e.name):t.writeBVarchar("");let r=0;e.output&&(r|=s.BY_REF_VALUE),t.writeUInt8(r),yield t.data;let i={value:e.value},a=e.type;(48&a.id)==32&&(e.length?i.length=e.length:a.resolveLength&&(i.length=a.resolveLength(e))),e.precision?i.precision=e.precision:a.resolvePrecision&&(i.precision=a.resolvePrecision(e)),e.scale?i.scale=e.scale:a.resolveScale&&(i.scale=a.resolveScale(e)),this.collation&&(i.collation=this.collation),yield a.generateTypeInfo(i,this.options),yield a.generateParameterLength(i,this.options);try{yield*a.generateParameterData(i,this.options)}catch(t){throw new o.InputError(`Input parameter '${e.name}' could not be validated`,{cause:t})}}}t.default=a,e.exports=a},2097:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendInParallel=l,t.sendMessage=c;var n=a(r(19185)),i=a(r(91645)),o=a(r(73136)),s=a(r(42053));function a(e){return e&&e.__esModule?e:{default:e}}async function l(e,t,r,i){if(i.aborted)throw new s.default;return await new Promise((o,a)=>{let l=[],c=0,u=t=>{++c===e.length&&(i.removeEventListener("abort",h),f(),a(t))},d=e=>{i.removeEventListener("abort",h),f(),o(e)},h=()=>{f(),a(new s.default)},f=()=>{for(let e of l)e.removeListener("error",u),e.removeListener("message",d),e.close()};i.addEventListener("abort",h,{once:!0});for(let i=0;i<e.length;i++){let o=6===e[i].family?"udp6":"udp4",s=n.default.createSocket(o);l.push(s),s.on("error",u),s.on("message",d),s.send(r,0,r.length,t,e[i].address)}})}async function c(e,t,r,n,a){let c;if(n.aborted)throw new s.default;return c=i.default.isIP(e)?[{address:e,family:i.default.isIPv6(e)?6:4}]:await new Promise((t,i)=>{let a=()=>{i(new s.default)},l=o.default.domainToASCII(e);r(""===l?e:l,{all:!0},(e,r)=>{n.removeEventListener("abort",a),e?i(e):t(r)})}),await l(c,t,a,n)}},57637:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={Sp_Cursor:1,Sp_CursorOpen:2,Sp_CursorPrepare:3,Sp_CursorExecute:4,Sp_CursorPrepExec:5,Sp_CursorUnprepare:6,Sp_CursorFetch:7,Sp_CursorOption:8,Sp_CursorClose:9,Sp_ExecuteSql:10,Sp_Prepare:11,Sp_Execute:12,Sp_PrepExec:13,Sp_PrepExecRpc:14,Sp_Unprepare:15};t.default=r,e.exports=r},57099:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(49184)),i=r(48114);class o{constructor(e,t,r){this.sqlText=e,this.txnDescriptor=t,this.options=r}*[Symbol.iterator](){if(this.options.tdsVersion>="7_2"){let e=new n.default(18,"ucs2");(0,i.writeToTrackingBuffer)(e,this.txnDescriptor,1),yield e.data}yield Buffer.from(this.sqlText,"ucs2")}toString(e=""){return e+"SQL Batch - "+this.sqlText}}t.default=o,e.exports=o},32833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.versionsByValue=t.versions=void 0;let r=t.versions={"7_1":0x71000001,"7_2":0x72090002,"7_3_A":0x730a0003,"7_3_B":0x730b0003,"7_4":0x74000004,"8_0":0x8000000},n=t.versionsByValue={};for(let e in r)n[r[e]]=e},34143:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BulkLoad",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return a.ConnectionError}}),Object.defineProperty(t,"ISOLATION_LEVEL",{enumerable:!0,get:function(){return c.ISOLATION_LEVEL}}),Object.defineProperty(t,"Request",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"RequestError",{enumerable:!0,get:function(){return a.RequestError}}),Object.defineProperty(t,"TDS_VERSION",{enumerable:!0,get:function(){return u.versions}}),Object.defineProperty(t,"TYPES",{enumerable:!0,get:function(){return l.TYPES}}),t.connect=function(e,t){let r=new i.default(e);return r.connect(t),r},t.library=void 0;var n=d(r(32437)),i=d(r(536)),o=d(r(59295)),s=r(30385),a=r(92115),l=r(21053),c=r(36378),u=r(32833);function d(e){return e&&e.__esModule?e:{default:e}}t.library={name:s.name}},29499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(46225),i=r(16725),o=r(28981);async function s(e){let t;for(;;){let r;try{({offset:r,value:t}=(0,o.readUInt16LE)(e.buffer,e.position))}catch(t){if(t instanceof o.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=r;break}let r=[];for(let i=0;i<t;i++)for(;;){let t,s;try{({offset:s,value:t}=function(e,t,r,i){var s;let a,l,c,u;return{offset:t,value:a}=(0,n.readMetadata)(e,t,r),{offset:t,value:l}=function(e,t,r,n){let i;if(!r.type.hasTableName)return new o.Result(void 0,t);if(n.tdsVersion<"7_2")return(0,o.readUsVarChar)(e,t);({offset:t,value:i}=(0,o.readUInt8)(e,t));let s=[];for(let r=0;r<i;r++){let r;({offset:t,value:r}=(0,o.readUsVarChar)(e,t)),s.push(r)}return new o.Result(s,t)}(e,t,a,r),{offset:t,value:c}=(s=t,({offset:s,value:u}=(0,o.readBVarChar)(e,s),r.columnNameReplacer)?new o.Result(r.columnNameReplacer(u,i,a),s):r.camelCaseColumns?new o.Result(u.replace(/^[A-Z]/,function(e){return e.toLowerCase()}),s):new o.Result(u,s)),new o.Result({userType:a.userType,flags:a.flags,type:a.type,collation:a.collation,precision:a.precision,scale:a.scale,udtInfo:a.udtInfo,dataLength:a.dataLength,schema:a.schema,colName:c,tableName:l},t)}(e.buffer,e.position,e.options,i))}catch(t){if(t instanceof o.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=s,r.push(t);break}return new i.ColMetadataToken(r)}t.default=s,e.exports=s},68032:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doneInProcParser=function(e,t,r){let o;return{offset:t,value:o}=s(e,t,r),new i.Result(new n.DoneInProcToken(o),t)},t.doneParser=function(e,t,r){let o;return{offset:t,value:o}=s(e,t,r),new i.Result(new n.DoneToken(o),t)},t.doneProcParser=function(e,t,r){let o;return{offset:t,value:o}=s(e,t,r),new i.Result(new n.DoneProcToken(o),t)};var n=r(16725),i=r(28981);let o={MORE:1,ERROR:2,COUNT:16,ATTN:32,SRVERROR:256};function s(e,t,r){let n,s,a;({offset:t,value:n}=(0,i.readUInt16LE)(e,t));let l=!!(n&o.MORE),c=!!(n&o.ERROR),u=!!(n&o.COUNT),d=!!(n&o.ATTN),h=!!(n&o.SRVERROR);return{offset:t,value:s}=(0,i.readUInt16LE)(e,t),{offset:t,value:a}=(r.tdsVersion<"7_2"?i.readUInt32LE:i.readBigUInt64LE)(e,t),new i.Result({more:l,sqlError:c,attention:d,serverError:h,rowCount:u?Number(a):void 0,curCmd:s},t)}},98858:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(10425),i=r(16725),o=r(28981);let s={1:{name:"DATABASE",event:"databaseChange"},2:{name:"LANGUAGE",event:"languageChange"},3:{name:"CHARSET",event:"charsetChange"},4:{name:"PACKET_SIZE",event:"packetSizeChange"},7:{name:"SQL_COLLATION",event:"sqlCollationChange"},8:{name:"BEGIN_TXN",event:"beginTransaction"},9:{name:"COMMIT_TXN",event:"commitTransaction"},10:{name:"ROLLBACK_TXN",event:"rollbackTransaction"},13:{name:"DATABASE_MIRRORING_PARTNER",event:"partnerNode"},17:{name:"TXN_ENDED"},18:{name:"RESET_CONNECTION",event:"resetConnection"},20:{name:"ROUTING_CHANGE",event:"routingChange"}};function a(e,t,r){let a,l;if({offset:t,value:a}=(0,o.readUInt16LE)(e,t),e.length<t+a)throw new o.NotEnoughDataError(t+a);({offset:t,value:l}=(0,o.readUInt8)(e,t));let c=s[l];return c?function(e,t,r,s){switch(s.name){case"DATABASE":case"LANGUAGE":case"CHARSET":case"PACKET_SIZE":case"DATABASE_MIRRORING_PARTNER":{let r,n;switch({offset:t,value:r}=(0,o.readBVarChar)(e,t),{offset:t,value:n}=(0,o.readBVarChar)(e,t),s.name){case"PACKET_SIZE":return new o.Result(new i.PacketSizeEnvChangeToken(parseInt(r),parseInt(n)),t);case"DATABASE":return new o.Result(new i.DatabaseEnvChangeToken(r,n),t);case"LANGUAGE":return new o.Result(new i.LanguageEnvChangeToken(r,n),t);case"CHARSET":return new o.Result(new i.CharsetEnvChangeToken(r,n),t);case"DATABASE_MIRRORING_PARTNER":return new o.Result(new i.DatabaseMirroringPartnerEnvChangeToken(r,n),t)}throw Error("unreachable")}case"SQL_COLLATION":case"BEGIN_TXN":case"COMMIT_TXN":case"ROLLBACK_TXN":case"RESET_CONNECTION":{let r,a;switch({offset:t,value:r}=(0,o.readBVarByte)(e,t),{offset:t,value:a}=(0,o.readBVarByte)(e,t),s.name){case"SQL_COLLATION":{let e=r.length?n.Collation.fromBuffer(r):void 0,s=a.length?n.Collation.fromBuffer(a):void 0;return new o.Result(new i.CollationChangeToken(e,s),t)}case"BEGIN_TXN":return new o.Result(new i.BeginTransactionEnvChangeToken(r,a),t);case"COMMIT_TXN":return new o.Result(new i.CommitTransactionEnvChangeToken(r,a),t);case"ROLLBACK_TXN":return new o.Result(new i.RollbackTransactionEnvChangeToken(r,a),t);case"RESET_CONNECTION":return new o.Result(new i.ResetConnectionEnvChangeToken(r,a),t)}throw Error("unreachable")}case"ROUTING_CHANGE":{let r,n;({offset:t,value:r}=(0,o.readUsVarByte)(e,t)),{offset:t,value:n}=(0,o.readUsVarByte)(e,t);let s=r.readUInt8(0);if(0!==s)throw Error("Unknown protocol byte in routing change event");let a=r.readUInt16LE(1),l=r.readUInt16LE(3),c=r.toString("ucs2",5,5+2*l);return new o.Result(new i.RoutingEnvChangeToken({protocol:s,port:a,server:c},n),t)}default:return console.error("Tedious > Unsupported ENVCHANGE type "+s.name),new o.Result(void 0,t+r-1)}}(e,t,a,c):(console.error("Tedious > Unsupported ENVCHANGE type "+l),new o.Result(void 0,t+a-1))}t.default=a,e.exports=a},62966:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(28981),i=r(16725);let o={FEDAUTH:2,UTF8_SUPPORT:10,TERMINATOR:255};function s(e,t,r){let s,a;for(;;){let r,l;if({value:r,offset:t}=(0,n.readUInt8)(e,t),r===o.TERMINATOR)return new n.Result(new i.FeatureExtAckToken(s,a),t);if({value:l,offset:t}=(0,n.readUInt32LE)(e,t),e.length<t+l)throw new n.NotEnoughDataError(t+l);let c=e.slice(t,t+l);switch(t+=l,r){case o.FEDAUTH:s=c;break;case o.UTF8_SUPPORT:a=!!c[0]}}}t.default=s,e.exports=s},42672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(28981),i=r(16725);let o={STSURL:1,SPN:2};function s(e,t,r){let s;if({offset:t,value:s}=(0,n.readUInt32LE)(e,t),e.length<t+s)throw new n.NotEnoughDataError(t+s);let a=e.slice(t,t+s);t+=s;let{spn:l,stsurl:c}=function(e){let t,r,n=0,i=e.readUInt32LE(n);n+=4;for(let s=0;s<i;s++){let i=e.readUInt8(n);n+=1;let s=e.readUInt32LE(n);n+=4;let a=e.readUInt32LE(n);switch(n+=4,i){case o.SPN:t=e.toString("ucs2",a,a+s);break;case o.STSURL:r=e.toString("ucs2",a,a+s)}}return{spn:t,stsurl:r}}(a);return new n.Result(new i.FedAuthInfoToken(l,c),t)}t.default=s,e.exports=s},9704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnexpectedTokenError=t.TokenHandler=t.RequestTokenHandler=t.Login7TokenHandler=t.InitialSqlTokenHandler=t.AttentionTokenHandler=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(59295)),i=r(92115);class o extends Error{constructor(e,t){super("Unexpected token `"+t.name+"` in `"+e.constructor.name+"`")}}t.UnexpectedTokenError=o;class s{onInfoMessage(e){throw new o(this,e)}onErrorMessage(e){throw new o(this,e)}onSSPI(e){throw new o(this,e)}onDatabaseChange(e){throw new o(this,e)}onLanguageChange(e){throw new o(this,e)}onCharsetChange(e){throw new o(this,e)}onSqlCollationChange(e){throw new o(this,e)}onRoutingChange(e){throw new o(this,e)}onPacketSizeChange(e){throw new o(this,e)}onResetConnection(e){throw new o(this,e)}onBeginTransaction(e){throw new o(this,e)}onCommitTransaction(e){throw new o(this,e)}onRollbackTransaction(e){throw new o(this,e)}onFedAuthInfo(e){throw new o(this,e)}onFeatureExtAck(e){throw new o(this,e)}onLoginAck(e){throw new o(this,e)}onColMetadata(e){throw new o(this,e)}onOrder(e){throw new o(this,e)}onRow(e){throw new o(this,e)}onReturnStatus(e){throw new o(this,e)}onReturnValue(e){throw new o(this,e)}onDoneProc(e){throw new o(this,e)}onDoneInProc(e){throw new o(this,e)}onDone(e){throw new o(this,e)}onDatabaseMirroringPartner(e){throw new o(this,e)}}t.TokenHandler=s;class a extends s{constructor(e){super(),this.connection=e}onInfoMessage(e){this.connection.emit("infoMessage",e)}onErrorMessage(e){this.connection.emit("errorMessage",e)}onDatabaseChange(e){this.connection.emit("databaseChange",e.newValue)}onLanguageChange(e){this.connection.emit("languageChange",e.newValue)}onCharsetChange(e){this.connection.emit("charsetChange",e.newValue)}onSqlCollationChange(e){this.connection.databaseCollation=e.newValue}onPacketSizeChange(e){this.connection.messageIo.packetSize(e.newValue)}onBeginTransaction(e){this.connection.transactionDescriptors.push(e.newValue),this.connection.inTransaction=!0}onCommitTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(e){this.connection.emit("error",Error("Received 'columnMetadata' when no sqlRequest is in progress")),this.connection.close()}onOrder(e){this.connection.emit("error",Error("Received 'order' when no sqlRequest is in progress")),this.connection.close()}onRow(e){this.connection.emit("error",Error("Received 'row' when no sqlRequest is in progress")),this.connection.close()}onReturnStatus(e){}onReturnValue(e){}onDoneProc(e){}onDoneInProc(e){}onDone(e){}onResetConnection(e){this.connection.emit("resetConnection")}}t.InitialSqlTokenHandler=a;class l extends s{constructor(e){super(),this.loginAckReceived=!1,this.connection=e}onInfoMessage(e){this.connection.emit("infoMessage",e)}onErrorMessage(e){this.connection.emit("errorMessage",e);let t=new i.ConnectionError(e.message,"ELOGIN");this.connection.transientErrorLookup.isTransientError(e.number)&&this.connection.curTransientRetryCount!==this.connection.config.options.maxRetriesOnTransientErrors&&(t.isTransient=!0),this.connection.loginError=t}onSSPI(e){e.ntlmpacket&&(this.connection.ntlmpacket=e.ntlmpacket,this.connection.ntlmpacketBuffer=e.ntlmpacketBuffer)}onDatabaseChange(e){this.connection.emit("databaseChange",e.newValue)}onLanguageChange(e){this.connection.emit("languageChange",e.newValue)}onCharsetChange(e){this.connection.emit("charsetChange",e.newValue)}onSqlCollationChange(e){this.connection.databaseCollation=e.newValue}onFedAuthInfo(e){this.fedAuthInfoToken=e}onFeatureExtAck(e){let{authentication:t}=this.connection.config;"azure-active-directory-password"===t.type||"azure-active-directory-access-token"===t.type||"azure-active-directory-msi-vm"===t.type||"azure-active-directory-msi-app-service"===t.type||"azure-active-directory-service-principal-secret"===t.type||"azure-active-directory-default"===t.type?void 0===e.fedAuth?this.connection.loginError=new i.ConnectionError("Did not receive Active Directory authentication acknowledgement"):0!==e.fedAuth.length&&(this.connection.loginError=new i.ConnectionError(`Active Directory authentication acknowledgment for ${t.type} authentication method includes extra data`)):void 0===e.fedAuth&&void 0===e.utf8Support?this.connection.loginError=new i.ConnectionError("Received acknowledgement for unknown feature"):e.fedAuth&&(this.connection.loginError=new i.ConnectionError("Did not request Active Directory authentication, but received the acknowledgment"))}onLoginAck(e){if(!e.tdsVersion){this.connection.loginError=new i.ConnectionError("Server responded with unknown TDS version.","ETDS");return}if(!e.interface){this.connection.loginError=new i.ConnectionError("Server responded with unsupported interface.","EINTERFACENOTSUPP");return}this.connection.config.options.tdsVersion=e.tdsVersion,this.loginAckReceived=!0}onRoutingChange(e){let[t]=e.newValue.server.split("\\");this.routingData={server:t,port:e.newValue.port}}onDoneInProc(e){}onDone(e){}onPacketSizeChange(e){this.connection.messageIo.packetSize(e.newValue)}onDatabaseMirroringPartner(e){}}t.Login7TokenHandler=l;class c extends s{constructor(e,t){super(),this.connection=e,this.request=t,this.errors=[]}onInfoMessage(e){this.connection.emit("infoMessage",e)}onErrorMessage(e){if(this.connection.emit("errorMessage",e),!this.request.canceled){let t=new i.RequestError(e.message,"EREQUEST");t.number=e.number,t.state=e.state,t.class=e.class,t.serverName=e.serverName,t.procName=e.procName,t.lineNumber=e.lineNumber,this.errors.push(t),this.request.error=t,this.request instanceof n.default&&this.errors.length>1&&(this.request.error=AggregateError(this.errors))}}onDatabaseChange(e){this.connection.emit("databaseChange",e.newValue)}onLanguageChange(e){this.connection.emit("languageChange",e.newValue)}onCharsetChange(e){this.connection.emit("charsetChange",e.newValue)}onSqlCollationChange(e){this.connection.databaseCollation=e.newValue}onPacketSizeChange(e){this.connection.messageIo.packetSize(e.newValue)}onBeginTransaction(e){this.connection.transactionDescriptors.push(e.newValue),this.connection.inTransaction=!0}onCommitTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(e){if(!this.request.canceled){if(this.connection.config.options.useColumnNames){let t=Object.create(null);for(let r=0,n=e.columns.length;r<n;r++){let n=e.columns[r];null==t[n.colName]&&(t[n.colName]=n)}this.request.emit("columnMetadata",t)}else this.request.emit("columnMetadata",e.columns)}}onOrder(e){this.request.canceled||this.request.emit("order",e.orderColumns)}onRow(e){this.request.canceled||(this.connection.config.options.rowCollectionOnRequestCompletion&&this.request.rows.push(e.columns),this.connection.config.options.rowCollectionOnDone&&this.request.rst.push(e.columns),this.request.emit("row",e.columns))}onReturnStatus(e){this.request.canceled||(this.connection.procReturnStatusValue=e.value)}onReturnValue(e){this.request.canceled||this.request.emit("returnValue",e.paramName,e.value,e.metadata)}onDoneProc(e){!this.request.canceled&&(e.sqlError&&!this.request.error&&(this.request.error=new i.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("doneProc",e.rowCount,e.more,this.connection.procReturnStatusValue,this.request.rst),this.connection.procReturnStatusValue=void 0,void 0!==e.rowCount&&(this.request.rowCount+=e.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDoneInProc(e){!this.request.canceled&&(this.request.emit("doneInProc",e.rowCount,e.more,this.request.rst),void 0!==e.rowCount&&(this.request.rowCount+=e.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDone(e){!this.request.canceled&&(e.sqlError&&!this.request.error&&(this.request.error=new i.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("done",e.rowCount,e.more,this.request.rst),void 0!==e.rowCount&&(this.request.rowCount+=e.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onResetConnection(e){this.connection.emit("resetConnection")}}t.RequestTokenHandler=c;class u extends s{constructor(e,t){super(),this.connection=e,this.request=t,this.attentionReceived=!1}onDone(e){e.attention&&(this.attentionReceived=!0)}}t.AttentionTokenHandler=u},28981:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Result=t.NotEnoughDataError=void 0,t.readBVarByte=function(e,t){let o;if(t=+t,{offset:t,value:o}=i(e,t),e.length<t+o)throw new n(t+o);return new r(e.slice(t,t+o),t+o)},t.readBVarChar=function(e,t){let o;t=+t,{offset:t,value:o}=i(e,t);let s=2*o;if(e.length<t+s)throw new n(t+s);return new r(e.toString("ucs2",t,t+s),t+s)},t.readBigInt64LE=function(e,t){if(t=+t,e.length<t+8)throw new n(t+8);return new r(e.readBigInt64LE(t),t+8)},t.readBigUInt64LE=function(e,t){if(t=+t,e.length<t+8)throw new n(t+8);return new r(e.readBigUInt64LE(t),t+8)},t.readDoubleLE=function(e,t){if(t=+t,e.length<t+8)throw new n(t+8);return new r(e.readDoubleLE(t),t+8)},t.readFloatLE=function(e,t){if(t=+t,e.length<t+4)throw new n(t+4);return new r(e.readFloatLE(t),t+4)},t.readInt16LE=function(e,t){if(t=+t,e.length<t+2)throw new n(t+2);return new r(e.readInt16LE(t),t+2)},t.readInt32LE=function(e,t){if(t=+t,e.length<t+4)throw new n(t+4);return new r(e.readInt32LE(t),t+4)},t.readUInt16LE=o,t.readUInt24LE=function(e,t){if(t=+t,e.length<t+3)throw new n(t+3);return new r(e.readUIntLE(t,3),t+3)},t.readUInt32BE=function(e,t){if(t=+t,e.length<t+4)throw new n(t+4);return new r(e.readUInt32BE(t),t+4)},t.readUInt32LE=function(e,t){if(t=+t,e.length<t+4)throw new n(t+4);return new r(e.readUInt32LE(t),t+4)},t.readUInt40LE=function(e,t){if(t=+t,e.length<t+5)throw new n(t+5);return new r(e.readUIntLE(t,5),t+5)},t.readUInt8=i,t.readUNumeric128LE=function(e,t){if(t=+t,e.length<t+16)throw new n(t+16);let i=e.readUInt32LE(t);return new r(i+0x100000000*e.readUInt32LE(t+4)+0xffffffffffffffff*e.readUInt32LE(t+8)+7922816251426434e13*e.readUInt32LE(t+12),t+16)},t.readUNumeric64LE=function(e,t){if(t=+t,e.length<t+8)throw new n(t+8);let i=e.readUInt32LE(t);return new r(0x100000000*e.readUInt32LE(t+4)+i,t+8)},t.readUNumeric96LE=function(e,t){if(t=+t,e.length<t+12)throw new n(t+12);return new r(e.readUInt32LE(t)+0x100000000*e.readUInt32LE(t+4)+0xffffffffffffffff*e.readUInt32LE(t+8),t+12)},t.readUsVarByte=function(e,t){let i;if(t=+t,{offset:t,value:i}=o(e,t),e.length<t+i)throw new n(t+i);return new r(e.slice(t,t+i),t+i)},t.readUsVarChar=function(e,t){let i;t=+t,{offset:t,value:i}=o(e,t);let s=2*i;if(e.length<t+s)throw new n(t+s);return new r(e.toString("ucs2",t,t+s),t+s)};class r{constructor(e,t){this.value=e,this.offset=t}}t.Result=r;class n extends Error{byteCount;constructor(e){super(),this.byteCount=e}}function i(e,t){if(t=+t,e.length<t+1)throw new n(t+1);return new r(e.readUInt8(t),t+1)}function o(e,t){if(t=+t,e.length<t+2)throw new n(t+2);return new r(e.readUInt16LE(t),t+2)}t.NotEnoughDataError=n},39296:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorParser=function(e,t,r){let s;return{offset:t,value:s}=o(e,t,r),new n.Result(new i.ErrorMessageToken(s),t)},t.infoParser=function(e,t,r){let s;return{offset:t,value:s}=o(e,t,r),new n.Result(new i.InfoMessageToken(s),t)};var n=r(28981),i=r(16725);function o(e,t,r){let i,o,s,a,l,c,u,d;if({offset:t,value:i}=(0,n.readUInt16LE)(e,t),e.length<i+t)throw new n.NotEnoughDataError(i+t);return{offset:t,value:o}=(0,n.readUInt32LE)(e,t),{offset:t,value:s}=(0,n.readUInt8)(e,t),{offset:t,value:a}=(0,n.readUInt8)(e,t),{offset:t,value:l}=(0,n.readUsVarChar)(e,t),{offset:t,value:c}=(0,n.readBVarChar)(e,t),{offset:t,value:u}=(0,n.readBVarChar)(e,t),{offset:t,value:d}=r.tdsVersion<"7_2"?(0,n.readUInt16LE)(e,t):(0,n.readUInt32LE)(e,t),new n.Result({number:o,state:s,class:a,message:l,serverName:c,procName:u,lineNumber:d},t)}},73714:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(16725),i=r(32833),o=r(28981);let s={0:"SQL_DFLT",1:"SQL_TSQL"};function a(e,t,r){let a,l,c,u,d,h,f,p;if({offset:t,value:a}=(0,o.readUInt16LE)(e,t),e.length<a+t)throw new o.NotEnoughDataError(a+t);({offset:t,value:l}=(0,o.readUInt8)(e,t));let m=s[l];({offset:t,value:c}=(0,o.readUInt32BE)(e,t));let g=i.versionsByValue[c];return{offset:t,value:u}=(0,o.readBVarChar)(e,t),{offset:t,value:d}=(0,o.readUInt8)(e,t),{offset:t,value:h}=(0,o.readUInt8)(e,t),{offset:t,value:f}=(0,o.readUInt8)(e,t),{offset:t,value:p}=(0,o.readUInt8)(e,t),new o.Result(new n.LoginAckToken({interface:m,tdsVersion:g,progName:u,progVersion:{major:d,minor:h,buildNumHi:f,buildNumLow:p}}),t)}t.default=a,e.exports=a},83357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(16725),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(53521)),o=r(84147),s=r(28981);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}async function l(e){let t=e.colMetadata,r=[],a=[],l=Math.ceil(t.length/8);for(;e.buffer.length-e.position<l;)await e.waitForChunk();let c=e.buffer.slice(e.position,e.position+l);e.position+=l;for(let e=0,t=c.length;e<t;e++){let t=c[e];a.push(!!(1&t)),a.push(!!(2&t)),a.push(!!(4&t)),a.push(!!(8&t)),a.push(!!(16&t)),a.push(!!(32&t)),a.push(!!(64&t)),a.push(!!(128&t))}for(let n=0;n<t.length;n++){let l=t[n];if(a[n]){r.push({value:null,metadata:l});continue}for(;;){if((0,o.isPLPStream)(l)){let t=await (0,o.readPLPStream)(e);null===t?r.push({value:t,metadata:l}):"NVarChar"===l.type.name||"Xml"===l.type.name?r.push({value:Buffer.concat(t).toString("ucs2"),metadata:l}):"VarChar"===l.type.name?r.push({value:i.decode(Buffer.concat(t),l.collation?.codepage??"utf8"),metadata:l}):("VarBinary"===l.type.name||"UDT"===l.type.name)&&r.push({value:Buffer.concat(t),metadata:l})}else{let t;try{t=(0,o.readValue)(e.buffer,e.position,l,e.options)}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=t.offset,r.push({value:t.value,metadata:l})}break}}if(!e.options.useColumnNames)return new n.NBCRowToken(r);{let e=Object.create(null);return r.forEach(t=>{let r=t.metadata.colName;null==e[r]&&(e[r]=t)}),new n.NBCRowToken(e)}}t.default=l,e.exports=l},90394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(16725),i=r(28981);function o(e,t,r){let o;if({offset:t,value:o}=(0,i.readUInt16LE)(e,t),e.length<t+o)throw new i.NotEnoughDataError(t+o);let s=[];for(let r=0;r<o;r+=2){let r;({offset:t,value:r}=(0,i.readUInt16LE)(e,t)),s.push(r)}return new i.Result(new n.OrderToken(s),t)}t.default=o,e.exports=o},89616:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(28981),i=r(16725);function o(e,t,r){let o;return{value:o,offset:t}=(0,n.readInt32LE)(e,t),new n.Result(new i.ReturnStatusToken(o),t)}t.default=o,e.exports=o},1171:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(16725),i=r(46225),o=r(84147),s=r(28981),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(53521));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}async function c(e){let t,r,l,c;for(;;){let n=e.buffer,o=e.position;try{({offset:o,value:r}=(0,s.readUInt16LE)(n,o)),({offset:o,value:t}=(0,s.readBVarChar)(n,o)),({offset:o}=(0,s.readUInt8)(n,o)),({offset:o,value:l}=(0,i.readMetadata)(n,o,e.options)),"@"===t.charAt(0)&&(t=t.slice(1))}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=o;break}for(;;){let t=e.buffer,r=e.position;if((0,o.isPLPStream)(l)){let t=await (0,o.readPLPStream)(e);null===t?c=t:"NVarChar"===l.type.name||"Xml"===l.type.name?c=Buffer.concat(t).toString("ucs2"):"VarChar"===l.type.name?c=a.decode(Buffer.concat(t),l.collation?.codepage??"utf8"):("VarBinary"===l.type.name||"UDT"===l.type.name)&&(c=Buffer.concat(t))}else{try{({value:c,offset:r}=(0,o.readValue)(t,r,l,e.options))}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=r}break}return new n.ReturnValueToken({paramOrdinal:r,paramName:t,metadata:l,value:c})}t.default=c,e.exports=c},70918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(16725),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(53521)),o=r(84147),s=r(28981);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}async function l(e){let t=[];for(let r of e.colMetadata)for(;;){if((0,o.isPLPStream)(r)){let n=await (0,o.readPLPStream)(e);null===n?t.push({value:n,metadata:r}):"NVarChar"===r.type.name||"Xml"===r.type.name?t.push({value:Buffer.concat(n).toString("ucs2"),metadata:r}):"VarChar"===r.type.name?t.push({value:i.decode(Buffer.concat(n),r.collation?.codepage??"utf8"),metadata:r}):("VarBinary"===r.type.name||"UDT"===r.type.name)&&t.push({value:Buffer.concat(n),metadata:r})}else{let n;try{n=(0,o.readValue)(e.buffer,e.position,r,e.options)}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=n.offset,t.push({value:n.value,metadata:r})}break}if(!e.options.useColumnNames)return new n.RowToken(t);{let e=Object.create(null);return t.forEach(t=>{let r=t.metadata.colName;null==e[r]&&(e[r]=t)}),new n.RowToken(e)}}t.default=l,e.exports=l},1015:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(28981),i=r(16725);function o(e,t,r){let o;if({offset:t,value:o}=(0,n.readUInt16LE)(e,t),e.length<t+o)throw new n.NotEnoughDataError(t+o);let s=e.slice(t,t+o);return t+=o,new n.Result(new i.SSPIToken(function(e){let t={};return t.magic=e.slice(0,8).toString("utf8"),t.type=e.readInt32LE(8),t.domainLen=e.readInt16LE(12),t.domainMax=e.readInt16LE(14),t.domainOffset=e.readInt32LE(16),t.flags=e.readInt32LE(20),t.nonce=e.slice(24,32),t.zeroes=e.slice(32,40),t.targetLen=e.readInt16LE(40),t.targetMax=e.readInt16LE(42),t.targetOffset=e.readInt32LE(44),t.oddData=e.slice(48,56),t.domain=e.slice(56,56+t.domainLen).toString("ucs2"),t.target=e.slice(56+t.domainLen,56+t.domainLen+t.targetLen),t}(s),s),t)}t.default=o,e.exports=o},92780:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(16725),i=_(r(29499)),o=r(68032),s=_(r(98858)),a=r(39296),l=_(r(42672)),c=_(r(62966)),u=_(r(73714)),d=_(r(90394)),h=_(r(89616)),f=_(r(1171)),p=_(r(70918)),m=_(r(83357)),g=_(r(1015)),y=r(28981);function _(e){return e&&e.__esModule?e:{default:e}}class E{debug;colMetadata;options;iterator;buffer;position;static async *parseTokens(e,t,r,n=[]){let i=new E(e,t,r);for(i.colMetadata=n;;){try{await i.waitForChunk()}catch(e){if(i.position===i.buffer.length)return;throw e}for(;i.buffer.length>=i.position+1;){let e=i.buffer.readUInt8(i.position);i.position+=1;let t=i.readToken(e);void 0!==t&&(yield t)}}}readToken(e){switch(e){case n.TYPE.DONE:return this.readDoneToken();case n.TYPE.DONEPROC:return this.readDoneProcToken();case n.TYPE.DONEINPROC:return this.readDoneInProcToken();case n.TYPE.ERROR:return this.readErrorToken();case n.TYPE.INFO:return this.readInfoToken();case n.TYPE.ENVCHANGE:return this.readEnvChangeToken();case n.TYPE.LOGINACK:return this.readLoginAckToken();case n.TYPE.RETURNSTATUS:return this.readReturnStatusToken();case n.TYPE.ORDER:return this.readOrderToken();case n.TYPE.FEDAUTHINFO:return this.readFedAuthInfoToken();case n.TYPE.SSPI:return this.readSSPIToken();case n.TYPE.COLMETADATA:return this.readColMetadataToken();case n.TYPE.RETURNVALUE:return this.readReturnValueToken();case n.TYPE.ROW:return this.readRowToken();case n.TYPE.NBCROW:return this.readNbcRowToken();case n.TYPE.FEATUREEXTACK:return this.readFeatureExtAckToken();default:throw Error("Unknown type: "+e)}}readFeatureExtAckToken(){let e;try{e=(0,c.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readFeatureExtAckToken());throw e}return this.position=e.offset,e.value}async readNbcRowToken(){return await (0,m.default)(this)}async readReturnValueToken(){return await (0,f.default)(this)}async readColMetadataToken(){let e=await (0,i.default)(this);return this.colMetadata=e.columns,e}readSSPIToken(){let e;try{e=(0,g.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readSSPIToken());throw e}return this.position=e.offset,e.value}readFedAuthInfoToken(){let e;try{e=(0,l.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readFedAuthInfoToken());throw e}return this.position=e.offset,e.value}readOrderToken(){let e;try{e=(0,d.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readOrderToken());throw e}return this.position=e.offset,e.value}readReturnStatusToken(){let e;try{e=(0,h.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readReturnStatusToken());throw e}return this.position=e.offset,e.value}readLoginAckToken(){let e;try{e=(0,u.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readLoginAckToken());throw e}return this.position=e.offset,e.value}readEnvChangeToken(){let e;try{e=(0,s.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readEnvChangeToken());throw e}return this.position=e.offset,e.value}readRowToken(){return(0,p.default)(this)}readInfoToken(){let e;try{e=(0,a.infoParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readInfoToken());throw e}return this.position=e.offset,e.value}readErrorToken(){let e;try{e=(0,a.errorParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readErrorToken());throw e}return this.position=e.offset,e.value}readDoneInProcToken(){let e;try{e=(0,o.doneInProcParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneInProcToken());throw e}return this.position=e.offset,e.value}readDoneProcToken(){let e;try{e=(0,o.doneProcParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneProcToken());throw e}return this.position=e.offset,e.value}readDoneToken(){let e;try{e=(0,o.doneParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneToken());throw e}return this.position=e.offset,e.value}constructor(e,t,r){this.debug=t,this.colMetadata=[],this.options=r,this.iterator=(e[Symbol.asyncIterator]||e[Symbol.iterator]).call(e),this.buffer=Buffer.alloc(0),this.position=0}async waitForChunk(){let e=await this.iterator.next();if(e.done)throw Error("unexpected end of data");this.position===this.buffer.length?this.buffer=e.value:this.buffer=Buffer.concat([this.buffer.slice(this.position),e.value]),this.position=0}}t.default=E,e.exports=E},65580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var n=r(94735),i=function(e){return e&&e.__esModule?e:{default:e}}(r(92780)),o=r(27910);class s extends n.EventEmitter{constructor(e,t,r,n){super(),this.debug=t,this.options=n,this.parser=o.Readable.from(i.default.parseTokens(e,this.debug,this.options)),this.parser.on("data",e=>{t.token(e),r[e.handlerName](e)}),this.parser.on("drain",()=>{this.emit("drain")}),this.parser.on("end",()=>{this.emit("end")})}pause(){return this.parser.pause()}resume(){return this.parser.resume()}}t.Parser=s},16725:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=t.TYPE=t.SSPIToken=t.RowToken=t.RoutingEnvChangeToken=t.RollbackTransactionEnvChangeToken=t.ReturnValueToken=t.ReturnStatusToken=t.ResetConnectionEnvChangeToken=t.PacketSizeEnvChangeToken=t.OrderToken=t.NBCRowToken=t.LoginAckToken=t.LanguageEnvChangeToken=t.InfoMessageToken=t.FedAuthInfoToken=t.FeatureExtAckToken=t.ErrorMessageToken=t.DoneToken=t.DoneProcToken=t.DoneInProcToken=t.DatabaseMirroringPartnerEnvChangeToken=t.DatabaseEnvChangeToken=t.CommitTransactionEnvChangeToken=t.CollationChangeToken=t.ColMetadataToken=t.CharsetEnvChangeToken=t.BeginTransactionEnvChangeToken=void 0,t.TYPE={ALTMETADATA:136,ALTROW:211,COLMETADATA:129,COLINFO:165,DONE:253,DONEPROC:254,DONEINPROC:255,ENVCHANGE:227,ERROR:170,FEATUREEXTACK:174,FEDAUTHINFO:238,INFO:171,LOGINACK:173,NBCROW:210,OFFSET:120,ORDER:169,RETURNSTATUS:121,RETURNVALUE:172,ROW:209,SSPI:237,TABNAME:164};class r{constructor(e,t){this.name=e,this.handlerName=t}}t.Token=r;class n extends r{constructor(e){super("COLMETADATA","onColMetadata"),this.columns=e}}t.ColMetadataToken=n;class i extends r{constructor({more:e,sqlError:t,attention:r,serverError:n,rowCount:i,curCmd:o}){super("DONE","onDone"),this.more=e,this.sqlError=t,this.attention=r,this.serverError=n,this.rowCount=i,this.curCmd=o}}t.DoneToken=i;class o extends r{constructor({more:e,sqlError:t,attention:r,serverError:n,rowCount:i,curCmd:o}){super("DONEINPROC","onDoneInProc"),this.more=e,this.sqlError=t,this.attention=r,this.serverError=n,this.rowCount=i,this.curCmd=o}}t.DoneInProcToken=o;class s extends r{constructor({more:e,sqlError:t,attention:r,serverError:n,rowCount:i,curCmd:o}){super("DONEPROC","onDoneProc"),this.more=e,this.sqlError=t,this.attention=r,this.serverError=n,this.rowCount=i,this.curCmd=o}}t.DoneProcToken=s;class a extends r{constructor(e,t){super("ENVCHANGE","onDatabaseChange"),this.type="DATABASE",this.newValue=e,this.oldValue=t}}t.DatabaseEnvChangeToken=a;class l extends r{constructor(e,t){super("ENVCHANGE","onLanguageChange"),this.type="LANGUAGE",this.newValue=e,this.oldValue=t}}t.LanguageEnvChangeToken=l;class c extends r{constructor(e,t){super("ENVCHANGE","onCharsetChange"),this.type="CHARSET",this.newValue=e,this.oldValue=t}}t.CharsetEnvChangeToken=c;class u extends r{constructor(e,t){super("ENVCHANGE","onPacketSizeChange"),this.type="PACKET_SIZE",this.newValue=e,this.oldValue=t}}t.PacketSizeEnvChangeToken=u;class d extends r{constructor(e,t){super("ENVCHANGE","onBeginTransaction"),this.type="BEGIN_TXN",this.newValue=e,this.oldValue=t}}t.BeginTransactionEnvChangeToken=d;class h extends r{constructor(e,t){super("ENVCHANGE","onCommitTransaction"),this.type="COMMIT_TXN",this.newValue=e,this.oldValue=t}}t.CommitTransactionEnvChangeToken=h;class f extends r{constructor(e,t){super("ENVCHANGE","onRollbackTransaction"),this.type="ROLLBACK_TXN",this.newValue=e,this.oldValue=t}}t.RollbackTransactionEnvChangeToken=f;class p extends r{constructor(e,t){super("ENVCHANGE","onDatabaseMirroringPartner"),this.type="DATABASE_MIRRORING_PARTNER",this.newValue=e,this.oldValue=t}}t.DatabaseMirroringPartnerEnvChangeToken=p;class m extends r{constructor(e,t){super("ENVCHANGE","onResetConnection"),this.type="RESET_CONNECTION",this.newValue=e,this.oldValue=t}}t.ResetConnectionEnvChangeToken=m;class g extends r{constructor(e,t){super("ENVCHANGE","onSqlCollationChange"),this.type="SQL_COLLATION",this.newValue=e,this.oldValue=t}}t.CollationChangeToken=g;class y extends r{constructor(e,t){super("ENVCHANGE","onRoutingChange"),this.type="ROUTING_CHANGE",this.newValue=e,this.oldValue=t}}t.RoutingEnvChangeToken=y;class _ extends r{constructor(e,t){super("FEATUREEXTACK","onFeatureExtAck"),this.fedAuth=e,this.utf8Support=t}}t.FeatureExtAckToken=_;class E extends r{constructor(e,t){super("FEDAUTHINFO","onFedAuthInfo"),this.spn=e,this.stsurl=t}}t.FedAuthInfoToken=E;class v extends r{constructor({number:e,state:t,class:r,message:n,serverName:i,procName:o,lineNumber:s}){super("INFO","onInfoMessage"),this.number=e,this.state=t,this.class=r,this.message=n,this.serverName=i,this.procName=o,this.lineNumber=s}}t.InfoMessageToken=v;class b extends r{constructor({number:e,state:t,class:r,message:n,serverName:i,procName:o,lineNumber:s}){super("ERROR","onErrorMessage"),this.number=e,this.state=t,this.class=r,this.message=n,this.serverName=i,this.procName=o,this.lineNumber=s}}t.ErrorMessageToken=b;class T extends r{constructor({interface:e,tdsVersion:t,progName:r,progVersion:n}){super("LOGINACK","onLoginAck"),this.interface=e,this.tdsVersion=t,this.progName=r,this.progVersion=n}}t.LoginAckToken=T;class w extends r{constructor(e){super("NBCROW","onRow"),this.columns=e}}t.NBCRowToken=w;class S extends r{constructor(e){super("ORDER","onOrder"),this.orderColumns=e}}t.OrderToken=S;class A extends r{constructor(e){super("RETURNSTATUS","onReturnStatus"),this.value=e}}t.ReturnStatusToken=A;class C extends r{constructor({paramOrdinal:e,paramName:t,metadata:r,value:n}){super("RETURNVALUE","onReturnValue"),this.paramOrdinal=e,this.paramName=t,this.metadata=r,this.value=n}}t.ReturnValueToken=C;class O extends r{constructor(e){super("ROW","onRow"),this.columns=e}}t.RowToken=O;class I extends r{constructor(e,t){super("SSPICHALLENGE","onSSPI"),this.ntlmpacket=e,this.ntlmpacketBuffer=t}}t.SSPIToken=I},49184:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([254,255,255,255,255,255,255,255]),n=Buffer.alloc(0);class i{constructor(e,t,r){this.initialSize=e,this.encoding=t||"ucs2",this.doubleSizeGrowth=r||!1,this.buffer=Buffer.alloc(this.initialSize,0),this.compositeBuffer=n,this.position=0}get data(){return this.newBuffer(0),this.compositeBuffer}copyFrom(e){let t=e.length;this.makeRoomFor(t),e.copy(this.buffer,this.position),this.position+=t}makeRoomFor(e){if(this.buffer.length-this.position<e){if(this.doubleSizeGrowth){let t=Math.max(128,2*this.buffer.length);for(;t<e;)t*=2;this.newBuffer(t)}else this.newBuffer(e)}}newBuffer(e){let t=this.buffer.slice(0,this.position);this.compositeBuffer=Buffer.concat([this.compositeBuffer,t]),this.buffer=0===e?n:Buffer.alloc(e,0),this.position=0}writeUInt8(e){this.makeRoomFor(1),this.buffer.writeUInt8(e,this.position),this.position+=1}writeUInt16LE(e){this.makeRoomFor(2),this.buffer.writeUInt16LE(e,this.position),this.position+=2}writeUShort(e){this.writeUInt16LE(e)}writeUInt16BE(e){this.makeRoomFor(2),this.buffer.writeUInt16BE(e,this.position),this.position+=2}writeUInt24LE(e){this.makeRoomFor(3),this.buffer[this.position+2]=e>>>16&255,this.buffer[this.position+1]=e>>>8&255,this.buffer[this.position]=255&e,this.position+=3}writeUInt32LE(e){this.makeRoomFor(4),this.buffer.writeUInt32LE(e,this.position),this.position+=4}writeBigInt64LE(e){this.makeRoomFor(8),this.buffer.writeBigInt64LE(e,this.position),this.position+=8}writeInt64LE(e){this.writeBigInt64LE(BigInt(e))}writeUInt64LE(e){this.writeBigUInt64LE(BigInt(e))}writeBigUInt64LE(e){this.makeRoomFor(8),this.buffer.writeBigUInt64LE(e,this.position),this.position+=8}writeUInt32BE(e){this.makeRoomFor(4),this.buffer.writeUInt32BE(e,this.position),this.position+=4}writeUInt40LE(e){this.writeInt32LE(-1&e),this.writeUInt8(Math.floor(23283064365386963e-26*e))}writeInt8(e){this.makeRoomFor(1),this.buffer.writeInt8(e,this.position),this.position+=1}writeInt16LE(e){this.makeRoomFor(2),this.buffer.writeInt16LE(e,this.position),this.position+=2}writeInt16BE(e){this.makeRoomFor(2),this.buffer.writeInt16BE(e,this.position),this.position+=2}writeInt32LE(e){this.makeRoomFor(4),this.buffer.writeInt32LE(e,this.position),this.position+=4}writeInt32BE(e){this.makeRoomFor(4),this.buffer.writeInt32BE(e,this.position),this.position+=4}writeFloatLE(e){this.makeRoomFor(4),this.buffer.writeFloatLE(e,this.position),this.position+=4}writeDoubleLE(e){this.makeRoomFor(8),this.buffer.writeDoubleLE(e,this.position),this.position+=8}writeString(e,t){null==t&&(t=this.encoding);let r=Buffer.byteLength(e,t);this.makeRoomFor(r),this.buffer.write(e,this.position,t),this.position+=r}writeBVarchar(e,t){this.writeUInt8(e.length),this.writeString(e,t)}writeUsVarchar(e,t){this.writeUInt16LE(e.length),this.writeString(e,t)}writeUsVarbyte(e,t){let r;null==t&&(t=this.encoding),e instanceof Buffer?r=e.length:(e=e.toString(),r=Buffer.byteLength(e,t)),this.writeUInt16LE(r),e instanceof Buffer?this.writeBuffer(e):(this.makeRoomFor(r),this.buffer.write(e,this.position,t),this.position+=r)}writePLPBody(e,t){let n;null==t&&(t=this.encoding),e instanceof Buffer?n=e.length:(e=e.toString(),n=Buffer.byteLength(e,t)),this.writeBuffer(r),n>0&&(this.writeUInt32LE(n),e instanceof Buffer?this.writeBuffer(e):(this.makeRoomFor(n),this.buffer.write(e,this.position,t),this.position+=n)),this.writeUInt32LE(0)}writeBuffer(e){let t=e.length;this.makeRoomFor(t),e.copy(this.buffer,this.position),this.position+=t}writeMoney(e){this.writeInt32LE(Math.floor(23283064365386963e-26*e)),this.writeInt32LE(-1&e)}}t.default=i,e.exports=i},36378:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.OPERATION_TYPE=t.ISOLATION_LEVEL=void 0,t.assertValidIsolationLevel=function(e,t){if("number"!=typeof e)throw TypeError(`The "${t}" ${t.includes(".")?"property":"argument"} must be of type number. Received type ${typeof e} (${e})`);if(!Number.isInteger(e))throw RangeError(`The value of "${t}" is out of range. It must be an integer. Received: ${e}`);if(!(e>=0&&e<=5))throw RangeError(`The value of "${t}" is out of range. It must be >= 0 && <= 5. Received: ${e}`)},t.isolationLevelByValue=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(49184)),i=r(48114);let o=t.OPERATION_TYPE={TM_GET_DTC_ADDRESS:0,TM_PROPAGATE_XACT:1,TM_BEGIN_XACT:5,TM_PROMOTE_XACT:6,TM_COMMIT_XACT:7,TM_ROLLBACK_XACT:8,TM_SAVE_XACT:9},s=t.ISOLATION_LEVEL={NO_CHANGE:0,READ_UNCOMMITTED:1,READ_COMMITTED:2,REPEATABLE_READ:3,SERIALIZABLE:4,SNAPSHOT:5},a=t.isolationLevelByValue={};for(let e in s)a[s[e]]=e;class l{constructor(e,t=s.NO_CHANGE){this.name=e,this.isolationLevel=t,this.outstandingRequestCount=1}beginPayload(e){let t=new n.default(100,"ucs2");return(0,i.writeToTrackingBuffer)(t,e,this.outstandingRequestCount),t.writeUShort(o.TM_BEGIN_XACT),t.writeUInt8(this.isolationLevel),t.writeUInt8(2*this.name.length),t.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield t.data},toString:()=>"Begin Transaction: name="+this.name+", isolationLevel="+a[this.isolationLevel]}}commitPayload(e){let t=new n.default(100,"ascii");return(0,i.writeToTrackingBuffer)(t,e,this.outstandingRequestCount),t.writeUShort(o.TM_COMMIT_XACT),t.writeUInt8(2*this.name.length),t.writeString(this.name,"ucs2"),t.writeUInt8(0),{*[Symbol.iterator](){yield t.data},toString:()=>"Commit Transaction: name="+this.name}}rollbackPayload(e){let t=new n.default(100,"ascii");return(0,i.writeToTrackingBuffer)(t,e,this.outstandingRequestCount),t.writeUShort(o.TM_ROLLBACK_XACT),t.writeUInt8(2*this.name.length),t.writeString(this.name,"ucs2"),t.writeUInt8(0),{*[Symbol.iterator](){yield t.data},toString:()=>"Rollback Transaction: name="+this.name}}savePayload(e){let t=new n.default(100,"ascii");return(0,i.writeToTrackingBuffer)(t,e,this.outstandingRequestCount),t.writeUShort(o.TM_SAVE_XACT),t.writeUInt8(2*this.name.length),t.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield t.data},toString:()=>"Save Transaction: name="+this.name}}isolationLevelToTSQL(){switch(this.isolationLevel){case s.READ_UNCOMMITTED:return"READ UNCOMMITTED";case s.READ_COMMITTED:return"READ COMMITTED";case s.REPEATABLE_READ:return"REPEATABLE READ";case s.SERIALIZABLE:return"SERIALIZABLE";case s.SNAPSHOT:return"SNAPSHOT"}return""}}t.Transaction=l},11998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransientErrorLookup=void 0;class r{isTransientError(e){return -1!==[4060,10928,10929,40197,40501,40613].indexOf(e)}}t.TransientErrorLookup=r},64072:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=i;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(84668));async function i(e,t,r){let i=new AbortController,o=()=>{i.abort()},s=setTimeout(o,e);r?.addEventListener("abort",o,{once:!0});try{return await t(i.signal)}catch(e){if(e instanceof Error&&"AbortError"===e.name&&!(r&&r.aborted))throw new n.default;throw e}finally{r?.removeEventListener("abort",o),clearTimeout(s)}}},84147:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPLPStream=v,t.readPLPStream=C,t.readValue=E;var n=r(46225),i=r(21053),o=function(e){return e&&e.__esModule?e:{default:e}}(r(53521)),s=r(45284),a=r(64041),l=r(28981);let c=3+1/3;function u(e,t){return(0,l.readUInt8)(e,t)}function d(e,t){return(0,l.readInt16LE)(e,t)}function h(e,t){return(0,l.readInt32LE)(e,t)}function f(e,t){let r;return{offset:t,value:r}=(0,l.readBigInt64LE)(e,t),new l.Result(r.toString(),t)}function p(e,t){return(0,l.readFloatLE)(e,t)}function m(e,t){return(0,l.readDoubleLE)(e,t)}function g(e,t){let r;return{offset:t,value:r}=(0,l.readInt32LE)(e,t),new l.Result(r/1e4,t)}function y(e,t){let r,n;return{offset:t,value:r}=(0,l.readInt32LE)(e,t),{offset:t,value:n}=(0,l.readUInt32LE)(e,t),new l.Result((n+0x100000000*r)/1e4,t)}function _(e,t){let r;return{offset:t,value:r}=(0,l.readUInt8)(e,t),new l.Result(!!r,t)}function E(e,t,r,o){switch(r.type.name){case"Null":return new l.Result(null,t);case"TinyInt":return u(e,t);case"SmallInt":return d(e,t);case"Int":return h(e,t);case"BigInt":return f(e,t);case"IntN":{let r;switch({offset:t,value:r}=(0,l.readUInt8)(e,t),r){case 0:return new l.Result(null,t);case 1:return u(e,t);case 2:return d(e,t);case 4:return h(e,t);case 8:return f(e,t);default:throw Error("Unsupported dataLength "+r+" for IntN")}}case"Real":return p(e,t);case"Float":return m(e,t);case"FloatN":{let r;switch({offset:t,value:r}=(0,l.readUInt8)(e,t),r){case 0:return new l.Result(null,t);case 4:return p(e,t);case 8:return m(e,t);default:throw Error("Unsupported dataLength "+r+" for FloatN")}}case"SmallMoney":return g(e,t);case"Money":return y(e,t);case"MoneyN":{let r;switch({offset:t,value:r}=(0,l.readUInt8)(e,t),r){case 0:return new l.Result(null,t);case 4:return g(e,t);case 8:return y(e,t);default:throw Error("Unsupported dataLength "+r+" for MoneyN")}}case"Bit":return _(e,t);case"BitN":{let r;switch({offset:t,value:r}=(0,l.readUInt8)(e,t),r){case 0:return new l.Result(null,t);case 1:return _(e,t);default:throw Error("Unsupported dataLength "+r+" for BitN")}}case"VarChar":case"Char":{let n;let i=r.collation.codepage;if({offset:t,value:n}=(0,l.readUInt16LE)(e,t),65535===n)return new l.Result(null,t);return S(e,t,n,i)}case"NVarChar":case"NChar":{let r;if({offset:t,value:r}=(0,l.readUInt16LE)(e,t),65535===r)return new l.Result(null,t);return A(e,t,r)}case"VarBinary":case"Binary":{let r;if({offset:t,value:r}=(0,l.readUInt16LE)(e,t),65535===r)return new l.Result(null,t);return w(e,t,r)}case"Text":{let n,i;if({offset:t,value:n}=(0,l.readUInt8)(e,t),0===n)return new l.Result(null,t);return{offset:t}=w(e,t,n),{offset:t}=w(e,t,8),{offset:t,value:i}=(0,l.readUInt32LE)(e,t),S(e,t,i,r.collation.codepage)}case"NText":{let r,n;if({offset:t,value:r}=(0,l.readUInt8)(e,t),0===r)return new l.Result(null,t);return{offset:t}=w(e,t,r),{offset:t}=w(e,t,8),{offset:t,value:n}=(0,l.readUInt32LE)(e,t),A(e,t,n)}case"Image":{let r,n;if({offset:t,value:r}=(0,l.readUInt8)(e,t),0===r)return new l.Result(null,t);return{offset:t}=w(e,t,r),{offset:t}=w(e,t,8),{offset:t,value:n}=(0,l.readUInt32LE)(e,t),w(e,t,n)}case"SmallDateTime":return O(e,t,o.useUTC);case"DateTime":return I(e,t,o.useUTC);case"DateTimeN":{let r;switch({offset:t,value:r}=(0,l.readUInt8)(e,t),r){case 0:return new l.Result(null,t);case 4:return O(e,t,o.useUTC);case 8:return I(e,t,o.useUTC);default:throw Error("Unsupported dataLength "+r+" for DateTimeN")}}case"Time":{let n;if({offset:t,value:n}=(0,l.readUInt8)(e,t),0===n)return new l.Result(null,t);return N(e,t,n,r.scale,o.useUTC)}case"Date":{let r;if({offset:t,value:r}=(0,l.readUInt8)(e,t),0===r)return new l.Result(null,t);return R(e,t,o.useUTC)}case"DateTime2":{let n;if({offset:t,value:n}=(0,l.readUInt8)(e,t),0===n)return new l.Result(null,t);return P(e,t,n,r.scale,o.useUTC)}case"DateTimeOffset":{let n;if({offset:t,value:n}=(0,l.readUInt8)(e,t),0===n)return new l.Result(null,t);return D(e,t,n,r.scale)}case"NumericN":case"DecimalN":{let n;if({offset:t,value:n}=(0,l.readUInt8)(e,t),0===n)return new l.Result(null,t);return T(e,t,n,r.precision,r.scale)}case"UniqueIdentifier":{let r;switch({offset:t,value:r}=(0,l.readUInt8)(e,t),r){case 0:return new l.Result(null,t);case 16:return b(e,t,o);default:throw Error((0,s.sprintf)("Unsupported guid size %d",r-1))}}case"Variant":{let r;if({offset:t,value:r}=(0,l.readUInt32LE)(e,t),0===r)return new l.Result(null,t);return function(e,t,r,o){let s,a;({value:s,offset:t}=(0,l.readUInt8)(e,t));let c=i.TYPE[s];switch({value:a,offset:t}=(0,l.readUInt8)(e,t),o=o-a-2,c.name){case"UniqueIdentifier":return b(e,t,r);case"Bit":return _(e,t);case"TinyInt":return u(e,t);case"SmallInt":return d(e,t);case"Int":return h(e,t);case"BigInt":return f(e,t);case"SmallDateTime":return O(e,t,r.useUTC);case"DateTime":return I(e,t,r.useUTC);case"Real":return p(e,t);case"Float":return m(e,t);case"SmallMoney":return g(e,t);case"Money":return y(e,t);case"Date":return R(e,t,r.useUTC);case"Time":{let n;return{value:n,offset:t}=(0,l.readUInt8)(e,t),N(e,t,o,n,r.useUTC)}case"DateTime2":{let n;return{value:n,offset:t}=(0,l.readUInt8)(e,t),P(e,t,o,n,r.useUTC)}case"DateTimeOffset":{let r;return{value:r,offset:t}=(0,l.readUInt8)(e,t),D(e,t,o,r)}case"VarBinary":case"Binary":return{offset:t}=(0,l.readUInt16LE)(e,t),w(e,t,o);case"NumericN":case"DecimalN":{let r,n;return{value:r,offset:t}=(0,l.readUInt8)(e,t),{value:n,offset:t}=(0,l.readUInt8)(e,t),T(e,t,o,r,n)}case"VarChar":case"Char":{let r;return{offset:t}=(0,l.readUInt16LE)(e,t),{value:r,offset:t}=(0,n.readCollation)(e,t),S(e,t,o,r.codepage)}case"NVarChar":case"NChar":return{offset:t}=(0,l.readUInt16LE)(e,t),{offset:t}=(0,n.readCollation)(e,t),A(e,t,o);default:throw Error("Invalid type!")}}(e,t,o,r)}default:throw Error("Invalid type!")}}function v(e){switch(e.type.name){case"VarChar":case"NVarChar":case"VarBinary":return 65535===e.dataLength;case"Xml":case"UDT":return!0}}function b(e,t,r){let n;return{value:n,offset:t}=w(e,t,16),new l.Result(r.lowerCaseGuids?(0,a.bufferToLowerCaseGuid)(n):(0,a.bufferToUpperCaseGuid)(n),t)}function T(e,t,r,n,i){let o,a;if({offset:t,value:o}=(0,l.readUInt8)(e,t),o=1===o?1:-1,5===r)({offset:t,value:a}=(0,l.readUInt32LE)(e,t));else if(9===r)({offset:t,value:a}=(0,l.readUNumeric64LE)(e,t));else if(13===r)({offset:t,value:a}=(0,l.readUNumeric96LE)(e,t));else if(17===r)({offset:t,value:a}=(0,l.readUNumeric128LE)(e,t));else throw Error((0,s.sprintf)("Unsupported numeric dataLength %d",r));return new l.Result(a*o/Math.pow(10,i),t)}function w(e,t,r){if(e.length<t+r)throw new l.NotEnoughDataError(t+r);return new l.Result(e.slice(t,t+r),t+r)}function S(e,t,r,n){if(e.length<t+r)throw new l.NotEnoughDataError(t+r);return new l.Result(o.default.decode(e.slice(t,t+r),n??"utf8"),t+r)}function A(e,t,r){if(e.length<t+r)throw new l.NotEnoughDataError(t+r);return new l.Result(e.toString("ucs2",t,t+r),t+r)}async function C(e){for(;e.buffer.length<e.position+8;)await e.waitForChunk();let t=e.buffer.readBigUInt64LE(e.position);if(e.position+=8,0xffffffffffffffffn===t)return null;let r=[],n=0;for(;;){for(;e.buffer.length<e.position+4;)await e.waitForChunk();let t=e.buffer.readUInt32LE(e.position);if(e.position+=4,!t)break;for(;e.buffer.length<e.position+t;)await e.waitForChunk();r.push(e.buffer.slice(e.position,e.position+t)),e.position+=t,n+=t}if(0xfffffffffffffffen!==t&&n!==Number(t))throw Error("Partially Length-prefixed Bytes unmatched lengths : expected "+t+", but got "+n+" bytes");return r}function O(e,t,r){let n,i,o;return{offset:t,value:n}=(0,l.readUInt16LE)(e,t),{offset:t,value:i}=(0,l.readUInt16LE)(e,t),o=r?new Date(Date.UTC(1900,0,1+n,0,i)):new Date(1900,0,1+n,0,i),new l.Result(o,t)}function I(e,t,r){let n,i,o;({offset:t,value:n}=(0,l.readInt32LE)(e,t)),{offset:t,value:i}=(0,l.readInt32LE)(e,t);let s=Math.round(i*c);return o=r?new Date(Date.UTC(1900,0,1+n,0,0,0,s)):new Date(1900,0,1+n,0,0,0,s),new l.Result(o,t)}function N(e,t,r,n,i){let o,s;switch(r){case 3:({value:o,offset:t}=(0,l.readUInt24LE)(e,t));break;case 4:({value:o,offset:t}=(0,l.readUInt32LE)(e,t));break;case 5:({value:o,offset:t}=(0,l.readUInt40LE)(e,t));break;default:throw Error("unreachable")}if(n<7)for(let e=n;e<7;e++)o*=10;return Object.defineProperty(s=i?new Date(Date.UTC(1970,0,1,0,0,0,o/1e4)):new Date(1970,0,1,0,0,0,o/1e4),"nanosecondsDelta",{enumerable:!1,value:o%1e4/1e7}),new l.Result(s,t)}function R(e,t,r){let n;return({offset:t,value:n}=(0,l.readUInt24LE)(e,t),r)?new l.Result(new Date(Date.UTC(2e3,0,n-730118)),t):new l.Result(new Date(2e3,0,n-730118),t)}function P(e,t,r,n,i){let o,s,a;return{offset:t,value:o}=N(e,t,r-3,n,i),{offset:t,value:s}=(0,l.readUInt24LE)(e,t),Object.defineProperty(a=i?new Date(Date.UTC(2e3,0,s-730118,0,0,0,+o)):new Date(2e3,0,s-730118,o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()),"nanosecondsDelta",{enumerable:!1,value:o.nanosecondsDelta}),new l.Result(a,t)}function D(e,t,r,n){let i,o;({offset:t,value:i}=N(e,t,r-5,n,!0)),({offset:t,value:o}=(0,l.readUInt24LE)(e,t)),{offset:t}=(0,l.readUInt16LE)(e,t);let s=new Date(Date.UTC(2e3,0,o-730118,0,0,0,+i));return Object.defineProperty(s,"nanosecondsDelta",{enumerable:!1,value:i.nanosecondsDelta}),new l.Result(s,t)}e.exports.readValue=E,e.exports.isPLPStream=v,e.exports.readPLPStream=C},24610:(e,t,r)=>{"use strict";let n,i;r.r(t),r.d(t,{NIL:()=>T,parse:()=>y,stringify:()=>f,v1:()=>g,v3:()=>E,v4:()=>v,v5:()=>b,validate:()=>d,version:()=>w});var o=r(55511),s=r.n(o);let a=new Uint8Array(256),l=a.length;function c(){return l>a.length-16&&(s().randomFillSync(a),l=0),a.slice(l,l+=16)}let u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,d=function(e){return"string"==typeof e&&u.test(e)},h=[];for(let e=0;e<256;++e)h.push((e+256).toString(16).substr(1));let f=function(e,t=0){let r=(h[e[t+0]]+h[e[t+1]]+h[e[t+2]]+h[e[t+3]]+"-"+h[e[t+4]]+h[e[t+5]]+"-"+h[e[t+6]]+h[e[t+7]]+"-"+h[e[t+8]]+h[e[t+9]]+"-"+h[e[t+10]]+h[e[t+11]]+h[e[t+12]]+h[e[t+13]]+h[e[t+14]]+h[e[t+15]]).toLowerCase();if(!d(r))throw TypeError("Stringified UUID is invalid");return r},p=0,m=0,g=function(e,t,r){let o=t&&r||0,s=t||Array(16),a=(e=e||{}).node||n,l=void 0!==e.clockseq?e.clockseq:i;if(null==a||null==l){let t=e.random||(e.rng||c)();null==a&&(a=n=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==l&&(l=i=(t[6]<<8|t[7])&16383)}let u=void 0!==e.msecs?e.msecs:Date.now(),d=void 0!==e.nsecs?e.nsecs:m+1,h=u-p+(d-m)/1e4;if(h<0&&void 0===e.clockseq&&(l=l+1&16383),(h<0||u>p)&&void 0===e.nsecs&&(d=0),d>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");p=u,m=d,i=l;let g=((0xfffffff&(u+=122192928e5))*1e4+d)%0x100000000;s[o++]=g>>>24&255,s[o++]=g>>>16&255,s[o++]=g>>>8&255,s[o++]=255&g;let y=u/0x100000000*1e4&0xfffffff;s[o++]=y>>>8&255,s[o++]=255&y,s[o++]=y>>>24&15|16,s[o++]=y>>>16&255,s[o++]=l>>>8|128,s[o++]=255&l;for(let e=0;e<6;++e)s[o+e]=a[e];return t||f(s)},y=function(e){let t;if(!d(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function _(e,t,r){function n(e,n,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=y(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),(s=r(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(let e=0;e<16;++e)i[o+e]=s[e];return i}return f(s)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}let E=_("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),s().createHash("md5").update(e).digest()}),v=function(e,t,r){let n=(e=e||{}).random||(e.rng||c)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return f(n)},b=_("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),s().createHash("sha1").update(e).digest()}),T="00000000-0000-0000-0000-000000000000",w=function(e){if(!d(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},25504:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbortError=void 0;class r extends Error{constructor(e){super(e),this.name="AbortError"}}t.AbortError=r},32434:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbortError=void 0;var n=r(25504);Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return n.AbortError}})},81738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureKeyCredential=void 0;class r{get key(){return this._key}constructor(e){if(!e)throw Error("key must be a non-empty string");this._key=e}update(e){this._key=e}}t.AzureKeyCredential=r},53947:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureNamedKeyCredential=void 0,t.isNamedKeyCredential=function(e){return(0,n.isObjectWithProperties)(e,["name","key"])&&"string"==typeof e.key&&"string"==typeof e.name};let n=r(60455);class i{get key(){return this._key}get name(){return this._name}constructor(e,t){if(!e||!t)throw TypeError("name and key must be non-empty strings");this._name=e,this._key=t}update(e,t){if(!e||!t)throw TypeError("newName and newKey must be non-empty strings");this._name=e,this._key=t}}t.AzureNamedKeyCredential=i},6600:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureSASCredential=void 0,t.isSASCredential=function(e){return(0,n.isObjectWithProperties)(e,["signature"])&&"string"==typeof e.signature};let n=r(60455);class i{get signature(){return this._signature}constructor(e){if(!e)throw Error("shared access signature must be a non-empty string");this._signature=e}update(e){if(!e)throw Error("shared access signature must be a non-empty string");this._signature=e}}t.AzureSASCredential=i},51553:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTokenCredential=t.isSASCredential=t.AzureSASCredential=t.isNamedKeyCredential=t.AzureNamedKeyCredential=t.isKeyCredential=t.AzureKeyCredential=void 0;var n=r(81738);Object.defineProperty(t,"AzureKeyCredential",{enumerable:!0,get:function(){return n.AzureKeyCredential}});var i=r(46375);Object.defineProperty(t,"isKeyCredential",{enumerable:!0,get:function(){return i.isKeyCredential}});var o=r(53947);Object.defineProperty(t,"AzureNamedKeyCredential",{enumerable:!0,get:function(){return o.AzureNamedKeyCredential}}),Object.defineProperty(t,"isNamedKeyCredential",{enumerable:!0,get:function(){return o.isNamedKeyCredential}});var s=r(6600);Object.defineProperty(t,"AzureSASCredential",{enumerable:!0,get:function(){return s.AzureSASCredential}}),Object.defineProperty(t,"isSASCredential",{enumerable:!0,get:function(){return s.isSASCredential}});var a=r(97249);Object.defineProperty(t,"isTokenCredential",{enumerable:!0,get:function(){return a.isTokenCredential}})},46375:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKeyCredential=function(e){return(0,n.isObjectWithProperties)(e,["key"])&&"string"==typeof e.key};let n=r(60455)},97249:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBearerToken=function(e){return!e.tokenType||"Bearer"===e.tokenType},t.isPopToken=function(e){return"pop"===e.tokenType},t.isTokenCredential=function(e){return e&&"function"==typeof e.getToken&&(void 0===e.signRequest||e.getToken.length>0)}},34286:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authorizeRequestOnClaimChallenge=t.parseCAEChallenge=void 0;let n=r(39782),i=r(44653);function o(e){return`, ${e.trim()}`.split(", Bearer ").filter(e=>e).map(e=>`${e.trim()}, `.split('", ').filter(e=>e).map(e=>(([e,t])=>({[e]:t}))(e.trim().split('="'))).reduce((e,t)=>Object.assign(Object.assign({},e),t),{}))}async function s(e){let{scopes:t,response:r}=e,s=e.logger||n.logger,a=r.headers.get("WWW-Authenticate");if(!a)return s.info("The WWW-Authenticate header was missing. Failed to perform the Continuous Access Evaluation authentication flow."),!1;let l=(o(a)||[]).find(e=>e.claims);if(!l)return s.info('The WWW-Authenticate header was missing the necessary "claims" to perform the Continuous Access Evaluation authentication flow.'),!1;let c=await e.getAccessToken(l.scope?[l.scope]:t,{claims:(0,i.decodeStringToString)(l.claims)});return!!c&&(e.request.headers.set("Authorization",`Bearer ${c.token}`),!0)}t.parseCAEChallenge=o,t.authorizeRequestOnClaimChallenge=s},13346:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authorizeRequestOnTenantChallenge=void 0;let r={DefaultScope:"/.default",HeaderConstants:{AUTHORIZATION:"authorization"}},n=async e=>{let t=function(e){return{abortSignal:e.abortSignal,requestOptions:{timeout:e.timeout},tracingOptions:e.tracingOptions}}(e.request),n=function(e){let t=e.headers.get("WWW-Authenticate");if(401===e.status&&t)return t}(e.response);if(n){let i=function(e){let t=e.slice(7);return`${t.trim()} `.split(" ").filter(e=>e).map(e=>(([e,t])=>({[e]:t}))(e.trim().split("="))).reduce((e,t)=>Object.assign(Object.assign({},e),t),{})}(n),o=function(e,t){if(!t.resource_id)return e.scopes;let n=new URL(t.resource_id);n.pathname=r.DefaultScope;let i=n.toString();return"https://disk.azure.com/.default"===i&&(i="https://disk.azure.com//.default"),[i]}(e,i),s=function(e){let t=new URL(e.authorization_uri).pathname.split("/")[1];if(t&&/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(t))return t}(i);if(!s)return!1;let a=await e.getAccessToken(o,Object.assign(Object.assign({},t),{tenantId:s}));return!!a&&(e.request.headers.set(r.HeaderConstants.AUTHORIZATION,`Bearer ${a.token}`),!0)}return!1};t.authorizeRequestOnTenantChallenge=n},44653:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeStringToString=t.decodeString=t.encodeByteArray=t.encodeString=void 0,t.encodeString=function(e){return Buffer.from(e).toString("base64")},t.encodeByteArray=function(e){return(e instanceof Buffer?e:Buffer.from(e.buffer)).toString("base64")},t.decodeString=function(e){return Buffer.from(e,"base64")},t.decodeStringToString=function(e){return Buffer.from(e,"base64").toString()}},94715:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializationPolicy=t.deserializationPolicyName=void 0;let n=r(54182),i=r(65350),o=r(39222),s=r(18624),a=["application/json","text/json"],l=["application/xml","application/atom+xml"];async function c(e,t,r,n,a){let l=await u(e,t,r,n,a);if(!function(e){let t=e.request,r=(0,s.getOperationRequestInfo)(t),n=null==r?void 0:r.shouldDeserialize;return void 0===n||("boolean"==typeof n?n:n(e))}(l))return l;let c=(0,s.getOperationRequestInfo)(l.request),d=null==c?void 0:c.operationSpec;if(!d||!d.responses)return l;let h=function(e){let t;let r=e.request,n=(0,s.getOperationRequestInfo)(r),i=null==n?void 0:n.operationSpec;return i&&(t=(null==n?void 0:n.operationResponseGetter)?null==n?void 0:n.operationResponseGetter(i,e):i.responses[e.status]),t}(l),{error:f,shouldReturnResponse:p}=function(e,t,r,n){var s;let a=200<=e.status&&e.status<300;if((!function(e){let t=Object.keys(e.responses);return 0===t.length||1===t.length&&"default"===t[0]}(t)?!!r:a)&&(!r||!r.isError))return{error:null,shouldReturnResponse:!1};let l=null!=r?r:t.responses.default,c=(null===(s=e.request.streamResponseStatusCodes)||void 0===s?void 0:s.has(e.status))?`Unexpected status code: ${e.status}`:e.bodyAsText,u=new i.RestError(c,{statusCode:e.status,request:e.request,response:e});if(!l)throw u;let d=l.bodyMapper,h=l.headersMapper;try{if(e.parsedBody){let r;let i=e.parsedBody;if(d){let e=i;if(t.isXML&&d.type.name===o.MapperTypeNames.Sequence){e=[];let t=d.xmlElementName;"object"==typeof i&&t&&(e=i[t])}r=t.serializer.deserialize(d,e,"error.response.parsedBody",n)}let s=i.error||r||i;u.code=s.code,s.message&&(u.message=s.message),d&&(u.response.parsedBody=r)}e.headers&&h&&(u.response.parsedHeaders=t.serializer.deserialize(h,e.headers.toJSON(),"operationRes.parsedHeaders"))}catch(t){u.message=`Error "${t.message}" occurred in deserializing the responseBody - "${e.bodyAsText}" for the default response.`}return{error:u,shouldReturnResponse:!1}}(l,d,h,n);if(f)throw f;if(p)return l;if(h){if(h.bodyMapper){let e=l.parsedBody;d.isXML&&h.bodyMapper.type.name===o.MapperTypeNames.Sequence&&(e="object"==typeof e?e[h.bodyMapper.xmlElementName]:[]);try{l.parsedBody=d.serializer.deserialize(h.bodyMapper,e,"operationRes.parsedBody",n)}catch(e){throw new i.RestError(`Error ${e} occurred in deserializing the responseBody - ${l.bodyAsText}`,{statusCode:l.status,request:l.request,response:l})}}else"HEAD"===d.httpMethod&&(l.parsedBody=r.status>=200&&r.status<300);h.headersMapper&&(l.parsedHeaders=d.serializer.deserialize(h.headersMapper,l.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return l}async function u(e,t,r,n,o){var s;if(!(null===(s=r.request.streamResponseStatusCodes)||void 0===s?void 0:s.has(r.status))&&r.bodyAsText){let s=r.bodyAsText,a=r.headers.get("Content-Type")||"",l=a?a.split(";").map(e=>e.toLowerCase()):[];try{if(0===l.length||l.some(t=>-1!==e.indexOf(t)))r.parsedBody=JSON.parse(s);else if(l.some(e=>-1!==t.indexOf(e))){if(!o)throw Error("Parsing XML not supported.");let e=await o(s,n.xml);r.parsedBody=e}}catch(n){let e=`Error "${n}" occurred while parsing the response body - ${r.bodyAsText}.`,t=n.code||i.RestError.PARSE_ERROR;throw new i.RestError(e,{code:t,statusCode:r.status,request:r.request,response:r})}}return r}t.deserializationPolicyName="deserializationPolicy",t.deserializationPolicy=function(e={}){var r,i,o,s,u,d,h;let f=null!==(i=null===(r=e.expectedContentTypes)||void 0===r?void 0:r.json)&&void 0!==i?i:a,p=null!==(s=null===(o=e.expectedContentTypes)||void 0===o?void 0:o.xml)&&void 0!==s?s:l,m=e.parseXML,g=e.serializerOptions,y={xml:{rootName:null!==(u=null==g?void 0:g.xml.rootName)&&void 0!==u?u:"",includeRoot:null!==(d=null==g?void 0:g.xml.includeRoot)&&void 0!==d&&d,xmlCharKey:null!==(h=null==g?void 0:g.xml.xmlCharKey)&&void 0!==h?h:n.XML_CHARKEY}};return{name:t.deserializationPolicyName,sendRequest:async(e,t)=>c(f,p,await t(e),y,m)}}},84647:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.getCachedDefaultHttpClient=void 0;let i=r(65350);t.getCachedDefaultHttpClient=function(){return n||(n=(0,i.createDefaultHttpClient)()),n}},99912:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authorizeRequestOnTenantChallenge=t.authorizeRequestOnClaimChallenge=t.serializationPolicyName=t.serializationPolicy=t.deserializationPolicyName=t.deserializationPolicy=t.XML_CHARKEY=t.XML_ATTRKEY=t.createClientPipeline=t.ServiceClient=t.MapperTypeNames=t.createSerializer=void 0;var n=r(39222);Object.defineProperty(t,"createSerializer",{enumerable:!0,get:function(){return n.createSerializer}}),Object.defineProperty(t,"MapperTypeNames",{enumerable:!0,get:function(){return n.MapperTypeNames}});var i=r(84592);Object.defineProperty(t,"ServiceClient",{enumerable:!0,get:function(){return i.ServiceClient}});var o=r(15184);Object.defineProperty(t,"createClientPipeline",{enumerable:!0,get:function(){return o.createClientPipeline}});var s=r(54182);Object.defineProperty(t,"XML_ATTRKEY",{enumerable:!0,get:function(){return s.XML_ATTRKEY}}),Object.defineProperty(t,"XML_CHARKEY",{enumerable:!0,get:function(){return s.XML_CHARKEY}});var a=r(94715);Object.defineProperty(t,"deserializationPolicy",{enumerable:!0,get:function(){return a.deserializationPolicy}}),Object.defineProperty(t,"deserializationPolicyName",{enumerable:!0,get:function(){return a.deserializationPolicyName}});var l=r(69078);Object.defineProperty(t,"serializationPolicy",{enumerable:!0,get:function(){return l.serializationPolicy}}),Object.defineProperty(t,"serializationPolicyName",{enumerable:!0,get:function(){return l.serializationPolicyName}});var c=r(34286);Object.defineProperty(t,"authorizeRequestOnClaimChallenge",{enumerable:!0,get:function(){return c.authorizeRequestOnClaimChallenge}});var u=r(13346);Object.defineProperty(t,"authorizeRequestOnTenantChallenge",{enumerable:!0,get:function(){return u.authorizeRequestOnTenantChallenge}})},4670:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPathStringFromParameter=t.getStreamingResponseStatusCodes=void 0;let n=r(39222);t.getStreamingResponseStatusCodes=function(e){let t=new Set;for(let r in e.responses){let i=e.responses[r];i.bodyMapper&&i.bodyMapper.type.name===n.MapperTypeNames.Stream&&t.add(Number(r))}return t},t.getPathStringFromParameter=function(e){let{parameterPath:t,mapper:r}=e;return"string"==typeof t?t:Array.isArray(t)?t.join("."):r.serializedName}},54182:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XML_CHARKEY=t.XML_ATTRKEY=void 0,t.XML_ATTRKEY="$",t.XML_CHARKEY="_"},39782:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0;let n=r(46023);t.logger=(0,n.createClientLogger)("core-client")},18624:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperationRequestInfo=t.getOperationArgumentValueFromParameter=void 0;let n=r(61633);function i(e,t){let r={propertyFound:!1},n=0;for(;n<t.length;++n){let r=t[n];if(e&&r in e)e=e[r];else break}return n===t.length&&(r.propertyValue=e,r.propertyFound=!0),r}t.getOperationArgumentValueFromParameter=function e(t,r,n){let o,s=r.parameterPath,a=r.mapper;if("string"==typeof s&&(s=[s]),Array.isArray(s)){if(s.length>0){if(a.isConstant)o=a.defaultValue;else{let e=i(t,s);!e.propertyFound&&n&&(e=i(n,s));let r=!1;e.propertyFound||(r=a.required||"options"===s[0]&&2===s.length),o=r?a.defaultValue:e.propertyValue}}}else for(let r in a.required&&(o={}),s){let i=a.type.modelProperties[r],l=e(t,{parameterPath:s[r],mapper:i},n);void 0!==l&&(o||(o={}),o[r]=l)}return o};let o=Symbol.for("@azure/core-client original request");t.getOperationRequestInfo=function e(t){if(o in t)return e(t[o]);let r=n.state.operationRequestMap.get(t);return r||(r={},n.state.operationRequestMap.set(t,r)),r}},15184:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createClientPipeline=void 0;let n=r(94715),i=r(65350),o=r(69078);t.createClientPipeline=function(e={}){let t=(0,i.createPipelineFromOptions)(null!=e?e:{});return e.credentialOptions&&t.addPolicy((0,i.bearerTokenAuthenticationPolicy)({credential:e.credentialOptions.credential,scopes:e.credentialOptions.credentialScopes})),t.addPolicy((0,o.serializationPolicy)(e.serializationOptions),{phase:"Serialize"}),t.addPolicy((0,n.deserializationPolicy)(e.deserializationOptions),{phase:"Deserialize"}),t}},69078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeRequestBody=t.serializeHeaders=t.serializationPolicy=t.serializationPolicyName=void 0;let n=r(54182),i=r(18624),o=r(39222),s=r(4670);function a(e,t,r){var n,o;if(r.headerParameters)for(let n of r.headerParameters){let o=(0,i.getOperationArgumentValueFromParameter)(t,n);if(null!=o||n.mapper.required){o=r.serializer.serialize(n.mapper,o,(0,s.getPathStringFromParameter)(n));let t=n.mapper.headerCollectionPrefix;if(t)for(let r of Object.keys(o))e.headers.set(t+r,o[r]);else e.headers.set(n.mapper.serializedName||(0,s.getPathStringFromParameter)(n),o)}}let a=null===(o=null===(n=t.options)||void 0===n?void 0:n.requestOptions)||void 0===o?void 0:o.customHeaders;if(a)for(let t of Object.keys(a))e.headers.set(t,a[t])}function l(e,t,r,a=function(){throw Error("XML serialization unsupported!")}){var c,u,d,h,f;let p=null===(c=t.options)||void 0===c?void 0:c.serializerOptions,m={xml:{rootName:null!==(u=null==p?void 0:p.xml.rootName)&&void 0!==u?u:"",includeRoot:null!==(d=null==p?void 0:p.xml.includeRoot)&&void 0!==d&&d,xmlCharKey:null!==(h=null==p?void 0:p.xml.xmlCharKey)&&void 0!==h?h:n.XML_CHARKEY}},g=m.xml.xmlCharKey;if(r.requestBody&&r.requestBody.mapper){e.body=(0,i.getOperationArgumentValueFromParameter)(t,r.requestBody);let l=r.requestBody.mapper,{required:c,serializedName:u,xmlName:d,xmlElementName:h,xmlNamespace:p,xmlNamespacePrefix:y,nullable:_}=l,E=l.type.name;try{if(void 0!==e.body&&null!==e.body||_&&null===e.body||c){let t=(0,s.getPathStringFromParameter)(r.requestBody);e.body=r.serializer.serialize(l,e.body,t,m);let i=E===o.MapperTypeNames.Stream;if(r.isXML){let t=y?`xmlns:${y}`:"xmlns",r=function(e,t,r,i,o){if(e&&!["Composite","Sequence","Dictionary"].includes(r)){let r={};return r[o.xml.xmlCharKey]=i,r[n.XML_ATTRKEY]={[t]:e},r}return i}(p,t,E,e.body,m);E===o.MapperTypeNames.Sequence?e.body=a(function(e,t,r,i){if(Array.isArray(e)||(e=[e]),!r||!i)return{[t]:e};let o={[t]:e};return o[n.XML_ATTRKEY]={[r]:i},o}(r,h||d||u,t,p),{rootName:d||u,xmlCharKey:g}):i||(e.body=a(r,{rootName:d||u,xmlCharKey:g}))}else{if(E===o.MapperTypeNames.String&&((null===(f=r.contentType)||void 0===f?void 0:f.match("text/plain"))||"text"===r.mediaType))return;i||(e.body=JSON.stringify(e.body))}}}catch(e){throw Error(`Error "${e.message}" occurred in serializing the payload - ${JSON.stringify(u,void 0,"  ")}.`)}}else if(r.formDataParameters&&r.formDataParameters.length>0)for(let n of(e.formData={},r.formDataParameters)){let o=(0,i.getOperationArgumentValueFromParameter)(t,n);if(null!=o){let t=n.mapper.serializedName||(0,s.getPathStringFromParameter)(n);e.formData[t]=r.serializer.serialize(n.mapper,o,(0,s.getPathStringFromParameter)(n),m)}}}t.serializationPolicyName="serializationPolicy",t.serializationPolicy=function(e={}){let r=e.stringifyXML;return{name:t.serializationPolicyName,async sendRequest(e,t){let n=(0,i.getOperationRequestInfo)(e),o=null==n?void 0:n.operationSpec,s=null==n?void 0:n.operationArguments;return o&&s&&(a(e,s,o),l(e,s,o,r)),t(e)}}},t.serializeHeaders=a,t.serializeRequestBody=l},39222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapperTypeNames=t.createSerializer=void 0;let n=r(78372).__importStar(r(44653)),i=r(54182),o=r(86537);class s{constructor(e={},t=!1){this.modelMappers=e,this.isXML=t}validateConstraints(e,t,r){let n=(e,n)=>{throw Error(`"${r}" with value "${t}" should satisfy the constraint "${e}": ${n}.`)};if(e.constraints&&null!=t){let{ExclusiveMaximum:r,ExclusiveMinimum:i,InclusiveMaximum:o,InclusiveMinimum:s,MaxItems:a,MaxLength:l,MinItems:c,MinLength:u,MultipleOf:d,Pattern:h,UniqueItems:f}=e.constraints;if(void 0!==r&&t>=r&&n("ExclusiveMaximum",r),void 0!==i&&t<=i&&n("ExclusiveMinimum",i),void 0!==o&&t>o&&n("InclusiveMaximum",o),void 0!==s&&t<s&&n("InclusiveMinimum",s),void 0!==a&&t.length>a&&n("MaxItems",a),void 0!==l&&t.length>l&&n("MaxLength",l),void 0!==c&&t.length<c&&n("MinItems",c),void 0!==u&&t.length<u&&n("MinLength",u),void 0!==d&&t%d!=0&&n("MultipleOf",d),h){let e="string"==typeof h?new RegExp(h):h;("string"!=typeof t||null===t.match(e))&&n("Pattern",h)}f&&t.some((e,t,r)=>r.indexOf(e)!==t)&&n("UniqueItems",f)}}serialize(e,t,r,s={xml:{}}){var f,p,m;let g={xml:{rootName:null!==(f=s.xml.rootName)&&void 0!==f?f:"",includeRoot:null!==(p=s.xml.includeRoot)&&void 0!==p&&p,xmlCharKey:null!==(m=s.xml.xmlCharKey)&&void 0!==m?m:i.XML_CHARKEY}},y={},_=e.type.name;r||(r=e.serializedName),null!==_.match(/^Sequence$/i)&&(y=[]),e.isConstant&&(t=e.defaultValue);let{required:E,nullable:v}=e;if(E&&v&&void 0===t)throw Error(`${r} cannot be undefined.`);if(E&&!v&&null==t)throw Error(`${r} cannot be null or undefined.`);if(!E&&!1===v&&null===t)throw Error(`${r} cannot be null.`);return null==t?y=t:null!==_.match(/^any$/i)?y=t:null!==_.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/i)?y=function(e,t,r){if(null!=r){if(null!==e.match(/^Number$/i)){if("number"!=typeof r)throw Error(`${t} with value ${r} must be of type number.`)}else if(null!==e.match(/^String$/i)){if("string"!=typeof r.valueOf())throw Error(`${t} with value "${r}" must be of type string.`)}else if(null!==e.match(/^Uuid$/i)){if(!("string"==typeof r.valueOf()&&(0,o.isValidUuid)(r)))throw Error(`${t} with value "${r}" must be of type string and a valid uuid.`)}else if(null!==e.match(/^Boolean$/i)){if("boolean"!=typeof r)throw Error(`${t} with value ${r} must be of type boolean.`)}else if(null!==e.match(/^Stream$/i)){let e=typeof r;if("string"!==e&&"function"!=typeof r.pipe&&"function"!=typeof r.tee&&!(r instanceof ArrayBuffer)&&!ArrayBuffer.isView(r)&&!(("function"==typeof Blob||"object"==typeof Blob)&&r instanceof Blob)&&"function"!==e)throw Error(`${t} must be a string, Blob, ArrayBuffer, ArrayBufferView, ReadableStream, or () => ReadableStream.`)}}return r}(_,r,t):null!==_.match(/^Enum$/i)?y=function(e,t,r){if(!t)throw Error(`Please provide a set of allowedValues to validate ${e} as an Enum Type.`);if(!t.some(e=>"string"==typeof e.valueOf()?e.toLowerCase()===r.toLowerCase():e===r))throw Error(`${r} is not a valid value for ${e}. The valid values are: ${JSON.stringify(t)}.`);return r}(r,e.type.allowedValues,t):null!==_.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/i)?y=function(e,t,r){if(null!=t){if(null!==e.match(/^Date$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw Error(`${r} must be an instanceof Date or a string in ISO8601 format.`);t=t instanceof Date?t.toISOString().substring(0,10):new Date(t).toISOString().substring(0,10)}else if(null!==e.match(/^DateTime$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw Error(`${r} must be an instanceof Date or a string in ISO8601 format.`);t=t instanceof Date?t.toISOString():new Date(t).toISOString()}else if(null!==e.match(/^DateTimeRfc1123$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw Error(`${r} must be an instanceof Date or a string in RFC-1123 format.`);t=t instanceof Date?t.toUTCString():new Date(t).toUTCString()}else if(null!==e.match(/^UnixTime$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw Error(`${r} must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.`);t=function(e){if(e)return"string"==typeof e.valueOf()&&(e=new Date(e)),Math.floor(e.getTime()/1e3)}(t)}else if(null!==e.match(/^TimeSpan$/i)&&!(0,o.isDuration)(t))throw Error(`${r} must be a string in ISO 8601 format. Instead was "${t}".`)}return t}(_,t,r):null!==_.match(/^ByteArray$/i)?y=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw Error(`${e} must be of type Uint8Array.`);t=n.encodeByteArray(t)}return t}(r,t):null!==_.match(/^Base64Url$/i)?y=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw Error(`${e} must be of type Uint8Array.`);t=function(e){if(e){if(!(e instanceof Uint8Array))throw Error("Please provide an input of type Uint8Array for converting to Base64Url.");return(function(e,t){let r=e.length;for(;r-1>=0&&"="===e[r-1];)--r;return e.substr(0,r)})(n.encodeByteArray(e),0).replace(/\+/g,"-").replace(/\//g,"_")}}(t)}return t}(r,t):null!==_.match(/^Sequence$/i)?y=function(e,t,r,n,o,s){var a;if(!Array.isArray(r))throw Error(`${n} must be of type Array.`);let l=t.type.element;if(!l||"object"!=typeof l)throw Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${n}.`);"Composite"===l.type.name&&l.type.className&&(l=null!==(a=e.modelMappers[l.type.className])&&void 0!==a?a:l);let c=[];for(let t=0;t<r.length;t++){let a=e.serialize(l,r[t],n,s);if(o&&l.xmlNamespace){let e=l.xmlNamespacePrefix?`xmlns:${l.xmlNamespacePrefix}`:"xmlns";"Composite"===l.type.name?c[t]=Object.assign({},a):(c[t]={},c[t][s.xml.xmlCharKey]=a),c[t][i.XML_ATTRKEY]={[e]:l.xmlNamespace}}else c[t]=a}return c}(this,e,t,r,!!this.isXML,g):null!==_.match(/^Dictionary$/i)?y=function(e,t,r,n,o,s){if("object"!=typeof r)throw Error(`${n} must be of type object.`);let a=t.type.value;if(!a||"object"!=typeof a)throw Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${n}.`);let l={};for(let t of Object.keys(r)){let i=e.serialize(a,r[t],n,s);l[t]=u(a,i,o,s)}if(o&&t.xmlNamespace){let e=t.xmlNamespacePrefix?`xmlns:${t.xmlNamespacePrefix}`:"xmlns";return l[i.XML_ATTRKEY]={[e]:t.xmlNamespace},l}return l}(this,e,t,r,!!this.isXML,g):null!==_.match(/^Composite$/i)&&(y=function(e,t,r,n,o,s){if(h(e,t)&&(t=d(e,t,r,"clientName")),null!=r){let d={},f=c(e,t,n);for(let l of Object.keys(f)){let c;let p=f[l];if(p.readOnly)continue;let m=d;if(e.isXML)c=p.xmlIsWrapped?p.xmlName:p.xmlElementName||p.xmlName;else{let e=a(p.serializedName);for(let t of(c=e.pop(),e))null==m[t]&&(void 0!==r[l]&&null!==r[l]||void 0!==p.defaultValue)&&(m[t]={}),m=m[t]}if(null!=m){if(o&&t.xmlNamespace){let e=t.xmlNamespacePrefix?`xmlns:${t.xmlNamespacePrefix}`:"xmlns";m[i.XML_ATTRKEY]=Object.assign(Object.assign({},m[i.XML_ATTRKEY]),{[e]:t.xmlNamespace})}let a=""!==p.serializedName?n+"."+p.serializedName:n,d=r[l],f=h(e,t);f&&f.clientName===l&&null==d&&(d=t.serializedName);let g=e.serialize(p,d,a,s);if(void 0!==g&&null!=c){let e=u(p,g,o,s);o&&p.xmlIsAttribute?(m[i.XML_ATTRKEY]=m[i.XML_ATTRKEY]||{},m[i.XML_ATTRKEY][c]=g):o&&p.xmlIsWrapped?m[c]={[p.xmlElementName]:e}:m[c]=e}}}let p=function(e,t,r){let n=t.type.additionalProperties;if(!n&&t.type.className){let n=l(e,t,r);return null==n?void 0:n.type.additionalProperties}return n}(e,t,n);if(p){let t=Object.keys(f);for(let i in r)t.every(e=>e!==i)&&(d[i]=e.serialize(p,r[i],n+'["'+i+'"]',s))}return d}return r}(this,e,t,r,!!this.isXML,g)),y}deserialize(e,t,r,o={xml:{}}){var s,l,u,f;let p;let m={xml:{rootName:null!==(s=o.xml.rootName)&&void 0!==s?s:"",includeRoot:null!==(l=o.xml.includeRoot)&&void 0!==l&&l,xmlCharKey:null!==(u=o.xml.xmlCharKey)&&void 0!==u?u:i.XML_CHARKEY},ignoreUnknownProperties:null!==(f=o.ignoreUnknownProperties)&&void 0!==f&&f};if(null==t)return this.isXML&&"Sequence"===e.type.name&&!e.xmlIsWrapped&&(t=[]),void 0!==e.defaultValue&&(t=e.defaultValue),t;let g=e.type.name;if(r||(r=e.serializedName),null!==g.match(/^Composite$/i))p=function(e,t,r,n,o){var s,l;let u=null!==(s=o.xml.xmlCharKey)&&void 0!==s?s:i.XML_CHARKEY;h(e,t)&&(t=d(e,t,r,"serializedName"));let f=c(e,t,n),p={},m=[];for(let s of Object.keys(f)){let c=f[s],d=a(f[s].serializedName);m.push(d[0]);let{serializedName:h,xmlName:g,xmlElementName:y}=c,_=n;""!==h&&void 0!==h&&(_=n+"."+h);let E=c.headerCollectionPrefix;if(E){let t={};for(let n of Object.keys(r))n.startsWith(E)&&(t[n.substring(E.length)]=e.deserialize(c.type.value,r[n],_,o)),m.push(n);p[s]=t}else if(e.isXML){if(c.xmlIsAttribute&&r[i.XML_ATTRKEY])p[s]=e.deserialize(c,r[i.XML_ATTRKEY][g],_,o);else if(c.xmlIsMsText)void 0!==r[u]?p[s]=r[u]:"string"==typeof r&&(p[s]=r);else{let t=y||g||h;if(c.xmlIsWrapped){let t=r[g],n=null!==(l=null==t?void 0:t[y])&&void 0!==l?l:[];p[s]=e.deserialize(c,n,_,o),m.push(g)}else{let n=r[t];p[s]=e.deserialize(c,n,_,o),m.push(t)}}}else{let n,i;let a=r,l=0;for(let e of d){if(!a)break;l++,a=a[e]}null===a&&l<d.length&&(a=void 0),n=a;let u=t.type.polymorphicDiscriminator;if(u&&s===u.clientName&&null==n&&(n=t.serializedName),Array.isArray(r[s])&&""===f[s].serializedName){n=r[s];let t=e.deserialize(c,n,_,o);for(let[e,r]of Object.entries(p))Object.prototype.hasOwnProperty.call(t,e)||(t[e]=r);p=t}else(void 0!==n||void 0!==c.defaultValue)&&(i=e.deserialize(c,n,_,o),p[s]=i)}}let g=t.type.additionalProperties;if(g){let t=e=>{for(let t in f)if(a(f[t].serializedName)[0]===e)return!1;return!0};for(let i in r)t(i)&&(p[i]=e.deserialize(g,r[i],n+'["'+i+'"]',o))}else if(r&&!o.ignoreUnknownProperties)for(let e of Object.keys(r))void 0!==p[e]||m.includes(e)||[i.XML_ATTRKEY,o.xml.xmlCharKey].includes(e)||(p[e]=r[e]);return p}(this,e,t,r,m);else{if(this.isXML){let e=m.xml.xmlCharKey;void 0!==t[i.XML_ATTRKEY]&&void 0!==t[e]&&(t=t[e])}null!==g.match(/^Number$/i)?isNaN(p=parseFloat(t))&&(p=t):null!==g.match(/^Boolean$/i)?p="true"===t||"false"!==t&&t:null!==g.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/i)?p=t:null!==g.match(/^(Date|DateTime|DateTimeRfc1123)$/i)?p=new Date(t):null!==g.match(/^UnixTime$/i)?p=function(e){if(e)return new Date(1e3*e)}(t):null!==g.match(/^ByteArray$/i)?p=n.decodeString(t):null!==g.match(/^Base64Url$/i)?p=function(e){if(e){if(e&&"string"!=typeof e.valueOf())throw Error("Please provide an input of type string for converting to Uint8Array");return e=e.replace(/-/g,"+").replace(/_/g,"/"),n.decodeString(e)}}(t):null!==g.match(/^Sequence$/i)?p=function(e,t,r,n,i){var o;let s=t.type.element;if(!s||"object"!=typeof s)throw Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${n}`);if(r){Array.isArray(r)||(r=[r]),"Composite"===s.type.name&&s.type.className&&(s=null!==(o=e.modelMappers[s.type.className])&&void 0!==o?o:s);let t=[];for(let o=0;o<r.length;o++)t[o]=e.deserialize(s,r[o],`${n}[${o}]`,i);return t}return r}(this,e,t,r,m):null!==g.match(/^Dictionary$/i)&&(p=function(e,t,r,n,i){let o=t.type.value;if(!o||"object"!=typeof o)throw Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${n}`);if(r){let t={};for(let s of Object.keys(r))t[s]=e.deserialize(o,r[s],n,i);return t}return r}(this,e,t,r,m))}return e.isConstant&&(p=e.defaultValue),p}}function a(e){let t=[],r="";if(e)for(let n of e.split("."))"\\"===n.charAt(n.length-1)?r+=n.substr(0,n.length-1)+".":(r+=n,t.push(r),r="");return t}function l(e,t,r){let n=t.type.className;if(!n)throw Error(`Class name for model "${r}" is not provided in the mapper "${JSON.stringify(t,void 0,2)}".`);return e.modelMappers[n]}function c(e,t,r){let n=t.type.modelProperties;if(!n){let i=l(e,t,r);if(!i)throw Error(`mapper() cannot be null or undefined for model "${t.type.className}".`);if(!(n=null==i?void 0:i.type.modelProperties))throw Error(`modelProperties cannot be null or undefined in the mapper "${JSON.stringify(i)}" of type "${t.type.className}" for object "${r}".`)}return n}function u(e,t,r,n){if(!r||!e.xmlNamespace)return t;let o={[e.xmlNamespacePrefix?`xmlns:${e.xmlNamespacePrefix}`:"xmlns"]:e.xmlNamespace};if(["Composite"].includes(e.type.name)){if(t[i.XML_ATTRKEY])return t;{let e=Object.assign({},t);return e[i.XML_ATTRKEY]=o,e}}let s={};return s[n.xml.xmlCharKey]=t,s[i.XML_ATTRKEY]=o,s}function d(e,t,r,n){var i;let o=h(e,t);if(o){let s=o[n];if(s){"serializedName"===n&&(s=s.replace(/\\/gi,""));let o=r[s],a=null!==(i=t.type.uberParent)&&void 0!==i?i:t.type.className;if("string"==typeof o&&a){let r=function(e,t,r){let n=[r];for(;n.length;){let r=n.shift(),i=t===r?t:r+"."+t;if(Object.prototype.hasOwnProperty.call(e,i))return e[i];for(let[t,i]of Object.entries(e))t.startsWith(r+".")&&i.type.uberParent===r&&i.type.className&&n.push(i.type.className)}}(e.modelMappers.discriminators,o,a);r&&(t=r)}}}return t}function h(e,t){return t.type.polymorphicDiscriminator||f(e,t.type.uberParent)||f(e,t.type.className)}function f(e,t){return t&&e.modelMappers[t]&&e.modelMappers[t].type.polymorphicDiscriminator}t.createSerializer=function(e={},t=!1){return new s(e,t)},t.MapperTypeNames={Base64Url:"Base64Url",Boolean:"Boolean",ByteArray:"ByteArray",Composite:"Composite",Date:"Date",DateTime:"DateTime",DateTimeRfc1123:"DateTimeRfc1123",Dictionary:"Dictionary",Enum:"Enum",Number:"Number",Object:"Object",Sequence:"Sequence",String:"String",Stream:"Stream",TimeSpan:"TimeSpan",UnixTime:"UnixTime"}},84592:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceClient=void 0;let n=r(65350),i=r(15184),o=r(86537),s=r(84647),a=r(18624),l=r(20480),c=r(4670),u=r(39782);class d{constructor(e={}){var t,r;if(this._requestContentType=e.requestContentType,this._endpoint=null!==(t=e.endpoint)&&void 0!==t?t:e.baseUri,e.baseUri&&u.logger.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||(0,s.getCachedDefaultHttpClient)(),this.pipeline=e.pipeline||function(e){let t=function(e){if(e.credentialScopes)return e.credentialScopes;if(e.endpoint)return`${e.endpoint}/.default`;if(e.baseUri)return`${e.baseUri}/.default`;if(e.credential&&!e.credentialScopes)throw Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}(e),r=e.credential&&t?{credentialScopes:t,credential:e.credential}:void 0;return(0,i.createClientPipeline)(Object.assign(Object.assign({},e),{credentialOptions:r}))}(e),null===(r=e.additionalPolicies)||void 0===r?void 0:r.length)for(let{policy:t,position:r}of e.additionalPolicies){let e="perRetry"===r?"Sign":void 0;this.pipeline.addPolicy(t,{afterPhase:e})}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,t){let r=t.baseUrl||this._endpoint;if(!r)throw Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");let i=(0,l.getRequestUrl)(r,t,e,this),s=(0,n.createPipelineRequest)({url:i});s.method=t.httpMethod;let u=(0,a.getOperationRequestInfo)(s);u.operationSpec=t,u.operationArguments=e;let d=t.contentType||this._requestContentType;d&&t.requestBody&&s.headers.set("Content-Type",d);let h=e.options;if(h){let e=h.requestOptions;e&&(e.timeout&&(s.timeout=e.timeout),e.onUploadProgress&&(s.onUploadProgress=e.onUploadProgress),e.onDownloadProgress&&(s.onDownloadProgress=e.onDownloadProgress),void 0!==e.shouldDeserialize&&(u.shouldDeserialize=e.shouldDeserialize),e.allowInsecureConnection&&(s.allowInsecureConnection=!0)),h.abortSignal&&(s.abortSignal=h.abortSignal),h.tracingOptions&&(s.tracingOptions=h.tracingOptions)}this._allowInsecureConnection&&(s.allowInsecureConnection=!0),void 0===s.streamResponseStatusCodes&&(s.streamResponseStatusCodes=(0,c.getStreamingResponseStatusCodes)(t));try{let e=await this.sendRequest(s),r=(0,o.flattenResponse)(e,t.responses[e.status]);return(null==h?void 0:h.onResponse)&&h.onResponse(e,r),r}catch(e){if("object"==typeof e&&(null==e?void 0:e.response)){let r=e.response,n=(0,o.flattenResponse)(r,t.responses[e.statusCode]||t.responses.default);e.details=n,(null==h?void 0:h.onResponse)&&h.onResponse(r,n,e)}throw e}}}t.ServiceClient=d},61633:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.state=void 0,t.state={operationRequestMap:new WeakMap}},20480:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendQueryParams=t.getRequestUrl=void 0;let n=r(18624),i=r(4670),o={CSV:",",SSV:" ",Multi:"Multi",TSV:"	",Pipes:"|"};function s(e,t){let r=e;for(let[e,n]of t)r=r.split(e).join(n);return r}function a(e,t,r,n=!1){if(0===t.size)return e;let i=new URL(e),o=function(e){let t=new Map;if(!e||"?"!==e[0])return t;for(let r of(e=e.slice(1)).split("&")){let[e,n]=r.split("=",2),i=t.get(e);i?Array.isArray(i)?i.push(n):t.set(e,[i,n]):t.set(e,n)}return t}(i.search);for(let[e,i]of t){let t=o.get(e);if(Array.isArray(t)){if(Array.isArray(i)){t.push(...i);let r=new Set(t);o.set(e,Array.from(r))}else t.push(i)}else t?(Array.isArray(i)?i.unshift(t):r.has(e)&&o.set(e,[t,i]),n||o.set(e,i)):o.set(e,i)}let s=[];for(let[e,t]of o)if("string"==typeof t)s.push(`${e}=${t}`);else if(Array.isArray(t))for(let r of t)s.push(`${e}=${r}`);else s.push(`${e}=${t}`);return i.search=s.length?`?${s.join("&")}`:"",i.toString()}t.getRequestUrl=function(e,t,r,l){let c=function(e,t,r){var o;let s=new Map;if(null===(o=e.urlParameters)||void 0===o?void 0:o.length)for(let o of e.urlParameters){let a=(0,n.getOperationArgumentValueFromParameter)(t,o,r),l=(0,i.getPathStringFromParameter)(o);a=e.serializer.serialize(o.mapper,a,l),o.skipEncoding||(a=encodeURIComponent(a)),s.set(`{${o.mapper.serializedName||l}}`,a)}return s}(t,r,l),u=!1,d=s(e,c);if(t.path){let e=s(t.path,c);"/{nextLink}"===t.path&&e.startsWith("/")&&(e=e.substring(1)),e.includes("://")?(d=e,u=!0):d=function(e,t){if(!t)return e;let r=new URL(e),n=r.pathname;n.endsWith("/")||(n=`${n}/`),t.startsWith("/")&&(t=t.substring(1));let i=t.indexOf("?");if(-1!==i){let e=t.substring(0,i),o=t.substring(i+1);n+=e,o&&(r.search=r.search?`${r.search}&${o}`:o)}else n+=t;return r.pathname=n,r.toString()}(d,e)}let{queryParams:h,sequenceParams:f}=function(e,t,r){var s;let a=new Map,l=new Set;if(null===(s=e.queryParameters)||void 0===s?void 0:s.length)for(let s of e.queryParameters){"Sequence"===s.mapper.type.name&&s.mapper.serializedName&&l.add(s.mapper.serializedName);let c=(0,n.getOperationArgumentValueFromParameter)(t,s,r);if(null!=c||s.mapper.required){c=e.serializer.serialize(s.mapper,c,(0,i.getPathStringFromParameter)(s));let t=s.collectionFormat?o[s.collectionFormat]:"";if(Array.isArray(c)&&(c=c.map(e=>null==e?"":e)),"Multi"===s.collectionFormat&&0===c.length)continue;Array.isArray(c)&&("SSV"===s.collectionFormat||"TSV"===s.collectionFormat)&&(c=c.join(t)),s.skipEncoding||(c=Array.isArray(c)?c.map(e=>encodeURIComponent(e)):encodeURIComponent(c)),Array.isArray(c)&&("CSV"===s.collectionFormat||"Pipes"===s.collectionFormat)&&(c=c.join(t)),a.set(s.mapper.serializedName||(0,i.getPathStringFromParameter)(s),c)}}return{queryParams:a,sequenceParams:l}}(t,r,l);return a(d,h,f,u)},t.appendQueryParams=a},86537:(e,t)=>{"use strict";function r(e,t){return"Composite"!==t&&"Dictionary"!==t&&("string"==typeof e||"number"==typeof e||"boolean"==typeof e||(null==t?void 0:t.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i))!==null||null==e)}Object.defineProperty(t,"__esModule",{value:!0}),t.flattenResponse=t.isValidUuid=t.isDuration=t.isPrimitiveBody=void 0,t.isPrimitiveBody=r;let n=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;t.isDuration=function(e){return n.test(e)};let i=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;t.isValidUuid=function(e){return i.test(e)},t.flattenResponse=function(e,t){var n,i;let o=e.parsedHeaders;if("HEAD"===e.request.method)return Object.assign(Object.assign({},o),{body:e.parsedBody});let s=t&&t.bodyMapper,a=!!(null==s?void 0:s.nullable),l=null==s?void 0:s.type.name;if("Stream"===l)return Object.assign(Object.assign({},o),{blobBody:e.blobBody,readableStreamBody:e.readableStreamBody});let c="Composite"===l&&s.type.modelProperties||{},u=Object.keys(c).some(e=>""===c[e].serializedName);if("Sequence"===l||u){let t=null!==(n=e.parsedBody)&&void 0!==n?n:[];for(let r of Object.keys(c))c[r].serializedName&&(t[r]=null===(i=e.parsedBody)||void 0===i?void 0:i[r]);if(o)for(let e of Object.keys(o))t[e]=o[e];return!a||e.parsedBody||o||0!==Object.getOwnPropertyNames(c).length?t:null}return function(e){let t=Object.assign(Object.assign({},e.headers),e.body);return e.hasNullableType&&0===Object.getOwnPropertyNames(t).length?e.shouldWrapBody?{body:null}:null:e.shouldWrapBody?Object.assign(Object.assign({},e.headers),{body:e.body}):t}({body:e.parsedBody,headers:o,hasNullableType:a,shouldWrapBody:r(e.parsedBody,l)})}},90159:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_RETRY_POLICY_COUNT=t.SDK_VERSION=void 0,t.SDK_VERSION="1.19.0",t.DEFAULT_RETRY_POLICY_COUNT=3},42674:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPipelineFromOptions=function(e){var t;let r=(0,i.createEmptyPipeline)();return d.isNodeLike&&(e.agent&&r.addPolicy((0,p.agentPolicy)(e.agent)),e.tlsOptions&&r.addPolicy((0,m.tlsPolicy)(e.tlsOptions)),r.addPolicy((0,h.proxyPolicy)(e.proxyOptions)),r.addPolicy((0,l.decompressResponsePolicy)())),r.addPolicy((0,u.formDataPolicy)(),{beforePolicies:[a.multipartPolicyName]}),r.addPolicy((0,s.userAgentPolicy)(e.userAgentOptions)),r.addPolicy((0,f.setClientRequestIdPolicy)(null===(t=e.telemetryOptions)||void 0===t?void 0:t.clientRequestIdHeaderName)),r.addPolicy((0,a.multipartPolicy)(),{afterPhase:"Deserialize"}),r.addPolicy((0,c.defaultRetryPolicy)(e.retryOptions),{phase:"Retry"}),r.addPolicy((0,g.tracingPolicy)(Object.assign(Object.assign({},e.userAgentOptions),e.loggingOptions)),{afterPhase:"Retry"}),d.isNodeLike&&r.addPolicy((0,o.redirectPolicy)(e.redirectOptions),{afterPhase:"Retry"}),r.addPolicy((0,n.logPolicy)(e.loggingOptions),{afterPhase:"Sign"}),r};let n=r(27725),i=r(730),o=r(34659),s=r(1419),a=r(31515),l=r(2123),c=r(23558),u=r(42297),d=r(60455),h=r(13627),f=r(29450),p=r(85078),m=r(41114),g=r(42493)},82944:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultHttpClient=function(){return(0,n.createNodeHttpClient)()};let n=r(81271)},68392:(e,t)=>{"use strict";function r(e){return e.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),t.createHttpHeaders=function(e){return new n(e)};class n{constructor(e){if(this._headersMap=new Map,e)for(let t of Object.keys(e))this.set(t,e[t])}set(e,t){this._headersMap.set(r(e),{name:e,value:String(t).trim()})}get(e){var t;return null===(t=this._headersMap.get(r(e)))||void 0===t?void 0:t.value}has(e){return this._headersMap.has(r(e))}delete(e){this._headersMap.delete(r(e))}toJSON(e={}){let t={};if(e.preserveCase)for(let e of this._headersMap.values())t[e.name]=e.value;else for(let[e,r]of this._headersMap)t[e]=r.value;return t}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return function*(e){for(let t of e.values())yield[t.name,t.value]}(this._headersMap)}}},65350:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFileFromStream=t.createFile=t.agentPolicyName=t.agentPolicy=t.auxiliaryAuthenticationHeaderPolicyName=t.auxiliaryAuthenticationHeaderPolicy=t.ndJsonPolicyName=t.ndJsonPolicy=t.bearerTokenAuthenticationPolicyName=t.bearerTokenAuthenticationPolicy=t.formDataPolicyName=t.formDataPolicy=t.tlsPolicyName=t.tlsPolicy=t.userAgentPolicyName=t.userAgentPolicy=t.defaultRetryPolicy=t.tracingPolicyName=t.tracingPolicy=t.retryPolicy=t.throttlingRetryPolicyName=t.throttlingRetryPolicy=t.systemErrorRetryPolicyName=t.systemErrorRetryPolicy=t.redirectPolicyName=t.redirectPolicy=t.getDefaultProxySettings=t.proxyPolicyName=t.proxyPolicy=t.multipartPolicyName=t.multipartPolicy=t.logPolicyName=t.logPolicy=t.setClientRequestIdPolicyName=t.setClientRequestIdPolicy=t.exponentialRetryPolicyName=t.exponentialRetryPolicy=t.decompressResponsePolicyName=t.decompressResponsePolicy=t.isRestError=t.RestError=t.createPipelineRequest=t.createHttpHeaders=t.createDefaultHttpClient=t.createPipelineFromOptions=t.createEmptyPipeline=void 0;var n=r(730);Object.defineProperty(t,"createEmptyPipeline",{enumerable:!0,get:function(){return n.createEmptyPipeline}});var i=r(42674);Object.defineProperty(t,"createPipelineFromOptions",{enumerable:!0,get:function(){return i.createPipelineFromOptions}});var o=r(82944);Object.defineProperty(t,"createDefaultHttpClient",{enumerable:!0,get:function(){return o.createDefaultHttpClient}});var s=r(68392);Object.defineProperty(t,"createHttpHeaders",{enumerable:!0,get:function(){return s.createHttpHeaders}});var a=r(37141);Object.defineProperty(t,"createPipelineRequest",{enumerable:!0,get:function(){return a.createPipelineRequest}});var l=r(42742);Object.defineProperty(t,"RestError",{enumerable:!0,get:function(){return l.RestError}}),Object.defineProperty(t,"isRestError",{enumerable:!0,get:function(){return l.isRestError}});var c=r(2123);Object.defineProperty(t,"decompressResponsePolicy",{enumerable:!0,get:function(){return c.decompressResponsePolicy}}),Object.defineProperty(t,"decompressResponsePolicyName",{enumerable:!0,get:function(){return c.decompressResponsePolicyName}});var u=r(67972);Object.defineProperty(t,"exponentialRetryPolicy",{enumerable:!0,get:function(){return u.exponentialRetryPolicy}}),Object.defineProperty(t,"exponentialRetryPolicyName",{enumerable:!0,get:function(){return u.exponentialRetryPolicyName}});var d=r(29450);Object.defineProperty(t,"setClientRequestIdPolicy",{enumerable:!0,get:function(){return d.setClientRequestIdPolicy}}),Object.defineProperty(t,"setClientRequestIdPolicyName",{enumerable:!0,get:function(){return d.setClientRequestIdPolicyName}});var h=r(27725);Object.defineProperty(t,"logPolicy",{enumerable:!0,get:function(){return h.logPolicy}}),Object.defineProperty(t,"logPolicyName",{enumerable:!0,get:function(){return h.logPolicyName}});var f=r(31515);Object.defineProperty(t,"multipartPolicy",{enumerable:!0,get:function(){return f.multipartPolicy}}),Object.defineProperty(t,"multipartPolicyName",{enumerable:!0,get:function(){return f.multipartPolicyName}});var p=r(13627);Object.defineProperty(t,"proxyPolicy",{enumerable:!0,get:function(){return p.proxyPolicy}}),Object.defineProperty(t,"proxyPolicyName",{enumerable:!0,get:function(){return p.proxyPolicyName}}),Object.defineProperty(t,"getDefaultProxySettings",{enumerable:!0,get:function(){return p.getDefaultProxySettings}});var m=r(34659);Object.defineProperty(t,"redirectPolicy",{enumerable:!0,get:function(){return m.redirectPolicy}}),Object.defineProperty(t,"redirectPolicyName",{enumerable:!0,get:function(){return m.redirectPolicyName}});var g=r(61514);Object.defineProperty(t,"systemErrorRetryPolicy",{enumerable:!0,get:function(){return g.systemErrorRetryPolicy}}),Object.defineProperty(t,"systemErrorRetryPolicyName",{enumerable:!0,get:function(){return g.systemErrorRetryPolicyName}});var y=r(15844);Object.defineProperty(t,"throttlingRetryPolicy",{enumerable:!0,get:function(){return y.throttlingRetryPolicy}}),Object.defineProperty(t,"throttlingRetryPolicyName",{enumerable:!0,get:function(){return y.throttlingRetryPolicyName}});var _=r(80365);Object.defineProperty(t,"retryPolicy",{enumerable:!0,get:function(){return _.retryPolicy}});var E=r(42493);Object.defineProperty(t,"tracingPolicy",{enumerable:!0,get:function(){return E.tracingPolicy}}),Object.defineProperty(t,"tracingPolicyName",{enumerable:!0,get:function(){return E.tracingPolicyName}});var v=r(23558);Object.defineProperty(t,"defaultRetryPolicy",{enumerable:!0,get:function(){return v.defaultRetryPolicy}});var b=r(1419);Object.defineProperty(t,"userAgentPolicy",{enumerable:!0,get:function(){return b.userAgentPolicy}}),Object.defineProperty(t,"userAgentPolicyName",{enumerable:!0,get:function(){return b.userAgentPolicyName}});var T=r(41114);Object.defineProperty(t,"tlsPolicy",{enumerable:!0,get:function(){return T.tlsPolicy}}),Object.defineProperty(t,"tlsPolicyName",{enumerable:!0,get:function(){return T.tlsPolicyName}});var w=r(42297);Object.defineProperty(t,"formDataPolicy",{enumerable:!0,get:function(){return w.formDataPolicy}}),Object.defineProperty(t,"formDataPolicyName",{enumerable:!0,get:function(){return w.formDataPolicyName}});var S=r(90421);Object.defineProperty(t,"bearerTokenAuthenticationPolicy",{enumerable:!0,get:function(){return S.bearerTokenAuthenticationPolicy}}),Object.defineProperty(t,"bearerTokenAuthenticationPolicyName",{enumerable:!0,get:function(){return S.bearerTokenAuthenticationPolicyName}});var A=r(56399);Object.defineProperty(t,"ndJsonPolicy",{enumerable:!0,get:function(){return A.ndJsonPolicy}}),Object.defineProperty(t,"ndJsonPolicyName",{enumerable:!0,get:function(){return A.ndJsonPolicyName}});var C=r(36074);Object.defineProperty(t,"auxiliaryAuthenticationHeaderPolicy",{enumerable:!0,get:function(){return C.auxiliaryAuthenticationHeaderPolicy}}),Object.defineProperty(t,"auxiliaryAuthenticationHeaderPolicyName",{enumerable:!0,get:function(){return C.auxiliaryAuthenticationHeaderPolicyName}});var O=r(85078);Object.defineProperty(t,"agentPolicy",{enumerable:!0,get:function(){return O.agentPolicy}}),Object.defineProperty(t,"agentPolicyName",{enumerable:!0,get:function(){return O.agentPolicyName}});var I=r(49329);Object.defineProperty(t,"createFile",{enumerable:!0,get:function(){return I.createFile}}),Object.defineProperty(t,"createFileFromStream",{enumerable:!0,get:function(){return I.createFileFromStream}})},1800:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0;let n=r(46023);t.logger=(0,n.createClientLogger)("core-rest-pipeline")},81271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBodyLength=_,t.createNodeHttpClient=function(){return new y};let n=r(78372),i=n.__importStar(r(37067)),o=n.__importStar(r(44708)),s=n.__importStar(r(38522)),a=r(57075),l=r(32434),c=r(68392),u=r(42742),d=r(1800),h={};function f(e){return e&&"function"==typeof e.pipe}function p(e){return!1===e.readable?Promise.resolve():new Promise(t=>{let r=()=>{t(),e.removeListener("close",r),e.removeListener("end",r),e.removeListener("error",r)};e.on("close",r),e.on("end",r),e.on("error",r)})}function m(e){return e&&"number"==typeof e.byteLength}class g extends a.Transform{_transform(e,t,r){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),r()}catch(e){r(e)}}constructor(e){super(),this.loadedBytes=0,this.progressCallback=e}}class y{constructor(){this.cachedHttpsAgents=new WeakMap}async sendRequest(e){var t,r,n,i;let o,a;let h=new AbortController;if(e.abortSignal){if(e.abortSignal.aborted)throw new l.AbortError("The operation was aborted.");o=e=>{"abort"===e.type&&h.abort()},e.abortSignal.addEventListener("abort",o)}e.timeout>0&&setTimeout(()=>{h.abort()},e.timeout);let m=e.headers.get("Accept-Encoding"),y=(null==m?void 0:m.includes("gzip"))||(null==m?void 0:m.includes("deflate")),E="function"==typeof e.body?e.body():e.body;if(E&&!e.headers.has("Content-Length")){let t=_(E);null!==t&&e.headers.set("Content-Length",t)}try{if(E&&e.onUploadProgress){let t=e.onUploadProgress,r=new g(t);r.on("error",e=>{d.logger.error("Error in upload progress",e)}),f(E)?E.pipe(r):r.end(E),E=r}let o=await this.makeRequest(e,h,E),l=function(e){let t=(0,c.createHttpHeaders)();for(let r of Object.keys(e.headers)){let n=e.headers[r];Array.isArray(n)?n.length>0&&t.set(r,n[0]):n&&t.set(r,n)}return t}(o),p={status:null!==(t=o.statusCode)&&void 0!==t?t:0,headers:l,request:e};if("HEAD"===e.method)return o.resume(),p;a=y?function(e,t){let r=t.get("Content-Encoding");if("gzip"===r){let t=s.createGunzip();return e.pipe(t),t}if("deflate"===r){let t=s.createInflate();return e.pipe(t),t}return e}(o,l):o;let m=e.onDownloadProgress;if(m){let e=new g(m);e.on("error",e=>{d.logger.error("Error in download progress",e)}),a.pipe(e),a=e}return(null===(r=e.streamResponseStatusCodes)||void 0===r?void 0:r.has(Number.POSITIVE_INFINITY))||(null===(n=e.streamResponseStatusCodes)||void 0===n?void 0:n.has(p.status))?p.readableStreamBody=a:p.bodyAsText=await (i=a,new Promise((e,t)=>{let r=[];i.on("data",e=>{Buffer.isBuffer(e)?r.push(e):r.push(Buffer.from(e))}),i.on("end",()=>{e(Buffer.concat(r).toString("utf8"))}),i.on("error",e=>{e&&(null==e?void 0:e.name)==="AbortError"?t(e):t(new u.RestError(`Error reading response as text: ${e.message}`,{code:u.RestError.PARSE_ERROR}))})})),p}finally{if(e.abortSignal&&o){let t=Promise.resolve();f(E)&&(t=p(E));let r=Promise.resolve();f(a)&&(r=p(a)),Promise.all([t,r]).then(()=>{var t;o&&(null===(t=e.abortSignal)||void 0===t||t.removeEventListener("abort",o))}).catch(e=>{d.logger.warning("Error when cleaning up abortListener on httpRequest",e)})}}}makeRequest(e,t,r){var n;let s=new URL(e.url),a="https:"!==s.protocol;if(a&&!e.allowInsecureConnection)throw Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let c={agent:null!==(n=e.agent)&&void 0!==n?n:this.getOrCreateAgent(e,a),hostname:s.hostname,path:`${s.pathname}${s.search}`,port:s.port,method:e.method,headers:e.headers.toJSON({preserveCase:!0})};return new Promise((n,s)=>{let h=a?i.request(c,n):o.request(c,n);h.once("error",t=>{var r;s(new u.RestError(t.message,{code:null!==(r=t.code)&&void 0!==r?r:u.RestError.REQUEST_SEND_ERROR,request:e}))}),t.signal.addEventListener("abort",()=>{let e=new l.AbortError("The operation was aborted.");h.destroy(e),s(e)}),r&&f(r)?r.pipe(h):r?"string"==typeof r||Buffer.isBuffer(r)?h.end(r):m(r)?h.end(ArrayBuffer.isView(r)?Buffer.from(r.buffer):Buffer.from(r)):(d.logger.error("Unrecognized body type",r),s(new u.RestError("Unrecognized body type"))):h.end()})}getOrCreateAgent(e,t){var r;let n=e.disableKeepAlive;if(t)return n?i.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new i.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(n&&!e.tlsSettings)return o.globalAgent;let t=null!==(r=e.tlsSettings)&&void 0!==r?r:h,i=this.cachedHttpsAgents.get(t);return i&&!n===i.options.keepAlive||(d.logger.info("No cached TLS Agent exist, creating a new Agent"),i=new o.Agent(Object.assign({keepAlive:!n},t)),this.cachedHttpsAgents.set(t,i)),i}}}function _(e){return e?Buffer.isBuffer(e)?e.length:f(e)?null:m(e)?e.byteLength:"string"==typeof e?Buffer.from(e).length:null:0}},730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEmptyPipeline=function(){return n.create()};let r=new Set(["Deserialize","Serialize","Retry","Sign"]);class n{constructor(e){var t;this._policies=[],this._policies=null!==(t=null==e?void 0:e.slice(0))&&void 0!==t?t:[],this._orderedPolicies=void 0}addPolicy(e,t={}){if(t.phase&&t.afterPhase)throw Error("Policies inside a phase cannot specify afterPhase.");if(t.phase&&!r.has(t.phase))throw Error(`Invalid phase name: ${t.phase}`);if(t.afterPhase&&!r.has(t.afterPhase))throw Error(`Invalid afterPhase name: ${t.afterPhase}`);this._policies.push({policy:e,options:t}),this._orderedPolicies=void 0}removePolicy(e){let t=[];return this._policies=this._policies.filter(r=>(!e.name||r.policy.name!==e.name)&&(!e.phase||r.options.phase!==e.phase)||(t.push(r.policy),!1)),this._orderedPolicies=void 0,t}sendRequest(e,t){return this.getOrderedPolicies().reduceRight((e,t)=>r=>t.sendRequest(r,e),t=>e.sendRequest(t))(t)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new n(this._policies)}static create(){return new n}orderPolicies(){let e=[],t=new Map;function r(e){return{name:e,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}let n=r("Serialize"),i=r("None"),o=r("Deserialize"),s=r("Retry"),a=r("Sign"),l=[n,i,o,s,a];function c(e){return"Retry"===e?s:"Serialize"===e?n:"Deserialize"===e?o:"Sign"===e?a:i}for(let e of this._policies){let r=e.policy,n=e.options,i=r.name;if(t.has(i))throw Error("Duplicate policy names not allowed in pipeline");let o={policy:r,dependsOn:new Set,dependants:new Set};n.afterPhase&&(o.afterPhase=c(n.afterPhase),o.afterPhase.hasAfterPolicies=!0),t.set(i,o),c(n.phase).policies.add(o)}for(let e of this._policies){let{policy:r,options:n}=e,i=r.name,o=t.get(i);if(!o)throw Error(`Missing node for policy ${i}`);if(n.afterPolicies)for(let e of n.afterPolicies){let r=t.get(e);r&&(o.dependsOn.add(r),r.dependants.add(o))}if(n.beforePolicies)for(let e of n.beforePolicies){let r=t.get(e);r&&(r.dependsOn.add(o),o.dependants.add(r))}}function u(r){for(let n of(r.hasRun=!0,r.policies))if((!n.afterPhase||n.afterPhase.hasRun&&!n.afterPhase.policies.size)&&0===n.dependsOn.size){for(let t of(e.push(n.policy),n.dependants))t.dependsOn.delete(n);t.delete(n.policy.name),r.policies.delete(n)}}let d=0;for(;t.size>0;){d++;let t=e.length;if(function(){for(let e of l){if(u(e),e.policies.size>0&&e!==i){i.hasRun||u(i);return}e.hasAfterPolicies&&u(i)}}(),e.length<=t&&d>1)throw Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}}},37141:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPipelineRequest=function(e){return new o(e)};let n=r(68392),i=r(60455);class o{constructor(e){var t,r,o,s,a,l,c;this.url=e.url,this.body=e.body,this.headers=null!==(t=e.headers)&&void 0!==t?t:(0,n.createHttpHeaders)(),this.method=null!==(r=e.method)&&void 0!==r?r:"GET",this.timeout=null!==(o=e.timeout)&&void 0!==o?o:0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=null!==(s=e.disableKeepAlive)&&void 0!==s&&s,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=null!==(a=e.withCredentials)&&void 0!==a&&a,this.abortSignal=e.abortSignal,this.tracingOptions=e.tracingOptions,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||(0,i.randomUUID)(),this.allowInsecureConnection=null!==(l=e.allowInsecureConnection)&&void 0!==l&&l,this.enableBrowserStreams=null!==(c=e.enableBrowserStreams)&&void 0!==c&&c,this.agent=e.agent,this.tlsSettings=e.tlsSettings}}},85078:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.agentPolicyName=void 0,t.agentPolicy=function(e){return{name:t.agentPolicyName,sendRequest:async(t,r)=>(t.agent||(t.agent=e),r(t))}},t.agentPolicyName="agentPolicy"},36074:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.auxiliaryAuthenticationHeaderPolicyName=void 0,t.auxiliaryAuthenticationHeaderPolicy=function(e){let{credentials:r,scopes:a}=e,l=e.logger||i.logger,c=new WeakMap;return{name:t.auxiliaryAuthenticationHeaderPolicyName,async sendRequest(e,i){if(!e.url.toLowerCase().startsWith("https://"))throw Error("Bearer token authentication for auxiliary header is not permitted for non-TLS protected (non-https) URLs.");if(!r||0===r.length)return l.info(`${t.auxiliaryAuthenticationHeaderPolicyName} header will not be set due to empty credentials.`),i(e);let u=[];for(let t of r){let r=c.get(t);r||(r=(0,n.createTokenCycler)(t),c.set(t,r)),u.push(s({scopes:Array.isArray(a)?a:[a],request:e,getAccessToken:r,logger:l}))}let d=(await Promise.all(u)).filter(e=>!!e);return 0===d.length?l.warning(`None of the auxiliary tokens are valid. ${o} header will not be set.`):e.headers.set(o,d.map(e=>`Bearer ${e}`).join(", ")),i(e)}}};let n=r(7982),i=r(1800);t.auxiliaryAuthenticationHeaderPolicyName="auxiliaryAuthenticationHeaderPolicy";let o="x-ms-authorization-auxiliary";async function s(e){var t,r;let{scopes:n,getAccessToken:i,request:o}=e,s={abortSignal:o.abortSignal,tracingOptions:o.tracingOptions};return null!==(r=null===(t=await i(n,s))||void 0===t?void 0:t.token)&&void 0!==r?r:""}},90421:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bearerTokenAuthenticationPolicyName=void 0,t.bearerTokenAuthenticationPolicy=function(e){var r,o,u;let{credential:h,scopes:f,challengeCallbacks:p}=e,m=e.logger||i.logger,g={authorizeRequest:null!==(o=null===(r=null==p?void 0:p.authorizeRequest)||void 0===r?void 0:r.bind(p))&&void 0!==o?o:a,authorizeRequestOnChallenge:null===(u=null==p?void 0:p.authorizeRequestOnChallenge)||void 0===u?void 0:u.bind(p)},y=h?(0,n.createTokenCycler)(h):()=>Promise.resolve(null);return{name:t.bearerTokenAuthenticationPolicyName,async sendRequest(e,t){let r,n;if(!e.url.toLowerCase().startsWith("https://"))throw Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");if(await g.authorizeRequest({scopes:Array.isArray(f)?f:[f],request:e,getAccessToken:y,logger:m}),[r,n]=await s(e,t),l(r)){let i=d(r.headers.get("WWW-Authenticate"));if(i){let o;try{o=atob(i)}catch(e){return m.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${i}`),r}await c({scopes:Array.isArray(f)?f:[f],response:r,request:e,getAccessToken:y,logger:m},o)&&([r,n]=await s(e,t))}else if(g.authorizeRequestOnChallenge&&(await g.authorizeRequestOnChallenge({scopes:Array.isArray(f)?f:[f],request:e,response:r,getAccessToken:y,logger:m})&&([r,n]=await s(e,t)),l(r)&&(i=d(r.headers.get("WWW-Authenticate"))))){let o;try{o=atob(i)}catch(e){return m.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${i}`),r}await c({scopes:Array.isArray(f)?f:[f],response:r,request:e,getAccessToken:y,logger:m},o)&&([r,n]=await s(e,t))}}if(!n)return r;throw n}}},t.parseChallenges=u;let n=r(7982),i=r(1800),o=r(42742);async function s(e,t){try{return[await t(e),void 0]}catch(e){if((0,o.isRestError)(e)&&e.response)return[e.response,e];throw e}}async function a(e){let{scopes:t,getAccessToken:r,request:n}=e,i={abortSignal:n.abortSignal,tracingOptions:n.tracingOptions,enableCae:!0},o=await r(t,i);o&&e.request.headers.set("Authorization",`Bearer ${o.token}`)}function l(e){return 401===e.status&&e.headers.has("WWW-Authenticate")}async function c(e,t){var r;let{scopes:n}=e,i=await e.getAccessToken(n,{enableCae:!0,claims:t});return!!i&&(e.request.headers.set("Authorization",`${null!==(r=i.tokenType)&&void 0!==r?r:"Bearer"} ${i.token}`),!0)}function u(e){let t;let r=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,n=/(\w+)="([^"]*)"/g,i=[];for(;null!==(t=r.exec(e));){let e;let r=t[1],o=t[2],s={};for(;null!==(e=n.exec(o));)s[e[1]]=e[2];i.push({scheme:r,params:s})}return i}function d(e){var t;if(e)return null===(t=u(e).find(e=>"Bearer"===e.scheme&&e.params.claims&&"insufficient_claims"===e.params.error))||void 0===t?void 0:t.params.claims}t.bearerTokenAuthenticationPolicyName="bearerTokenAuthenticationPolicy"},2123:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decompressResponsePolicyName=void 0,t.decompressResponsePolicy=function(){return{name:t.decompressResponsePolicyName,sendRequest:async(e,t)=>("HEAD"!==e.method&&e.headers.set("Accept-Encoding","gzip,deflate"),t(e))}},t.decompressResponsePolicyName="decompressResponsePolicy"},23558:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultRetryPolicyName=void 0,t.defaultRetryPolicy=function(e={}){var r;return{name:t.defaultRetryPolicyName,sendRequest:(0,o.retryPolicy)([(0,i.throttlingRetryStrategy)(),(0,n.exponentialRetryStrategy)(e)],{maxRetries:null!==(r=e.maxRetries)&&void 0!==r?r:s.DEFAULT_RETRY_POLICY_COUNT}).sendRequest}};let n=r(93454),i=r(3852),o=r(80365),s=r(90159);t.defaultRetryPolicyName="defaultRetryPolicy"},67972:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exponentialRetryPolicyName=void 0,t.exponentialRetryPolicy=function(e={}){var t;return(0,i.retryPolicy)([(0,n.exponentialRetryStrategy)(Object.assign(Object.assign({},e),{ignoreSystemErrors:!0}))],{maxRetries:null!==(t=e.maxRetries)&&void 0!==t?t:o.DEFAULT_RETRY_POLICY_COUNT})};let n=r(93454),i=r(80365),o=r(90159);t.exponentialRetryPolicyName="exponentialRetryPolicy"},42297:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formDataPolicyName=void 0,t.formDataPolicy=function(){return{name:t.formDataPolicyName,async sendRequest(e,t){if(n.isNodeLike&&"undefined"!=typeof FormData&&e.body instanceof FormData&&(e.formData=function(e){var t;let r={};for(let[n,i]of e.entries())null!==(t=r[n])&&void 0!==t||(r[n]=[]),r[n].push(i);return r}(e.body),e.body=void 0),e.formData){let t=e.headers.get("Content-Type");t&&-1!==t.indexOf("application/x-www-form-urlencoded")?e.body=function(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,e.toString());else t.append(r,n.toString());return t.toString()}(e.formData):await o(e.formData,e),e.formData=void 0}return t(e)}}};let n=r(60455),i=r(68392);async function o(e,t){let r=t.headers.get("Content-Type");if(r&&!r.startsWith("multipart/form-data"))return;t.headers.set("Content-Type",null!=r?r:"multipart/form-data");let o=[];for(let[t,r]of Object.entries(e))for(let e of Array.isArray(r)?r:[r])if("string"==typeof e)o.push({headers:(0,i.createHttpHeaders)({"Content-Disposition":`form-data; name="${t}"`}),body:(0,n.stringToUint8Array)(e,"utf-8")});else if(null==e||"object"!=typeof e)throw Error(`Unexpected value for key ${t}: ${e}. Value should be serialized to string first.`);else{let r=e.name||"blob",n=(0,i.createHttpHeaders)();n.set("Content-Disposition",`form-data; name="${t}"; filename="${r}"`),n.set("Content-Type",e.type||"application/octet-stream"),o.push({headers:n,body:e})}t.multipartBody={parts:o}}t.formDataPolicyName="formDataPolicy"},27725:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logPolicyName=void 0,t.logPolicy=function(e={}){var r;let o=null!==(r=e.logger)&&void 0!==r?r:n.logger.info,s=new i.Sanitizer({additionalAllowedHeaderNames:e.additionalAllowedHeaderNames,additionalAllowedQueryParameters:e.additionalAllowedQueryParameters});return{name:t.logPolicyName,async sendRequest(e,t){if(!o.enabled)return t(e);o(`Request: ${s.sanitize(e)}`);let r=await t(e);return o(`Response status code: ${r.status}`),o(`Headers: ${s.sanitize(r.headers)}`),r}}};let n=r(1800),i=r(33924);t.logPolicyName="logPolicy"},31515:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multipartPolicyName=void 0,t.multipartPolicy=function(){return{name:t.multipartPolicyName,async sendRequest(e,t){var r;if(!e.multipartBody)return t(e);if(e.body)throw Error("multipartBody and regular body cannot be set at the same time");let i=e.multipartBody.boundary,o=null!==(r=e.headers.get("Content-Type"))&&void 0!==r?r:"multipart/mixed",l=o.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!l)throw Error(`Got multipart request body, but content-type header was not multipart: ${o}`);let[,c,u]=l;if(u&&i&&u!==i)throw Error(`Multipart boundary was specified as ${u} in the header, but got ${i} in the request body`);return null!=i||(i=u),i?function(e){if(e.length>70)throw Error(`Multipart boundary "${e}" exceeds maximum length of 70 characters`);if(Array.from(e).some(e=>!a.has(e)))throw Error(`Multipart boundary "${e}" contains invalid characters`)}(i):i=`----AzSDKFormBoundary${(0,n.randomUUID)()}`,e.headers.set("Content-Type",`${c}; boundary=${i}`),await s(e,e.multipartBody.parts,i),e.multipartBody=void 0,t(e)}}};let n=r(60455),i=r(1251),o=r(1909);async function s(e,t,r){let s=[(0,n.stringToUint8Array)(`--${r}`,"utf-8"),...t.flatMap(e=>[(0,n.stringToUint8Array)("\r\n","utf-8"),(0,n.stringToUint8Array)(function(e){let t="";for(let[r,n]of e)t+=`${r}: ${n}\r
`;return t}(e.headers),"utf-8"),(0,n.stringToUint8Array)("\r\n","utf-8"),e.body,(0,n.stringToUint8Array)(`\r
--${r}`,"utf-8")]),(0,n.stringToUint8Array)("--\r\n\r\n","utf-8")],a=function(e){let t=0;for(let r of e){let e=r instanceof Uint8Array?r.byteLength:(0,o.isBlob)(r)?-1===r.size?void 0:r.size:void 0;if(void 0===e)return;t+=e}return t}(s);a&&e.headers.set("Content-Length",a),e.body=await (0,i.concat)(s)}t.multipartPolicyName="multipartPolicy";let a=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?")},56399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ndJsonPolicyName=void 0,t.ndJsonPolicy=function(){return{name:t.ndJsonPolicyName,async sendRequest(e,t){if("string"==typeof e.body&&e.body.startsWith("[")){let t=JSON.parse(e.body);Array.isArray(t)&&(e.body=t.map(e=>JSON.stringify(e)+"\n").join(""))}return t(e)}}},t.ndJsonPolicyName="ndJsonPolicy"},13627:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalNoProxyList=t.proxyPolicyName=void 0,t.loadNoProxy=u,t.getDefaultProxySettings=function(e){if(!e&&!(e=c()))return;let t=new URL(e);return{host:(t.protocol?t.protocol+"//":"")+t.hostname,port:Number.parseInt(t.port||"80"),username:t.username,password:t.password}},t.proxyPolicy=function(e,r){s||t.globalNoProxyList.push(...u());let n=e?d(e):function(){let e=c();return e?new URL(e):void 0}(),i={};return{name:t.proxyPolicyName,async sendRequest(e,o){var s;return!e.proxySettings&&n&&!function(e,t,r){if(0===t.length)return!1;let n=new URL(e).hostname;if(null==r?void 0:r.has(n))return r.get(n);let i=!1;for(let e of t)"."===e[0]?n.endsWith(e)?i=!0:n.length===e.length-1&&n===e.slice(1)&&(i=!0):n===e&&(i=!0);return null==r||r.set(n,i),i}(e.url,null!==(s=null==r?void 0:r.customNoProxyList)&&void 0!==s?s:t.globalNoProxyList,(null==r?void 0:r.customNoProxyList)?void 0:a)?h(e,i,n):e.proxySettings&&h(e,i,d(e.proxySettings)),o(e)}}};let n=r(47784),i=r(76125),o=r(1800);t.proxyPolicyName="proxyPolicy",t.globalNoProxyList=[];let s=!1,a=new Map;function l(e){return process.env[e]?process.env[e]:process.env[e.toLowerCase()]?process.env[e.toLowerCase()]:void 0}function c(){if(!process)return;let e=l("HTTPS_PROXY"),t=l("ALL_PROXY"),r=l("HTTP_PROXY");return e||t||r}function u(){let e=l("NO_PROXY");return(s=!0,e)?e.split(",").map(e=>e.trim()).filter(e=>e.length):[]}function d(e){let t;try{t=new URL(e.host)}catch(t){throw Error(`Expecting a valid host string in proxy settings, but found "${e.host}".`)}return t.port=String(e.port),e.username&&(t.username=e.username),e.password&&(t.password=e.password),t}function h(e,t,r){if(e.agent)return;let s="https:"!==new URL(e.url).protocol;e.tlsSettings&&o.logger.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let a=e.headers.toJSON();s?(t.httpProxyAgent||(t.httpProxyAgent=new i.HttpProxyAgent(r,{headers:a})),e.agent=t.httpProxyAgent):(t.httpsProxyAgent||(t.httpsProxyAgent=new n.HttpsProxyAgent(r,{headers:a})),e.agent=t.httpsProxyAgent)}},34659:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.redirectPolicyName=void 0,t.redirectPolicy=function(e={}){let{maxRetries:r=20}=e;return{name:t.redirectPolicyName,async sendRequest(e,t){let i=await t(e);return n(t,i,r)}}},t.redirectPolicyName="redirectPolicy";let r=["GET","HEAD"];async function n(e,t,i,o=0){let{request:s,status:a,headers:l}=t,c=l.get("location");if(c&&(300===a||301===a&&r.includes(s.method)||302===a&&r.includes(s.method)||303===a&&"POST"===s.method||307===a)&&o<i){let t=new URL(c,s.url);s.url=t.toString(),303===a&&(s.method="GET",s.headers.delete("Content-Length"),delete s.body),s.headers.delete("Authorization");let r=await e(s);return n(e,r,i,o+1)}return t}},80365:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryPolicy=function(e,t={maxRetries:s.DEFAULT_RETRY_POLICY_COUNT}){let r=t.logger||a;return{name:"retryPolicy",async sendRequest(i,l){var c,u;let d,h;let f=-1;r:for(;;){f+=1,d=void 0,h=void 0;try{r.info(`Retry ${f}: Attempting to send request`,i.requestId),d=await l(i),r.info(`Retry ${f}: Received a response from request`,i.requestId)}catch(e){if(r.error(`Retry ${f}: Received an error from request`,i.requestId),h=e,!e||"RestError"!==h.name)throw e;d=h.response}if(null===(c=i.abortSignal)||void 0===c?void 0:c.aborted)throw r.error(`Retry ${f}: Request aborted.`),new o.AbortError;if(f>=(null!==(u=t.maxRetries)&&void 0!==u?u:s.DEFAULT_RETRY_POLICY_COUNT)){if(r.info(`Retry ${f}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),h)throw h;if(d)return d;throw Error("Maximum retries reached with no response or error to throw")}for(let t of(r.info(`Retry ${f}: Processing ${e.length} retry strategies.`),e)){let e=t.logger||a;e.info(`Retry ${f}: Processing retry strategy ${t.name}.`);let r=t.retry({retryCount:f,response:d,responseError:h});if(r.skipStrategy){e.info(`Retry ${f}: Skipped.`);continue}let{errorToThrow:o,retryAfterInMs:s,redirectTo:l}=r;if(o)throw e.error(`Retry ${f}: Retry strategy ${t.name} throws error:`,o),o;if(s||0===s){e.info(`Retry ${f}: Retry strategy ${t.name} retries after ${s}`),await (0,n.delay)(s,void 0,{abortSignal:i.abortSignal});continue r}if(l){e.info(`Retry ${f}: Retry strategy ${t.name} redirects to ${l}`),i.url=l;continue r}}if(h)throw r.info("None of the retry strategies could work with the received error. Throwing it."),h;if(d)return r.info("None of the retry strategies could work with the received response. Returning it."),d}}}};let n=r(19334),i=r(46023),o=r(32434),s=r(90159),a=(0,i.createClientLogger)("core-rest-pipeline retryPolicy")},29450:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setClientRequestIdPolicyName=void 0,t.setClientRequestIdPolicy=function(e="x-ms-client-request-id"){return{name:t.setClientRequestIdPolicyName,sendRequest:async(t,r)=>(t.headers.has(e)||t.headers.set(e,t.requestId),r(t))}},t.setClientRequestIdPolicyName="setClientRequestIdPolicy"},61514:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.systemErrorRetryPolicyName=void 0,t.systemErrorRetryPolicy=function(e={}){var r;return{name:t.systemErrorRetryPolicyName,sendRequest:(0,i.retryPolicy)([(0,n.exponentialRetryStrategy)(Object.assign(Object.assign({},e),{ignoreHttpStatusCodes:!0}))],{maxRetries:null!==(r=e.maxRetries)&&void 0!==r?r:o.DEFAULT_RETRY_POLICY_COUNT}).sendRequest}};let n=r(93454),i=r(80365),o=r(90159);t.systemErrorRetryPolicyName="systemErrorRetryPolicy"},15844:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttlingRetryPolicyName=void 0,t.throttlingRetryPolicy=function(e={}){var r;return{name:t.throttlingRetryPolicyName,sendRequest:(0,i.retryPolicy)([(0,n.throttlingRetryStrategy)()],{maxRetries:null!==(r=e.maxRetries)&&void 0!==r?r:o.DEFAULT_RETRY_POLICY_COUNT}).sendRequest}};let n=r(3852),i=r(80365),o=r(90159);t.throttlingRetryPolicyName="throttlingRetryPolicy"},41114:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tlsPolicyName=void 0,t.tlsPolicy=function(e){return{name:t.tlsPolicyName,sendRequest:async(t,r)=>(t.tlsSettings||(t.tlsSettings=e),r(t))}},t.tlsPolicyName="tlsPolicy"},42493:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tracingPolicyName=void 0,t.tracingPolicy=function(e={}){let r=(0,o.getUserAgentValue)(e.userAgentPrefix),u=new c.Sanitizer({additionalAllowedQueryParameters:e.additionalAllowedQueryParameters}),d=function(){try{return(0,n.createTracingClient)({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:i.SDK_VERSION})}catch(e){s.logger.warning(`Error when creating the TracingClient: ${(0,a.getErrorMessage)(e)}`);return}}();return{name:t.tracingPolicyName,async sendRequest(e,t){var n;if(!d)return t(e);let i=await r,o={"http.url":u.sanitizeUrl(e.url),"http.method":e.method,"http.user_agent":i,requestId:e.requestId};i&&(o["http.user_agent"]=i);let{span:c,tracingContext:h}=null!==(n=function(e,t,r){try{let{span:n,updatedOptions:i}=e.startSpan(`HTTP ${t.method}`,{tracingOptions:t.tracingOptions},{spanKind:"client",spanAttributes:r});if(!n.isRecording()){n.end();return}let o=e.createRequestHeaders(i.tracingOptions.tracingContext);for(let[e,r]of Object.entries(o))t.headers.set(e,r);return{span:n,tracingContext:i.tracingOptions.tracingContext}}catch(e){s.logger.warning(`Skipping creating a tracing span due to an error: ${(0,a.getErrorMessage)(e)}`);return}}(d,e,o))&&void 0!==n?n:{};if(!c||!h)return t(e);try{let r=await d.withContext(h,t,e);return function(e,t){try{e.setAttribute("http.status_code",t.status);let r=t.headers.get("x-ms-request-id");r&&e.setAttribute("serviceRequestId",r),t.status>=400&&e.setStatus({status:"error"}),e.end()}catch(e){s.logger.warning(`Skipping tracing span processing due to an error: ${(0,a.getErrorMessage)(e)}`)}}(c,r),r}catch(e){throw function(e,t){try{e.setStatus({status:"error",error:(0,a.isError)(t)?t:void 0}),(0,l.isRestError)(t)&&t.statusCode&&e.setAttribute("http.status_code",t.statusCode),e.end()}catch(e){s.logger.warning(`Skipping tracing span processing due to an error: ${(0,a.getErrorMessage)(e)}`)}}(c,e),e}}}};let n=r(46539),i=r(90159),o=r(49115),s=r(1800),a=r(60455),l=r(42742),c=r(33924);t.tracingPolicyName="tracingPolicy"},1419:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userAgentPolicyName=void 0,t.userAgentPolicy=function(e={}){let r=(0,n.getUserAgentValue)(e.userAgentPrefix);return{name:t.userAgentPolicyName,sendRequest:async(e,t)=>(e.headers.has(i)||e.headers.set(i,await r),t(e))}};let n=r(49115),i=(0,n.getUserAgentHeaderName)();t.userAgentPolicyName="userAgentPolicy"},42742:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestError=void 0,t.isRestError=function(e){return e instanceof s||(0,n.isError)(e)&&"RestError"===e.name};let n=r(60455),i=r(60007),o=new(r(33924)).Sanitizer;class s extends Error{constructor(e,t={}){super(e),this.name="RestError",this.code=t.code,this.statusCode=t.statusCode,Object.defineProperty(this,"request",{value:t.request,enumerable:!1}),Object.defineProperty(this,"response",{value:t.response,enumerable:!1}),Object.setPrototypeOf(this,s.prototype)}[i.custom](){return`RestError: ${this.message} 
 ${o.sanitize(Object.assign(Object.assign({},this),{request:this.request,response:this.response}))}`}}t.RestError=s,s.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",s.PARSE_ERROR="PARSE_ERROR"},93454:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exponentialRetryStrategy=function(e={}){var t,r;let a=null!==(t=e.retryDelayInMs)&&void 0!==t?t:1e3,l=null!==(r=e.maxRetryDelayInMs)&&void 0!==r?r:64e3;return{name:"exponentialRetryStrategy",retry({retryCount:t,response:r,responseError:c}){let u=s(c),d=u&&e.ignoreSystemErrors,h=o(r),f=h&&e.ignoreHttpStatusCodes;return r&&((0,i.isThrottlingRetryResponse)(r)||!h)||f||d?{skipStrategy:!0}:!c||u||h?(0,n.calculateRetryDelay)(t,{retryDelayInMs:a,maxRetryDelayInMs:l}):{errorToThrow:c}}}},t.isExponentialRetryResponse=o,t.isSystemError=s;let n=r(60455),i=r(3852);function o(e){return!!(e&&void 0!==e.status&&(e.status>=500||408===e.status)&&501!==e.status&&505!==e.status)}function s(e){return!!e&&("ETIMEDOUT"===e.code||"ESOCKETTIMEDOUT"===e.code||"ECONNREFUSED"===e.code||"ECONNRESET"===e.code||"ENOENT"===e.code||"ENOTFOUND"===e.code)}},3852:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isThrottlingRetryResponse=function(e){return Number.isFinite(s(e))},t.throttlingRetryStrategy=function(){return{name:"throttlingRetryStrategy",retry({response:e}){let t=s(e);return Number.isFinite(t)?{retryAfterInMs:t}:{skipStrategy:!0}}}};let n=r(19334),i="Retry-After",o=["retry-after-ms","x-ms-retry-after-ms",i];function s(e){if(e&&[429,503].includes(e.status))try{for(let t of o){let r=(0,n.parseHeaderValueAsNumber)(e,t);if(0===r||r){let e=t===i?1e3:1;return r*e}}let t=e.headers.get(i);if(!t)return;let r=Date.parse(t)-Date.now();return Number.isFinite(r)?Math.max(0,r):void 0}catch(e){return}}},1251:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concat=l;let n=r(78372),i=r(57075),o=r(1909),s=r(49329);function a(){return n.__asyncGenerator(this,arguments,function*(){let e=this.getReader();try{for(;;){let{done:t,value:r}=yield n.__await(e.read());if(t)return yield n.__await(void 0);yield yield n.__await(r)}}finally{e.releaseLock()}})}async function l(e){return function(){let t=e.map(e=>"function"==typeof e?e():e).map(function e(t){var r;return t instanceof Uint8Array?i.Readable.from(Buffer.from(t)):(0,o.isBlob)(t)?e((0,s.getRawContent)(t)):(r=t)instanceof ReadableStream?(r[Symbol.asyncIterator]||(r[Symbol.asyncIterator]=a.bind(r)),r.values||(r.values=a.bind(r)),i.Readable.fromWeb(r)):r});return i.Readable.from(function(){return n.__asyncGenerator(this,arguments,function*(){var e,r,i,o;for(let c of t)try{for(var s,a=!0,l=(r=void 0,n.__asyncValues(c));!(e=(s=yield n.__await(l.next())).done);a=!0)o=s.value,a=!1,yield yield n.__await(o)}catch(e){r={error:e}}finally{try{!a&&!e&&(i=l.return)&&(yield n.__await(i.call(l)))}finally{if(r)throw r.error}}})}())}}},49329:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRawContent=function(e){return"function"==typeof e[s]?e[s]():e.stream()},t.createFileFromStream=function(e,t,r={}){var n,a,l,c;return Object.assign(Object.assign({},o),{type:null!==(n=r.type)&&void 0!==n?n:"",lastModified:null!==(a=r.lastModified)&&void 0!==a?a:new Date().getTime(),webkitRelativePath:null!==(l=r.webkitRelativePath)&&void 0!==l?l:"",size:null!==(c=r.size)&&void 0!==c?c:-1,name:t,stream:()=>{let t=e();if((0,i.isNodeReadableStream)(t))throw Error("Not supported: a Node stream was provided as input to createFileFromStream.");return t},[s]:e})},t.createFile=function(e,t,r={}){var i,a,l;return n.isNodeLike?Object.assign(Object.assign({},o),{type:null!==(i=r.type)&&void 0!==i?i:"",lastModified:null!==(a=r.lastModified)&&void 0!==a?a:new Date().getTime(),webkitRelativePath:null!==(l=r.webkitRelativePath)&&void 0!==l?l:"",size:e.byteLength,name:t,arrayBuffer:async()=>e.buffer,stream:()=>new Blob([e]).stream(),[s]:()=>e}):new File([e],t,r)};let n=r(60455),i=r(1909),o={arrayBuffer:()=>{throw Error("Not implemented")},bytes:()=>{throw Error("Not implemented")},slice:()=>{throw Error("Not implemented")},text:()=>{throw Error("Not implemented")}},s=Symbol("rawContent")},19334:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=function(e,t,r){return new Promise((i,o)=>{let s,a;let l=()=>o(new n.AbortError((null==r?void 0:r.abortErrorMsg)?null==r?void 0:r.abortErrorMsg:"The operation was aborted.")),c=()=>{(null==r?void 0:r.abortSignal)&&a&&r.abortSignal.removeEventListener("abort",a)};if(a=()=>(s&&clearTimeout(s),c(),l()),(null==r?void 0:r.abortSignal)&&r.abortSignal.aborted)return l();s=setTimeout(()=>{c(),i(t)},e),(null==r?void 0:r.abortSignal)&&r.abortSignal.addEventListener("abort",a)})},t.parseHeaderValueAsNumber=function(e,t){let r=e.headers.get(t);if(!r)return;let n=Number(r);if(!Number.isNaN(n))return n};let n=r(32434)},60007:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.custom=void 0;let n=r(57975);t.custom=n.inspect.custom},33924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sanitizer=void 0;let n=r(60455),i="REDACTED",o=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],s=["api-version"];class a{constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:t=[]}={}){e=o.concat(e),t=s.concat(t),this.allowedHeaderNames=new Set(e.map(e=>e.toLowerCase())),this.allowedQueryParameters=new Set(t.map(e=>e.toLowerCase()))}sanitize(e){let t=new Set;return JSON.stringify(e,(e,r)=>{if(r instanceof Error)return Object.assign(Object.assign({},r),{name:r.name,message:r.message});if("headers"===e)return this.sanitizeHeaders(r);if("url"===e)return this.sanitizeUrl(r);if("query"===e)return this.sanitizeQuery(r);if("body"!==e){if("response"===e)return;if("operationSpec"===e)return;else if(Array.isArray(r)||(0,n.isObject)(r)){if(t.has(r))return"[Circular]";t.add(r)}return r}},2)}sanitizeUrl(e){if("string"!=typeof e||null===e||""===e)return e;let t=new URL(e);if(!t.search)return e;for(let[e]of t.searchParams)this.allowedQueryParameters.has(e.toLowerCase())||t.searchParams.set(e,i);return t.toString()}sanitizeHeaders(e){let t={};for(let r of Object.keys(e))this.allowedHeaderNames.has(r.toLowerCase())?t[r]=e[r]:t[r]=i;return t}sanitizeQuery(e){if("object"!=typeof e||null===e)return e;let t={};for(let r of Object.keys(e))this.allowedQueryParameters.has(r.toLowerCase())?t[r]=e[r]:t[r]=i;return t}}t.Sanitizer=a},7982:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CYCLER_OPTIONS=void 0,t.createTokenCycler=function(e,r){let n,o=null,s=null,a=Object.assign(Object.assign({},t.DEFAULT_CYCLER_OPTIONS),r),l={get isRefreshing(){return null!==o},get shouldRefresh(){var c;if(l.isRefreshing)return!1;if((null==s?void 0:s.refreshAfterTimestamp)&&s.refreshAfterTimestamp<Date.now())return!0;return(null!==(c=null==s?void 0:s.expiresOnTimestamp)&&void 0!==c?c:0)-a.refreshWindowInMs<Date.now()},get mustRefresh(){return null===s||s.expiresOnTimestamp-a.forcedRefreshWindowInMs<Date.now()}};function u(t,r){var c;return l.isRefreshing||(o=i(()=>e.getToken(t,r),a.retryIntervalInMs,null!==(c=null==s?void 0:s.expiresOnTimestamp)&&void 0!==c?c:Date.now()).then(e=>(o=null,s=e,n=r.tenantId,s)).catch(e=>{throw o=null,s=null,n=void 0,e})),o}return async(e,t)=>{let r=!!t.claims,i=n!==t.tenantId;return(r&&(s=null),i||r||l.mustRefresh)?u(e,t):(l.shouldRefresh&&u(e,t),s)}};let n=r(19334);async function i(e,t,r){async function i(){if(Date.now()<r)try{return await e()}catch(e){return null}else{let t=await e();if(null===t)throw Error("Failed to refresh access token.");return t}}let o=await i();for(;null===o;)await (0,n.delay)(t),o=await i();return o}t.DEFAULT_CYCLER_OPTIONS={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:12e4}},1909:(e,t)=>{"use strict";function r(e){return!!(e&&"function"==typeof e.pipe)}function n(e){return!!(e&&"function"==typeof e.getReader&&"function"==typeof e.tee)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeReadableStream=r,t.isWebReadableStream=n,t.isReadableStream=function(e){return r(e)||n(e)},t.isBlob=function(e){return"function"==typeof e.stream}},49115:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserAgentHeaderName=function(){return(0,n.getHeaderName)()},t.getUserAgentValue=o;let n=r(33632),i=r(90159);async function o(e){let t=new Map;t.set("core-rest-pipeline",i.SDK_VERSION),await (0,n.setPlatformSpecificData)(t);let r=function(e){let t=[];for(let[r,n]of e){let e=n?`${r}/${n}`:r;t.push(e)}return t.join(" ")}(t);return e?`${e} ${r}`:r}},33632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHeaderName=function(){return"User-Agent"},t.setPlatformSpecificData=s;let n=r(78372),i=n.__importStar(r(48161)),o=n.__importStar(r(1708));async function s(e){if(o&&o.versions){let t=o.versions;t.bun?e.set("Bun",t.bun):t.deno?e.set("Deno",t.deno):t.node&&e.set("Node",t.node)}e.set("OS",`(${i.arch()}-${i.type()}-${i.release()})`)}},46539:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTracingClient=t.useInstrumenter=void 0;var n=r(83897);Object.defineProperty(t,"useInstrumenter",{enumerable:!0,get:function(){return n.useInstrumenter}});var i=r(70274);Object.defineProperty(t,"createTracingClient",{enumerable:!0,get:function(){return i.createTracingClient}})},83897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultTracingSpan=o,t.createDefaultInstrumenter=s,t.useInstrumenter=function(e){i.state.instrumenterImplementation=e},t.getInstrumenter=function(){return i.state.instrumenterImplementation||(i.state.instrumenterImplementation=s()),i.state.instrumenterImplementation};let n=r(8862),i=r(2094);function o(){return{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{},addEvent:()=>{}}}function s(){return{createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(e,t)=>({span:o(),tracingContext:(0,n.createTracingContext)({parentContext:t.tracingContext})}),withContext:(e,t,...r)=>t(...r)}}},2094:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.state=void 0,t.state={instrumenterImplementation:void 0}},70274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTracingClient=function(e){let{namespace:t,packageName:r,packageVersion:o}=e;function s(e,s,a){var l;let c=(0,n.getInstrumenter)().startSpan(e,Object.assign(Object.assign({},a),{packageName:r,packageVersion:o,tracingContext:null===(l=null==s?void 0:s.tracingOptions)||void 0===l?void 0:l.tracingContext})),u=c.tracingContext,d=c.span;return u.getValue(i.knownContextKeys.namespace)||(u=u.setValue(i.knownContextKeys.namespace,t)),d.setAttribute("az.namespace",u.getValue(i.knownContextKeys.namespace)),{span:d,updatedOptions:Object.assign({},s,{tracingOptions:Object.assign(Object.assign({},null==s?void 0:s.tracingOptions),{tracingContext:u})})}}async function a(e,t,r,n){let{span:i,updatedOptions:o}=s(e,t,n);try{let e=await l(o.tracingOptions.tracingContext,()=>Promise.resolve(r(o,i)));return i.setStatus({status:"success"}),e}catch(e){throw i.setStatus({status:"error",error:e}),e}finally{i.end()}}function l(e,t,...r){return(0,n.getInstrumenter)().withContext(e,t,...r)}return{startSpan:s,withSpan:a,withContext:l,parseTraceparentHeader:function(e){return(0,n.getInstrumenter)().parseTraceparentHeader(e)},createRequestHeaders:function(e){return(0,n.getInstrumenter)().createRequestHeaders(e)}}};let n=r(83897),i=r(8862)},8862:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TracingContextImpl=t.knownContextKeys=void 0,t.createTracingContext=function(e={}){let n=new r(e.parentContext);return e.span&&(n=n.setValue(t.knownContextKeys.span,e.span)),e.namespace&&(n=n.setValue(t.knownContextKeys.namespace,e.namespace)),n},t.knownContextKeys={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};class r{constructor(e){this._contextMap=e instanceof r?new Map(e._contextMap):new Map}setValue(e,t){let n=new r(this);return n._contextMap.set(e,t),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){let t=new r(this);return t._contextMap.delete(e),t}}t.TracingContextImpl=r},54217:(e,t)=>{"use strict";async function r(e,t){var r,n;let i=new AbortController;function o(){i.abort()}null===(r=null==t?void 0:t.abortSignal)||void 0===r||r.addEventListener("abort",o);try{return await Promise.race(e.map(e=>e({abortSignal:i.signal})))}finally{i.abort(),null===(n=null==t?void 0:t.abortSignal)||void 0===n||n.removeEventListener("abort",o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.cancelablePromiseRace=r},64077:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint8ArrayToString=function(e,t){return Buffer.from(e).toString(t)},t.stringToUint8Array=function(e,t){return Buffer.from(e,t)}},73806:(e,t)=>{"use strict";var r,n,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.isReactNative=t.isNodeRuntime=t.isNode=t.isNodeLike=t.isBun=t.isDeno=t.isWebWorker=t.isBrowser=void 0,t.isBrowser="undefined"!=typeof window&&void 0!==window.document,t.isWebWorker="object"==typeof self&&"function"==typeof(null==self?void 0:self.importScripts)&&((null===(r=self.constructor)||void 0===r?void 0:r.name)==="DedicatedWorkerGlobalScope"||(null===(n=self.constructor)||void 0===n?void 0:n.name)==="ServiceWorkerGlobalScope"||(null===(i=self.constructor)||void 0===i?void 0:i.name)==="SharedWorkerGlobalScope"),t.isDeno="undefined"!=typeof Deno&&void 0!==Deno.version&&void 0!==Deno.version.deno,t.isBun="undefined"!=typeof Bun&&void 0!==Bun.version,t.isNodeLike=void 0!==globalThis.process&&!!globalThis.process.version&&!!(null===(o=globalThis.process.versions)||void 0===o?void 0:o.node),t.isNode=t.isNodeLike,t.isNodeRuntime=t.isNodeLike&&!t.isBun&&!t.isDeno,t.isReactNative="undefined"!=typeof navigator&&(null==navigator?void 0:navigator.product)==="ReactNative"},45200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAbortablePromise=function(e,t){let{cleanupBeforeAbort:r,abortSignal:i,abortErrorMsg:o}=null!=t?t:{};return new Promise((t,s)=>{function a(){s(new n.AbortError(null!=o?o:"The operation was aborted."))}function l(){null==i||i.removeEventListener("abort",c)}function c(){null==r||r(),l(),a()}if(null==i?void 0:i.aborted)return a();try{e(e=>{l(),t(e)},e=>{l(),s(e)})}catch(e){s(e)}null==i||i.addEventListener("abort",c)})};let n=r(32434)},68060:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=function(e,t){let r;let{abortSignal:i,abortErrorMsg:o}=null!=t?t:{};return(0,n.createAbortablePromise)(t=>{r=setTimeout(t,e)},{cleanupBeforeAbort:()=>clearTimeout(r),abortSignal:i,abortErrorMsg:null!=o?o:"The delay was aborted."})},t.calculateRetryDelay=function(e,t){let r=t.retryDelayInMs*Math.pow(2,e),n=Math.min(t.maxRetryDelayInMs,r);return{retryAfterInMs:n/2+(0,i.getRandomIntegerInclusive)(0,n/2)}};let n=r(45200),i=r(20772)},76409:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isError=i,t.getErrorMessage=function(e){if(i(e))return e.message;{let t;try{t="object"==typeof e&&e?JSON.stringify(e):String(e)}catch(e){t="[unable to stringify input]"}return`Unknown error ${t}`}};let n=r(55484);function i(e){if((0,n.isObject)(e)){let t="string"==typeof e.name,r="string"==typeof e.message;return t&&r}return!1}},60455:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToUint8Array=t.uint8ArrayToString=t.isWebWorker=t.isReactNative=t.isDeno=t.isNodeRuntime=t.isNodeLike=t.isNode=t.isBun=t.isBrowser=t.randomUUID=t.objectHasProperty=t.isObjectWithProperties=t.isDefined=t.computeSha256Hmac=t.computeSha256Hash=t.getErrorMessage=t.isError=t.isObject=t.getRandomIntegerInclusive=t.createAbortablePromise=t.cancelablePromiseRace=t.calculateRetryDelay=t.delay=void 0;var n=r(68060);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return n.delay}}),Object.defineProperty(t,"calculateRetryDelay",{enumerable:!0,get:function(){return n.calculateRetryDelay}});var i=r(54217);Object.defineProperty(t,"cancelablePromiseRace",{enumerable:!0,get:function(){return i.cancelablePromiseRace}});var o=r(45200);Object.defineProperty(t,"createAbortablePromise",{enumerable:!0,get:function(){return o.createAbortablePromise}});var s=r(20772);Object.defineProperty(t,"getRandomIntegerInclusive",{enumerable:!0,get:function(){return s.getRandomIntegerInclusive}});var a=r(55484);Object.defineProperty(t,"isObject",{enumerable:!0,get:function(){return a.isObject}});var l=r(76409);Object.defineProperty(t,"isError",{enumerable:!0,get:function(){return l.isError}}),Object.defineProperty(t,"getErrorMessage",{enumerable:!0,get:function(){return l.getErrorMessage}});var c=r(20660);Object.defineProperty(t,"computeSha256Hash",{enumerable:!0,get:function(){return c.computeSha256Hash}}),Object.defineProperty(t,"computeSha256Hmac",{enumerable:!0,get:function(){return c.computeSha256Hmac}});var u=r(58157);Object.defineProperty(t,"isDefined",{enumerable:!0,get:function(){return u.isDefined}}),Object.defineProperty(t,"isObjectWithProperties",{enumerable:!0,get:function(){return u.isObjectWithProperties}}),Object.defineProperty(t,"objectHasProperty",{enumerable:!0,get:function(){return u.objectHasProperty}});var d=r(18239);Object.defineProperty(t,"randomUUID",{enumerable:!0,get:function(){return d.randomUUID}});var h=r(73806);Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return h.isBrowser}}),Object.defineProperty(t,"isBun",{enumerable:!0,get:function(){return h.isBun}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return h.isNode}}),Object.defineProperty(t,"isNodeLike",{enumerable:!0,get:function(){return h.isNodeLike}}),Object.defineProperty(t,"isNodeRuntime",{enumerable:!0,get:function(){return h.isNodeRuntime}}),Object.defineProperty(t,"isDeno",{enumerable:!0,get:function(){return h.isDeno}}),Object.defineProperty(t,"isReactNative",{enumerable:!0,get:function(){return h.isReactNative}}),Object.defineProperty(t,"isWebWorker",{enumerable:!0,get:function(){return h.isWebWorker}});var f=r(64077);Object.defineProperty(t,"uint8ArrayToString",{enumerable:!0,get:function(){return f.uint8ArrayToString}}),Object.defineProperty(t,"stringToUint8Array",{enumerable:!0,get:function(){return f.stringToUint8Array}})},55484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}},20772:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomIntegerInclusive=function(e,t){return e=Math.ceil(e),Math.floor(Math.random()*((t=Math.floor(t))-e+1))+e}},20660:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeSha256Hmac=i,t.computeSha256Hash=o;let n=r(55511);async function i(e,t,r){let i=Buffer.from(e,"base64");return(0,n.createHmac)("sha256",i).update(t).digest(r)}async function o(e,t){return(0,n.createHash)("sha256").update(e).digest(t)}},58157:(e,t)=>{"use strict";function r(e){return null!=e}function n(e,t){return r(e)&&"object"==typeof e&&t in e}Object.defineProperty(t,"__esModule",{value:!0}),t.isDefined=r,t.isObjectWithProperties=function(e,t){if(!r(e)||"object"!=typeof e)return!1;for(let r of t)if(!n(e,r))return!1;return!0},t.objectHasProperty=n},18239:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.randomUUID=function(){return o()};let i=r(55511),o="function"==typeof(null===(n=null==globalThis?void 0:globalThis.crypto)||void 0===n?void 0:n.randomUUID)?globalThis.crypto.randomUUID.bind(globalThis.crypto):i.randomUUID},46288:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityClient=void 0,t.getIdentityClientAuthorityHost=f;let n=r(99912),i=r(60455),o=r(65350),s=r(93886),a=r(17224),l=r(60244),c=r(59980),u=r(73187),d=r(39216),h="noCorrelationId";function f(e){let t=null==e?void 0:e.authorityHost;return i.isNode&&(t=null!=t?t:process.env.AZURE_AUTHORITY_HOST),null!=t?t:l.DefaultAuthorityHost}class p extends n.ServiceClient{constructor(e){var t,r;let n=`azsdk-js-identity/${l.SDK_VERSION}`,i=(null===(t=null==e?void 0:e.userAgentOptions)||void 0===t?void 0:t.userAgentPrefix)?`${e.userAgentOptions.userAgentPrefix} ${n}`:`${n}`,o=f(e);if(!o.startsWith("https:"))throw Error("The authorityHost address must use the 'https' protocol.");super(Object.assign(Object.assign({requestContentType:"application/json; charset=utf-8",retryOptions:{maxRetries:3}},e),{userAgentOptions:{userAgentPrefix:i},baseUri:o})),this.allowInsecureConnection=!1,this.authorityHost=o,this.abortControllers=new Map,this.allowLoggingAccountIdentifiers=null===(r=null==e?void 0:e.loggingOptions)||void 0===r?void 0:r.allowLoggingAccountIdentifiers,this.tokenCredentialOptions=Object.assign({},e),(null==e?void 0:e.allowInsecureConnection)&&(this.allowInsecureConnection=e.allowInsecureConnection)}async sendTokenRequest(e){u.logger.info(`IdentityClient: sending token request to [${e.url}]`);let t=await this.sendRequest(e);if(t.bodyAsText&&(200===t.status||201===t.status)){let r=JSON.parse(t.bodyAsText);if(!r.access_token)return null;this.logIdentifiers(t);let n={accessToken:{token:r.access_token,expiresOnTimestamp:(0,d.parseExpirationTimestamp)(r),refreshAfterTimestamp:(0,d.parseRefreshTimestamp)(r),tokenType:"Bearer"},refreshToken:r.refresh_token};return u.logger.info(`IdentityClient: [${e.url}] token acquired, expires on ${n.accessToken.expiresOnTimestamp}`),n}{let e=new s.AuthenticationError(t.status,t.bodyAsText);throw u.logger.warning(`IdentityClient: authentication error. HTTP status: ${t.status}, ${e.errorResponse.errorDescription}`),e}}async refreshAccessToken(e,t,r,n,i,l={}){if(void 0===n)return null;u.logger.info(`IdentityClient: refreshing access token with client ID: ${t}, scopes: ${r} started`);let d={grant_type:"refresh_token",client_id:t,refresh_token:n,scope:r};void 0!==i&&(d.client_secret=i);let h=new URLSearchParams(d);return c.tracingClient.withSpan("IdentityClient.refreshAccessToken",l,async r=>{try{let n=(0,a.getIdentityTokenEndpointSuffix)(e),i=(0,o.createPipelineRequest)({url:`${this.authorityHost}/${e}/${n}`,method:"POST",body:h.toString(),abortSignal:l.abortSignal,headers:(0,o.createHttpHeaders)({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),tracingOptions:r.tracingOptions}),s=await this.sendTokenRequest(i);return u.logger.info(`IdentityClient: refreshed token for client ID: ${t}`),s}catch(e){if(e.name===s.AuthenticationErrorName&&"interaction_required"===e.errorResponse.error)return u.logger.info(`IdentityClient: interaction required for client ID: ${t}`),null;throw u.logger.warning(`IdentityClient: failed refreshing token for client ID: ${t}: ${e}`),e}})}generateAbortSignal(e){let t=new AbortController,r=this.abortControllers.get(e)||[];r.push(t),this.abortControllers.set(e,r);let n=t.signal.onabort;return t.signal.onabort=(...r)=>{this.abortControllers.set(e,void 0),n&&n.apply(t.signal,r)},t.signal}abortRequests(e){let t=e||h,r=[...this.abortControllers.get(t)||[],...this.abortControllers.get(h)||[]];if(r.length){for(let e of r)e.abort();this.abortControllers.set(t,void 0)}}getCorrelationId(e){var t;let r=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.split("&").map(e=>e.split("=")).find(([e])=>"client-request-id"===e);return r&&r.length&&r[1]||h}async sendGetRequestAsync(e,t){let r=(0,o.createPipelineRequest)({url:e,method:"GET",body:null==t?void 0:t.body,allowInsecureConnection:this.allowInsecureConnection,headers:(0,o.createHttpHeaders)(null==t?void 0:t.headers),abortSignal:this.generateAbortSignal(h)}),n=await this.sendRequest(r);return this.logIdentifiers(n),{body:n.bodyAsText?JSON.parse(n.bodyAsText):void 0,headers:n.headers.toJSON(),status:n.status}}async sendPostRequestAsync(e,t){let r=(0,o.createPipelineRequest)({url:e,method:"POST",body:null==t?void 0:t.body,headers:(0,o.createHttpHeaders)(null==t?void 0:t.headers),allowInsecureConnection:this.allowInsecureConnection,abortSignal:this.generateAbortSignal(this.getCorrelationId(t))}),n=await this.sendRequest(r);return this.logIdentifiers(n),{body:n.bodyAsText?JSON.parse(n.bodyAsText):void 0,headers:n.headers.toJSON(),status:n.status}}getTokenCredentialOptions(){return this.tokenCredentialOptions}logIdentifiers(e){if(this.allowLoggingAccountIdentifiers&&e.bodyAsText)try{let t=(e.parsedBody||JSON.parse(e.bodyAsText)).access_token;if(!t)return;let r=t.split(".")[1],{appid:n,upn:i,tid:o,oid:s}=JSON.parse(Buffer.from(r,"base64").toString("utf8"));u.logger.info(`[Authenticated account] Client ID: ${n}. Tenant ID: ${o}. User Principal Name: ${i||"No User Principal Name available"}. Object ID (user): ${s}`)}catch(e){u.logger.warning("allowLoggingAccountIdentifiers was set, but we couldn't log the account information. Error:",e.message)}}}t.IdentityClient=p},60244:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_TOKEN_CACHE_NAME=t.CACHE_NON_CAE_SUFFIX=t.CACHE_CAE_SUFFIX=t.ALL_TENANTS=t.DefaultAuthority=t.DefaultAuthorityHost=t.AzureAuthorityHosts=t.DefaultTenantId=t.DeveloperSignOnClientId=t.SDK_VERSION=void 0,t.SDK_VERSION="4.7.0",t.DeveloperSignOnClientId="04b07795-8ddb-461a-bbee-02f9e1bf7b46",t.DefaultTenantId="common",function(e){e.AzureChina="https://login.chinacloudapi.cn",e.AzureGermany="https://login.microsoftonline.de",e.AzureGovernment="https://login.microsoftonline.us",e.AzurePublicCloud="https://login.microsoftonline.com"}(r||(t.AzureAuthorityHosts=r={})),t.DefaultAuthorityHost=r.AzurePublicCloud,t.DefaultAuthority="login.microsoftonline.com",t.ALL_TENANTS=["*"],t.CACHE_CAE_SUFFIX="cae",t.CACHE_NON_CAE_SUFFIX="nocae",t.DEFAULT_TOKEN_CACHE_NAME="msal.cache"},18469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthorizationCodeCredential=void 0;let n=r(8540),i=r(8540),o=r(73187),s=r(3609),a=r(59980),l=r(1307),c=(0,o.credentialLogger)("AuthorizationCodeCredential");class u{constructor(e,t,r,o,s,a){(0,i.checkTenantId)(c,e),this.clientSecret=r,"string"==typeof s?(this.authorizationCode=o,this.redirectUri=s):(this.authorizationCode=r,this.redirectUri=o,this.clientSecret=void 0,a=s),this.tenantId=e,this.additionallyAllowedTenantIds=(0,n.resolveAdditionallyAllowedTenantIds)(null==a?void 0:a.additionallyAllowedTenants),this.msalClient=(0,l.createMsalClient)(t,e,Object.assign(Object.assign({},a),{logger:c,tokenCredentialOptions:null!=a?a:{}}))}async getToken(e,t={}){return a.tracingClient.withSpan(`${this.constructor.name}.getToken`,t,async t=>{let r=(0,n.processMultiTenantRequest)(this.tenantId,t,this.additionallyAllowedTenantIds);t.tenantId=r;let i=(0,s.ensureScopes)(e);return this.msalClient.getTokenByAuthorizationCode(i,this.redirectUri,this.authorizationCode,this.clientSecret,Object.assign(Object.assign({},t),{disableAutomaticAuthentication:this.disableAutomaticAuthentication}))})}}t.AuthorizationCodeCredential=u},21140:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureCliCredential=t.cliCredentialInternals=void 0;let n=r(78372),i=r(8540),o=r(73187),s=r(3609),a=r(93886),l=n.__importDefault(r(79646)),c=r(59980),u=r(3004);t.cliCredentialInternals={getSafeWorkingDir(){if("win32"!==process.platform)return"/bin";if(!process.env.SYSTEMROOT)throw Error("Azure CLI credential expects a 'SYSTEMROOT' environment variable");return process.env.SYSTEMROOT},async getAzureCliAccessToken(e,r,n,i){let o=[],s=[];return r&&(o=["--tenant",r]),n&&(s=["--subscription",`"${n}"`]),new Promise((r,n)=>{try{l.default.execFile("az",["account","get-access-token","--output","json","--resource",e,...o,...s],{cwd:t.cliCredentialInternals.getSafeWorkingDir(),shell:!0,timeout:i},(e,t,n)=>{r({stdout:t,stderr:n,error:e})})}catch(e){n(e)}})}};let d=(0,o.credentialLogger)("AzureCliCredential");class h{constructor(e){(null==e?void 0:e.tenantId)&&((0,i.checkTenantId)(d,null==e?void 0:e.tenantId),this.tenantId=null==e?void 0:e.tenantId),(null==e?void 0:e.subscription)&&((0,u.checkSubscription)(d,null==e?void 0:e.subscription),this.subscription=null==e?void 0:e.subscription),this.additionallyAllowedTenantIds=(0,i.resolveAdditionallyAllowedTenantIds)(null==e?void 0:e.additionallyAllowedTenants),this.timeout=null==e?void 0:e.processTimeoutInMs}async getToken(e,r={}){let n=(0,i.processMultiTenantRequest)(this.tenantId,r,this.additionallyAllowedTenantIds);n&&(0,i.checkTenantId)(d,n),this.subscription&&(0,u.checkSubscription)(d,this.subscription);let l="string"==typeof e?e:e[0];return d.getToken.info(`Using the scope ${l}`),c.tracingClient.withSpan(`${this.constructor.name}.getToken`,r,async()=>{var r,i,c,u;try{(0,s.ensureValidScopeForDevTimeCreds)(l,d);let h=(0,s.getScopeResource)(l),f=await t.cliCredentialInternals.getAzureCliAccessToken(h,n,this.subscription,this.timeout),p=null===(r=f.stderr)||void 0===r?void 0:r.match("(.*)az login --scope(.*)"),m=(null===(i=f.stderr)||void 0===i?void 0:i.match("(.*)az login(.*)"))&&!p;if((null===(c=f.stderr)||void 0===c?void 0:c.match("az:(.*)not found"))||(null===(u=f.stderr)||void 0===u?void 0:u.startsWith("'az' is not recognized"))){let t=new a.CredentialUnavailableError("Azure CLI could not be found. Please visit https://aka.ms/azure-cli for installation instructions and then, once installed, authenticate to your Azure account using 'az login'.");throw d.getToken.info((0,o.formatError)(e,t)),t}if(m){let t=new a.CredentialUnavailableError("Please run 'az login' from a command prompt to authenticate before using this credential.");throw d.getToken.info((0,o.formatError)(e,t)),t}try{let t=f.stdout,r=this.parseRawResponse(t);return d.getToken.info((0,o.formatSuccess)(e)),r}catch(e){if(f.stderr)throw new a.CredentialUnavailableError(f.stderr);throw e}}catch(r){let t="CredentialUnavailableError"===r.name?r:new a.CredentialUnavailableError(r.message||"Unknown error while trying to retrieve the access token");throw d.getToken.info((0,o.formatError)(e,t)),t}})}parseRawResponse(e){let t=JSON.parse(e),r=t.accessToken,n=1e3*Number.parseInt(t.expires_on,10);if(!isNaN(n))return d.getToken.info("expires_on is available and is valid, using it"),{token:r,expiresOnTimestamp:n,tokenType:"Bearer"};if(isNaN(n=new Date(t.expiresOn).getTime()))throw new a.CredentialUnavailableError(`Unexpected response from Azure CLI when getting token. Expected "expiresOn" to be a RFC3339 date string. Got: "${t.expiresOn}"`);return{token:r,expiresOnTimestamp:n,tokenType:"Bearer"}}}t.AzureCliCredential=h},19834:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureDeveloperCliCredential=t.developerCliCredentialInternals=void 0;let n=r(78372),i=r(73187),o=r(93886),s=n.__importDefault(r(79646)),a=r(8540),l=r(59980),c=r(3609);t.developerCliCredentialInternals={getSafeWorkingDir(){if("win32"!==process.platform)return"/bin";if(!process.env.SYSTEMROOT)throw Error("Azure Developer CLI credential expects a 'SYSTEMROOT' environment variable");return process.env.SYSTEMROOT},async getAzdAccessToken(e,r,n){let i=[];return r&&(i=["--tenant-id",r]),new Promise((r,o)=>{try{s.default.execFile("azd",["auth","token","--output","json",...e.reduce((e,t)=>e.concat("--scope",t),[]),...i],{cwd:t.developerCliCredentialInternals.getSafeWorkingDir(),timeout:n},(e,t,n)=>{r({stdout:t,stderr:n,error:e})})}catch(e){o(e)}})}};let u=(0,i.credentialLogger)("AzureDeveloperCliCredential");class d{constructor(e){(null==e?void 0:e.tenantId)&&((0,a.checkTenantId)(u,null==e?void 0:e.tenantId),this.tenantId=null==e?void 0:e.tenantId),this.additionallyAllowedTenantIds=(0,a.resolveAdditionallyAllowedTenantIds)(null==e?void 0:e.additionallyAllowedTenants),this.timeout=null==e?void 0:e.processTimeoutInMs}async getToken(e,r={}){let n;let s=(0,a.processMultiTenantRequest)(this.tenantId,r,this.additionallyAllowedTenantIds);return s&&(0,a.checkTenantId)(u,s),n="string"==typeof e?[e]:e,u.getToken.info(`Using the scopes ${e}`),l.tracingClient.withSpan(`${this.constructor.name}.getToken`,r,async()=>{var r,a,l,d;try{n.forEach(e=>{(0,c.ensureValidScopeForDevTimeCreds)(e,u)});let h=await t.developerCliCredentialInternals.getAzdAccessToken(n,s,this.timeout),f=(null===(r=h.stderr)||void 0===r?void 0:r.match("not logged in, run `azd login` to login"))||(null===(a=h.stderr)||void 0===a?void 0:a.match("not logged in, run `azd auth login` to login"));if((null===(l=h.stderr)||void 0===l?void 0:l.match("azd:(.*)not found"))||(null===(d=h.stderr)||void 0===d?void 0:d.startsWith("'azd' is not recognized"))||h.error&&"ENOENT"===h.error.code){let t=new o.CredentialUnavailableError("Azure Developer CLI couldn't be found. To mitigate this issue, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw u.getToken.info((0,i.formatError)(e,t)),t}if(f){let t=new o.CredentialUnavailableError("Please run 'azd auth login' from a command prompt to authenticate before using this credential. For more information, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw u.getToken.info((0,i.formatError)(e,t)),t}try{let t=JSON.parse(h.stdout);return u.getToken.info((0,i.formatSuccess)(e)),{token:t.token,expiresOnTimestamp:new Date(t.expiresOn).getTime(),tokenType:"Bearer"}}catch(e){if(h.stderr)throw new o.CredentialUnavailableError(h.stderr);throw e}}catch(r){let t="CredentialUnavailableError"===r.name?r:new o.CredentialUnavailableError(r.message||"Unknown error while trying to retrieve the access token");throw u.getToken.info((0,i.formatError)(e,t)),t}})}}t.AzureDeveloperCliCredential=d},4073:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzurePipelinesCredential=void 0,t.handleOidcResponse=h;let n=r(93886),i=r(65350),o=r(48356),s=r(46288),a=r(8540),l=r(73187),c="AzurePipelinesCredential",u=(0,l.credentialLogger)(c);class d{constructor(e,t,r,i,l={}){var d,h;if(!t)throw new n.CredentialUnavailableError(`${c}: is unavailable. clientId is a required parameter.`);if(!e)throw new n.CredentialUnavailableError(`${c}: is unavailable. tenantId is a required parameter.`);if(!r)throw new n.CredentialUnavailableError(`${c}: is unavailable. serviceConnectionId is a required parameter.`);if(!i)throw new n.CredentialUnavailableError(`${c}: is unavailable. systemAccessToken is a required parameter.`);if(l.loggingOptions=Object.assign(Object.assign({},null==l?void 0:l.loggingOptions),{additionalAllowedHeaderNames:[...null!==(h=null===(d=l.loggingOptions)||void 0===d?void 0:d.additionalAllowedHeaderNames)&&void 0!==h?h:[],"x-vss-e2eid","x-msedge-ref"]}),this.identityClient=new s.IdentityClient(l),(0,a.checkTenantId)(u,e),u.info(`Invoking AzurePipelinesCredential with tenant ID: ${e}, client ID: ${t}, and service connection ID: ${r}`),!process.env.SYSTEM_OIDCREQUESTURI)throw new n.CredentialUnavailableError(`${c}: is unavailable. Ensure that you're running this task in an Azure Pipeline, so that following missing system variable(s) can be defined- "SYSTEM_OIDCREQUESTURI"`);let f=`${process.env.SYSTEM_OIDCREQUESTURI}?api-version=7.1&serviceConnectionId=${r}`;u.info(`Invoking ClientAssertionCredential with tenant ID: ${e}, client ID: ${t} and service connection ID: ${r}`),this.clientAssertionCredential=new o.ClientAssertionCredential(e,t,this.requestOidcToken.bind(this,f,i),l)}async getToken(e,t){if(!this.clientAssertionCredential){let e=`${c}: is unavailable. To use Federation Identity in Azure Pipelines, the following parameters are required - 
      tenantId,
      clientId,
      serviceConnectionId,
      systemAccessToken,
      "SYSTEM_OIDCREQUESTURI".      
      See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/azurepipelinescredential/troubleshoot`;throw u.error(e),new n.CredentialUnavailableError(e)}return u.info("Invoking getToken() of Client Assertion Credential"),this.clientAssertionCredential.getToken(e,t)}async requestOidcToken(e,t){u.info("Requesting OIDC token from Azure Pipelines..."),u.info(e);let r=(0,i.createPipelineRequest)({url:e,method:"POST",headers:(0,i.createHttpHeaders)({"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-TFS-FedAuthRedirect":"Suppress"})});return h(await this.identityClient.sendRequest(r))}}function h(e){let t=e.bodyAsText;if(!t)throw u.error(`${c}: Authentication Failed. Received null token from OIDC request. Response status- ${e.status}. Complete response - ${JSON.stringify(e)}`),new n.AuthenticationError(e.status,{error:`${c}: Authentication Failed. Received null token from OIDC request.`,error_description:`${JSON.stringify(e)}. See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/azurepipelinescredential/troubleshoot`});try{let r=JSON.parse(t);if(null==r?void 0:r.oidcToken)return r.oidcToken;{let r=`${c}: Authentication Failed. oidcToken field not detected in the response.`,i="";throw 200!==e.status&&(i=`Response body = ${t}. Response Headers ["x-vss-e2eid"] = ${e.headers.get("x-vss-e2eid")} and ["x-msedge-ref"] = ${e.headers.get("x-msedge-ref")}. See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/azurepipelinescredential/troubleshoot`),u.error(r),u.error(i),new n.AuthenticationError(e.status,{error:r,error_description:i})}}catch(i){let r=`${c}: Authentication Failed. oidcToken field not detected in the response.`;throw u.error(`Response from service = ${t}, Response Headers ["x-vss-e2eid"] = ${e.headers.get("x-vss-e2eid")} 
      and ["x-msedge-ref"] = ${e.headers.get("x-msedge-ref")}, error message = ${i.message}`),u.error(r),new n.AuthenticationError(e.status,{error:r,error_description:`Response = ${t}. Response headers ["x-vss-e2eid"] = ${e.headers.get("x-vss-e2eid")} and ["x-msedge-ref"] =  ${e.headers.get("x-msedge-ref")}. See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/azurepipelinescredential/troubleshoot`})}}t.AzurePipelinesCredential=d},5579:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzurePowerShellCredential=t.commandStack=t.powerShellPublicErrorMessages=t.powerShellErrors=void 0,t.formatCommand=d,t.parseJsonToken=g;let n=r(8540),i=r(73187),o=r(3609),s=r(93886),a=r(55926),l=r(59980),c=(0,i.credentialLogger)("AzurePowerShellCredential"),u="win32"===process.platform;function d(e){return u?`${e}.exe`:e}async function h(e,t){let r=[];for(let n of e){let[e,...i]=n,o=await a.processUtils.execFile(e,i,{encoding:"utf8",timeout:t});r.push(o)}return r}t.powerShellErrors={login:"Run Connect-AzAccount to login",installed:"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory"},t.powerShellPublicErrorMessages={login:"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.",installed:"The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: \"Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force\".",troubleshoot:"To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot."};let f=e=>e.message.match(`(.*)${t.powerShellErrors.login}(.*)`),p=e=>e.message.match(t.powerShellErrors.installed);t.commandStack=[d("pwsh")],u&&t.commandStack.push(d("powershell"));class m{constructor(e){(null==e?void 0:e.tenantId)&&((0,n.checkTenantId)(c,null==e?void 0:e.tenantId),this.tenantId=null==e?void 0:e.tenantId),this.additionallyAllowedTenantIds=(0,n.resolveAdditionallyAllowedTenantIds)(null==e?void 0:e.additionallyAllowedTenants),this.timeout=null==e?void 0:e.processTimeoutInMs}async getAzurePowerShellAccessToken(e,r,n){for(let i of[...t.commandStack]){try{await h([[i,"/?"]],n)}catch(e){t.commandStack.shift();continue}return g((await h([[i,"-NoProfile","-NonInteractive","-Command",`
          $tenantId = "${null!=r?r:""}"
          $m = Import-Module Az.Accounts -MinimumVersion 2.2.0 -PassThru
          $useSecureString = $m.Version -ge [version]'2.17.0'

          $params = @{
            ResourceUrl = "${e}"
          }

          if ($tenantId.Length -gt 0) {
            $params["TenantId"] = $tenantId
          }

          if ($useSecureString) {
            $params["AsSecureString"] = $true
          }

          $token = Get-AzAccessToken @params

          $result = New-Object -TypeName PSObject
          $result | Add-Member -MemberType NoteProperty -Name ExpiresOn -Value $token.ExpiresOn
          if ($useSecureString) {
            $result | Add-Member -MemberType NoteProperty -Name Token -Value (ConvertFrom-SecureString -AsPlainText $token.Token)
          } else {
            $result | Add-Member -MemberType NoteProperty -Name Token -Value $token.Token
          }

          Write-Output (ConvertTo-Json $result)
          `]]))[0])}throw Error("Unable to execute PowerShell. Ensure that it is installed in your system")}async getToken(e,r={}){return l.tracingClient.withSpan(`${this.constructor.name}.getToken`,r,async()=>{let a=(0,n.processMultiTenantRequest)(this.tenantId,r,this.additionallyAllowedTenantIds),l="string"==typeof e?e:e[0];a&&(0,n.checkTenantId)(c,a);try{(0,o.ensureValidScopeForDevTimeCreds)(l,c),c.getToken.info(`Using the scope ${l}`);let t=(0,o.getScopeResource)(l),r=await this.getAzurePowerShellAccessToken(t,a,this.timeout);return c.getToken.info((0,i.formatSuccess)(e)),{token:r.Token,expiresOnTimestamp:new Date(r.ExpiresOn).getTime(),tokenType:"Bearer"}}catch(r){if(p(r)){let e=new s.CredentialUnavailableError(t.powerShellPublicErrorMessages.installed);throw c.getToken.info((0,i.formatError)(l,e)),e}if(f(r)){let e=new s.CredentialUnavailableError(t.powerShellPublicErrorMessages.login);throw c.getToken.info((0,i.formatError)(l,e)),e}let e=new s.CredentialUnavailableError(`${r}. ${t.powerShellPublicErrorMessages.troubleshoot}`);throw c.getToken.info((0,i.formatError)(l,e)),e}})}}async function g(e){let t=e.match(/{[^{}]*}/g),r=e;if(t)try{for(let e of t)try{let t=JSON.parse(e);if(null==t?void 0:t.Token)return(r=r.replace(e,""))&&c.getToken.warning(r),t}catch(e){continue}}catch(t){throw Error(`Unable to parse the output of PowerShell. Received output: ${e}`)}throw Error(`No access token found in the output. Received output: ${e}`)}t.AzurePowerShellCredential=m},74394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChainedTokenCredential=t.logger=void 0;let n=r(93886),i=r(73187),o=r(59980);t.logger=(0,i.credentialLogger)("ChainedTokenCredential");class s{constructor(...e){this._sources=[],this._sources=e}async getToken(e,t={}){let{token:r}=await this.getTokenInternal(e,t);return r}async getTokenInternal(e,r={}){let s,a=null,l=[];return o.tracingClient.withSpan("ChainedTokenCredential.getToken",r,async r=>{for(let n=0;n<this._sources.length&&null===a;n++)try{a=await this._sources[n].getToken(e,r),s=this._sources[n]}catch(r){if("CredentialUnavailableError"===r.name||"AuthenticationRequiredError"===r.name)l.push(r);else throw t.logger.getToken.info((0,i.formatError)(e,r)),r}if(!a&&l.length>0){let r=new n.AggregateAuthenticationError(l,"ChainedTokenCredential authentication failed.");throw t.logger.getToken.info((0,i.formatError)(e,r)),r}if(t.logger.getToken.info(`Result for ${s.constructor.name}: ${(0,i.formatSuccess)(e)}`),null===a)throw new n.CredentialUnavailableError("Failed to retrieve a valid token");return{token:a,successfulCredential:s}})}}t.ChainedTokenCredential=s},48356:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientAssertionCredential=void 0;let n=r(1307),i=r(8540),o=r(93886),s=r(73187),a=r(59980),l=(0,s.credentialLogger)("ClientAssertionCredential");class c{constructor(e,t,r,s={}){if(!e)throw new o.CredentialUnavailableError("ClientAssertionCredential: tenantId is a required parameter.");if(!t)throw new o.CredentialUnavailableError("ClientAssertionCredential: clientId is a required parameter.");if(!r)throw new o.CredentialUnavailableError("ClientAssertionCredential: clientAssertion is a required parameter.");this.tenantId=e,this.additionallyAllowedTenantIds=(0,i.resolveAdditionallyAllowedTenantIds)(null==s?void 0:s.additionallyAllowedTenants),this.options=s,this.getAssertion=r,this.msalClient=(0,n.createMsalClient)(t,e,Object.assign(Object.assign({},s),{logger:l,tokenCredentialOptions:this.options}))}async getToken(e,t={}){return a.tracingClient.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=(0,i.processMultiTenantRequest)(this.tenantId,t,this.additionallyAllowedTenantIds,l);let r=Array.isArray(e)?e:[e];return this.msalClient.getTokenByClientAssertion(r,this.getAssertion,t)})}}t.ClientAssertionCredential=c},44503:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientCertificateCredential=void 0,t.parseCertificate=h;let n=r(1307),i=r(77598),o=r(8540),s=r(73187),a=r(51455),l=r(59980),c="ClientCertificateCredential",u=(0,s.credentialLogger)(c);class d{constructor(e,t,r,i={}){if(!e||!t)throw Error(`${c}: tenantId and clientId are required parameters.`);this.tenantId=e,this.additionallyAllowedTenantIds=(0,o.resolveAdditionallyAllowedTenantIds)(null==i?void 0:i.additionallyAllowedTenants),this.sendCertificateChain=i.sendCertificateChain,this.certificateConfiguration=Object.assign({},"string"==typeof r?{certificatePath:r}:r);let s=this.certificateConfiguration.certificate,a=this.certificateConfiguration.certificatePath;if(!this.certificateConfiguration||!(s||a))throw Error(`${c}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(s&&a)throw Error(`${c}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.msalClient=(0,n.createMsalClient)(t,e,Object.assign(Object.assign({},i),{logger:u,tokenCredentialOptions:i}))}async getToken(e,t={}){return l.tracingClient.withSpan(`${c}.getToken`,t,async t=>{t.tenantId=(0,o.processMultiTenantRequest)(this.tenantId,t,this.additionallyAllowedTenantIds,u);let r=Array.isArray(e)?e:[e],n=await this.buildClientCertificate();return this.msalClient.getTokenByClientCertificate(r,n,t)})}async buildClientCertificate(){var e;let t;let r=await h(this.certificateConfiguration,null!==(e=this.sendCertificateChain)&&void 0!==e&&e);return t=void 0!==this.certificateConfiguration.certificatePassword?(0,i.createPrivateKey)({key:r.certificateContents,passphrase:this.certificateConfiguration.certificatePassword,format:"pem"}).export({format:"pem",type:"pkcs8"}).toString():r.certificateContents,{thumbprint:r.thumbprint,privateKey:t,x5c:r.x5c}}}async function h(e,t){let r;let n=e.certificate,o=e.certificatePath,s=n||await (0,a.readFile)(o,"utf8"),l=t?s:void 0,c=/(-+BEGIN CERTIFICATE-+)(\n\r?|\r\n?)([A-Za-z0-9+/\n\r]+=*)(\n\r?|\r\n?)(-+END CERTIFICATE-+)/g,u=[];do(r=c.exec(s))&&u.push(r[3]);while(r);if(0===u.length)throw Error("The file at the specified path does not contain a PEM-encoded certificate.");return{certificateContents:s,thumbprint:(0,i.createHash)("sha1").update(Buffer.from(u[0],"base64")).digest("hex").toUpperCase(),x5c:l}}t.ClientCertificateCredential=d},90744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientSecretCredential=void 0;let n=r(1307),i=r(8540),o=r(93886),s=r(73187),a=r(3609),l=r(59980),c=(0,s.credentialLogger)("ClientSecretCredential");class u{constructor(e,t,r,s={}){if(!e)throw new o.CredentialUnavailableError("ClientSecretCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");if(!t)throw new o.CredentialUnavailableError("ClientSecretCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");if(!r)throw new o.CredentialUnavailableError("ClientSecretCredential: clientSecret is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");this.clientSecret=r,this.tenantId=e,this.additionallyAllowedTenantIds=(0,i.resolveAdditionallyAllowedTenantIds)(null==s?void 0:s.additionallyAllowedTenants),this.msalClient=(0,n.createMsalClient)(t,e,Object.assign(Object.assign({},s),{logger:c,tokenCredentialOptions:s}))}async getToken(e,t={}){return l.tracingClient.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=(0,i.processMultiTenantRequest)(this.tenantId,t,this.additionallyAllowedTenantIds,c);let r=(0,a.ensureScopes)(e);return this.msalClient.getTokenByClientSecret(r,this.clientSecret,t)})}}t.ClientSecretCredential=u},25575:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAzureCredential=t.UnavailableDefaultCredential=void 0,t.createDefaultManagedIdentityCredential=d,t.createEnvironmentCredential=g;let n=r(72021),i=r(21140),o=r(19834),s=r(5579),a=r(74394),l=r(75252),c=r(91472),u=(0,r(73187).credentialLogger)("DefaultAzureCredential");function d(e={}){var t,r,i,o;null!==(t=e.retryOptions)&&void 0!==t||(e.retryOptions={maxRetries:5,retryDelayInMs:800});let s=null!==(r=null==e?void 0:e.managedIdentityClientId)&&void 0!==r?r:process.env.AZURE_CLIENT_ID,a=null!==(i=null==e?void 0:e.workloadIdentityClientId)&&void 0!==i?i:s,l=null==e?void 0:e.managedIdentityResourceId,c=process.env.AZURE_FEDERATED_TOKEN_FILE,u=null!==(o=null==e?void 0:e.tenantId)&&void 0!==o?o:process.env.AZURE_TENANT_ID;if(l){let t=Object.assign(Object.assign({},e),{resourceId:l});return new n.ManagedIdentityCredential(t)}if(c&&a){let t=Object.assign(Object.assign({},e),{tenantId:u});return new n.ManagedIdentityCredential(a,t)}if(s){let t=Object.assign(Object.assign({},e),{clientId:s});return new n.ManagedIdentityCredential(t)}return new n.ManagedIdentityCredential(e)}function h(e){var t,r,n;let i=null!==(t=null==e?void 0:e.managedIdentityClientId)&&void 0!==t?t:process.env.AZURE_CLIENT_ID,o=null!==(r=null==e?void 0:e.workloadIdentityClientId)&&void 0!==r?r:i,s=process.env.AZURE_FEDERATED_TOKEN_FILE,a=null!==(n=null==e?void 0:e.tenantId)&&void 0!==n?n:process.env.AZURE_TENANT_ID;if(s&&o){let t=Object.assign(Object.assign({},e),{tenantId:a,clientId:o,tokenFilePath:s});return new c.WorkloadIdentityCredential(t)}if(a){let t=Object.assign(Object.assign({},e),{tenantId:a});return new c.WorkloadIdentityCredential(t)}return new c.WorkloadIdentityCredential(e)}function f(e={}){let t=e.processTimeoutInMs;return new o.AzureDeveloperCliCredential(Object.assign({processTimeoutInMs:t},e))}function p(e={}){let t=e.processTimeoutInMs;return new i.AzureCliCredential(Object.assign({processTimeoutInMs:t},e))}function m(e={}){let t=e.processTimeoutInMs;return new s.AzurePowerShellCredential(Object.assign({processTimeoutInMs:t},e))}function g(e={}){return new l.EnvironmentCredential(e)}class y{constructor(e,t){this.credentialName=e,this.credentialUnavailableErrorMessage=t}getToken(){return u.getToken.info(`Skipping ${this.credentialName}, reason: ${this.credentialUnavailableErrorMessage}`),Promise.resolve(null)}}t.UnavailableDefaultCredential=y;class _ extends a.ChainedTokenCredential{constructor(e){super(...[g,h,d,p,m,f].map(t=>{try{return t(e)}catch(e){return u.warning(`Skipped ${t.name} because of an error creating the credential: ${e}`),new y(t.name,e.message)}}))}}t.DefaultAzureCredential=_},70908:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceCodeCredential=void 0,t.defaultDeviceCodePromptCallback=u;let n=r(8540),i=r(73187),o=r(3609),s=r(59980),a=r(1307),l=r(60244),c=(0,i.credentialLogger)("DeviceCodeCredential");function u(e){console.log(e.message)}class d{constructor(e){var t,r;this.tenantId=null==e?void 0:e.tenantId,this.additionallyAllowedTenantIds=(0,n.resolveAdditionallyAllowedTenantIds)(null==e?void 0:e.additionallyAllowedTenants);let i=null!==(t=null==e?void 0:e.clientId)&&void 0!==t?t:l.DeveloperSignOnClientId,o=(0,n.resolveTenantId)(c,null==e?void 0:e.tenantId,i);this.userPromptCallback=null!==(r=null==e?void 0:e.userPromptCallback)&&void 0!==r?r:u,this.msalClient=(0,a.createMsalClient)(i,o,Object.assign(Object.assign({},e),{logger:c,tokenCredentialOptions:e||{}})),this.disableAutomaticAuthentication=null==e?void 0:e.disableAutomaticAuthentication}async getToken(e,t={}){return s.tracingClient.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=(0,n.processMultiTenantRequest)(this.tenantId,t,this.additionallyAllowedTenantIds,c);let r=(0,o.ensureScopes)(e);return this.msalClient.getTokenByDeviceCode(r,this.userPromptCallback,Object.assign(Object.assign({},t),{disableAutomaticAuthentication:this.disableAutomaticAuthentication}))})}async authenticate(e,t={}){return s.tracingClient.withSpan(`${this.constructor.name}.authenticate`,t,async t=>{let r=Array.isArray(e)?e:[e];return await this.msalClient.getTokenByDeviceCode(r,this.userPromptCallback,Object.assign(Object.assign({},t),{disableAutomaticAuthentication:!1})),this.msalClient.getActiveAccount()})}}t.DeviceCodeCredential=d},75252:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentCredential=t.AllSupportedEnvironmentVariables=void 0,t.getSendCertificateChain=h;let n=r(93886),i=r(73187),o=r(44503),s=r(90744),a=r(51546),l=r(8540),c=r(59980);t.AllSupportedEnvironmentVariables=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_CLIENT_SECRET","AZURE_CLIENT_CERTIFICATE_PATH","AZURE_CLIENT_CERTIFICATE_PASSWORD","AZURE_USERNAME","AZURE_PASSWORD","AZURE_ADDITIONALLY_ALLOWED_TENANTS","AZURE_CLIENT_SEND_CERTIFICATE_CHAIN"];let u="EnvironmentCredential",d=(0,i.credentialLogger)(u);function h(){var e;let t=(null!==(e=process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN)&&void 0!==e?e:"").toLowerCase(),r="true"===t||"1"===t;return d.verbose(`AZURE_CLIENT_SEND_CERTIFICATE_CHAIN: ${process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN}; sendCertificateChain: ${r}`),r}class f{constructor(e){this._credential=void 0;let r=(0,i.processEnvVars)(t.AllSupportedEnvironmentVariables).assigned.join(", ");d.info(`Found the following environment variables: ${r}`);let n=process.env.AZURE_TENANT_ID,c=process.env.AZURE_CLIENT_ID,u=process.env.AZURE_CLIENT_SECRET,f=function(){var e;return(null!==(e=process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS)&&void 0!==e?e:"").split(";")}(),p=h(),m=Object.assign(Object.assign({},e),{additionallyAllowedTenantIds:f,sendCertificateChain:p});if(n&&(0,l.checkTenantId)(d,n),n&&c&&u){d.info(`Invoking ClientSecretCredential with tenant ID: ${n}, clientId: ${c} and clientSecret: [REDACTED]`),this._credential=new s.ClientSecretCredential(n,c,u,m);return}let g=process.env.AZURE_CLIENT_CERTIFICATE_PATH,y=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(n&&c&&g){d.info(`Invoking ClientCertificateCredential with tenant ID: ${n}, clientId: ${c} and certificatePath: ${g}`),this._credential=new o.ClientCertificateCredential(n,c,{certificatePath:g,certificatePassword:y},m);return}let _=process.env.AZURE_USERNAME,E=process.env.AZURE_PASSWORD;n&&c&&_&&E&&(d.info(`Invoking UsernamePasswordCredential with tenant ID: ${n}, clientId: ${c} and username: ${_}`),this._credential=new a.UsernamePasswordCredential(n,c,_,E,m))}async getToken(e,t={}){return c.tracingClient.withSpan(`${u}.getToken`,t,async t=>{if(this._credential)try{let r=await this._credential.getToken(e,t);return d.getToken.info((0,i.formatSuccess)(e)),r}catch(r){let t=new n.AuthenticationError(400,{error:`${u} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,error_description:r.message.toString().split("More details:").join("")});throw d.getToken.info((0,i.formatError)(e,t)),t}throw new n.CredentialUnavailableError(`${u} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`)})}}t.EnvironmentCredential=f},60183:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveBrowserCredential=void 0;let n=r(8540),i=r(73187),o=r(3609),s=r(59980),a=r(1307),l=r(60244),c=(0,i.credentialLogger)("InteractiveBrowserCredential");class u{constructor(e){var t,r,i,o,s;this.tenantId=(0,n.resolveTenantId)(c,e.tenantId,e.clientId),this.additionallyAllowedTenantIds=(0,n.resolveAdditionallyAllowedTenantIds)(null==e?void 0:e.additionallyAllowedTenants);let u=Object.assign(Object.assign({},e),{tokenCredentialOptions:e,logger:c});if(this.browserCustomizationOptions=e.browserCustomizationOptions,this.loginHint=e.loginHint,null===(t=null==e?void 0:e.brokerOptions)||void 0===t?void 0:t.enabled){if(null===(r=null==e?void 0:e.brokerOptions)||void 0===r?void 0:r.parentWindowHandle)u.brokerOptions={enabled:!0,parentWindowHandle:e.brokerOptions.parentWindowHandle,legacyEnableMsaPassthrough:null===(i=e.brokerOptions)||void 0===i?void 0:i.legacyEnableMsaPassthrough,useDefaultBrokerAccount:null===(o=e.brokerOptions)||void 0===o?void 0:o.useDefaultBrokerAccount};else throw Error("In order to do WAM authentication, `parentWindowHandle` under `brokerOptions` is a required parameter")}this.msalClient=(0,a.createMsalClient)(null!==(s=e.clientId)&&void 0!==s?s:l.DeveloperSignOnClientId,this.tenantId,u),this.disableAutomaticAuthentication=null==e?void 0:e.disableAutomaticAuthentication}async getToken(e,t={}){return s.tracingClient.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=(0,n.processMultiTenantRequest)(this.tenantId,t,this.additionallyAllowedTenantIds,c);let r=(0,o.ensureScopes)(e);return this.msalClient.getTokenByInteractiveRequest(r,Object.assign(Object.assign({},t),{disableAutomaticAuthentication:this.disableAutomaticAuthentication,browserCustomizationOptions:this.browserCustomizationOptions,loginHint:this.loginHint}))})}async authenticate(e,t={}){return s.tracingClient.withSpan(`${this.constructor.name}.authenticate`,t,async t=>{let r=(0,o.ensureScopes)(e);return await this.msalClient.getTokenByInteractiveRequest(r,Object.assign(Object.assign({},t),{disableAutomaticAuthentication:!1,browserCustomizationOptions:this.browserCustomizationOptions,loginHint:this.loginHint})),this.msalClient.getActiveAccount()})}}t.InteractiveBrowserCredential=u},35851:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imdsMsi=void 0;let n=r(65350),i=r(60455),o=r(73187),s=r(39216),a=r(59980),l="ManagedIdentityCredential - IMDS",c=(0,o.credentialLogger)(l);t.imdsMsi={name:"imdsMsi",async isAvailable(e){let{scopes:t,identityClient:r,clientId:o,resourceId:u,getTokenOptions:d}=e,h=(0,s.mapScopesToResource)(t);if(!h)return c.info(`${l}: Unavailable. Multiple scopes are not supported.`),!1;if(process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)return!0;if(!r)throw Error("Missing IdentityClient");let f=function(e,t,r,i){var o;let a=(0,s.mapScopesToResource)(e);if(!a)throw Error(`${l}: Multiple scopes are not supported.`);let{skipQuery:c,skipMetadataHeader:u}=i||{},d="";if(!c){let e={resource:a,"api-version":"2018-02-01"};t&&(e.client_id=t),r&&(e.msi_res_id=r);let n=new URLSearchParams(e);d=`?${n.toString()}`}let h=new URL("/metadata/identity/oauth2/token",null!==(o=process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)&&void 0!==o?o:"http://169.254.169.254"),f={Accept:"application/json",Metadata:"true"};return u&&delete f.Metadata,{url:`${h}${d}`,method:"GET",headers:(0,n.createHttpHeaders)(f)}}(h,o,u,{skipMetadataHeader:!0,skipQuery:!0});return a.tracingClient.withSpan("ManagedIdentityCredential-pingImdsEndpoint",null!=d?d:{},async e=>{var t,o;let s;f.tracingOptions=e.tracingOptions;let a=(0,n.createPipelineRequest)(f);a.timeout=(null===(t=e.requestOptions)||void 0===t?void 0:t.timeout)||1e3,a.allowInsecureConnection=!0;try{c.info(`${l}: Pinging the Azure IMDS endpoint`),s=await r.sendRequest(a)}catch(e){return(0,i.isError)(e)&&c.verbose(`${l}: Caught error ${e.name}: ${e.message}`),c.info(`${l}: The Azure IMDS endpoint is unavailable`),!1}return 403===s.status&&(null===(o=s.bodyAsText)||void 0===o?void 0:o.includes("unreachable"))?(c.info(`${l}: The Azure IMDS endpoint is unavailable`),c.info(`${l}: ${s.bodyAsText}`),!1):(c.info(`${l}: The Azure IMDS endpoint is available`),!0)})}}},62320:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imdsRetryPolicy=function(e){return(0,n.retryPolicy)([{name:"imdsRetryPolicy",retry:({retryCount:t,response:r})=>(null==r?void 0:r.status)!==404?{skipStrategy:!0}:(0,i.calculateRetryDelay)(t,{retryDelayInMs:e.startDelayInMs,maxRetryDelayInMs:64e3})}],{maxRetries:e.maxRetries})};let n=r(65350),i=r(60455)},72021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ManagedIdentityCredential=void 0;let n=r(46023),i=r(53262),o=r(46288),s=r(93886),a=r(56846),l=r(62320),c=r(73187),u=r(59980),d=r(35851),h=r(77790),f=r(39216),p=(0,c.credentialLogger)("ManagedIdentityCredential");class m{constructor(e,t){var r,c;let u;if(this.msiRetryConfig={maxRetries:5,startDelayInMs:800,intervalIncrement:2},"string"==typeof e?(this.clientId=e,u=null!=t?t:{}):(this.clientId=null==e?void 0:e.clientId,u=null!=e?e:{}),this.resourceId=null==u?void 0:u.resourceId,this.objectId=null==u?void 0:u.objectId,[this.clientId,this.resourceId,this.objectId].filter(Boolean).length>1)throw Error(`ManagedIdentityCredential: only one of 'clientId', 'resourceId', or 'objectId' can be provided. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}`);u.allowInsecureConnection=!0,(null===(r=u.retryOptions)||void 0===r?void 0:r.maxRetries)!==void 0&&(this.msiRetryConfig.maxRetries=u.retryOptions.maxRetries),this.identityClient=new o.IdentityClient(Object.assign(Object.assign({},u),{additionalPolicies:[{policy:(0,l.imdsRetryPolicy)(this.msiRetryConfig),position:"perCall"}]})),this.managedIdentityApp=new i.ManagedIdentityApplication({managedIdentityIdParams:{userAssignedClientId:this.clientId,userAssignedResourceId:this.resourceId,userAssignedObjectId:this.objectId},system:{disableInternalRetries:!0,networkClient:this.identityClient,loggerOptions:{logLevel:(0,a.getMSALLogLevel)((0,n.getLogLevel)()),piiLoggingEnabled:null===(c=u.loggingOptions)||void 0===c?void 0:c.enableUnsafeSupportLogging,loggerCallback:(0,a.defaultLoggerCallback)(p)}}}),this.isAvailableIdentityClient=new o.IdentityClient(Object.assign(Object.assign({},u),{retryOptions:{maxRetries:0}}));let d=this.managedIdentityApp.getManagedIdentitySource();if("CloudShell"===d&&(this.clientId||this.resourceId||this.objectId))throw p.warning(`CloudShell MSI detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new s.CredentialUnavailableError("ManagedIdentityCredential: Specifying a user-assigned managed identity is not supported for CloudShell at runtime. When using Managed Identity in CloudShell, omit the clientId, resourceId, and objectId parameters.");if("ServiceFabric"===d&&(this.clientId||this.resourceId||this.objectId))throw p.warning(`Service Fabric detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new s.CredentialUnavailableError(`ManagedIdentityCredential: ${f.serviceFabricErrorMessage}`)}async getToken(e,t={}){p.getToken.info("Using the MSAL provider for Managed Identity.");let r=(0,f.mapScopesToResource)(e);if(!r)throw new s.CredentialUnavailableError(`ManagedIdentityCredential: Multiple scopes are not supported. Scopes: ${JSON.stringify(e)}`);return u.tracingClient.withSpan("ManagedIdentityCredential.getToken",t,async()=>{var n;try{let i=await h.tokenExchangeMsi.isAvailable(this.clientId),o=this.managedIdentityApp.getManagedIdentitySource();if(p.getToken.info(`MSAL Identity source: ${o}`),i){p.getToken.info("Using the token exchange managed identity.");let t=await h.tokenExchangeMsi.getToken({scopes:e,clientId:this.clientId,identityClient:this.identityClient,retryConfig:this.msiRetryConfig,resourceId:this.resourceId});if(null===t)throw new s.CredentialUnavailableError("Attempted to use the token exchange managed identity, but received a null response.");return t}if(("DefaultToImds"===o||"Imds"===o)&&(p.getToken.info("Using the IMDS endpoint to probe for availability."),!await d.imdsMsi.isAvailable({scopes:e,clientId:this.clientId,getTokenOptions:t,identityClient:this.isAvailableIdentityClient,resourceId:this.resourceId})))throw new s.CredentialUnavailableError("Attempted to use the IMDS endpoint, but it is not available.");p.getToken.info("Calling into MSAL for managed identity token.");let a=await this.managedIdentityApp.acquireToken({resource:r});return this.ensureValidMsalToken(e,a,t),p.getToken.info((0,c.formatSuccess)(e)),{expiresOnTimestamp:a.expiresOn.getTime(),token:a.accessToken,refreshAfterTimestamp:null===(n=a.refreshOn)||void 0===n?void 0:n.getTime(),tokenType:"Bearer"}}catch(t){if(p.getToken.error((0,c.formatError)(e,t)),"AuthenticationRequiredError"===t.name)throw t;if("network_error"===t.errorCode||"ENETUNREACH"===t.code||"EHOSTUNREACH"===t.code||(403===t.statusCode||403===t.code)&&t.message.includes("unreachable"))throw new s.CredentialUnavailableError(`ManagedIdentityCredential: Network unreachable. Message: ${t.message}`,{cause:t});throw new s.CredentialUnavailableError(`ManagedIdentityCredential: Authentication failed. Message ${t.message}`,{cause:t})}})}ensureValidMsalToken(e,t,r){let n=t=>(p.getToken.info(t),new s.AuthenticationRequiredError({scopes:Array.isArray(e)?e:[e],getTokenOptions:r,message:t}));if(!t)throw n("No response.");if(!t.expiresOn)throw n('Response had no "expiresOn" property.');if(!t.accessToken)throw n('Response had no "accessToken" property.')}}t.ManagedIdentityCredential=m},77790:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tokenExchangeMsi=void 0;let n=r(91472),i=r(73187),o="ManagedIdentityCredential - Token Exchange",s=(0,i.credentialLogger)(o);t.tokenExchangeMsi={name:"tokenExchangeMsi",async isAvailable(e){let t=process.env,r=!!((e||t.AZURE_CLIENT_ID)&&t.AZURE_TENANT_ID&&process.env.AZURE_FEDERATED_TOKEN_FILE);return r||s.info(`${o}: Unavailable. The environment variables needed are: AZURE_CLIENT_ID (or the client ID sent through the parameters), AZURE_TENANT_ID and AZURE_FEDERATED_TOKEN_FILE`),r},async getToken(e,t={}){let{scopes:r,clientId:i}=e;return new n.WorkloadIdentityCredential(Object.assign(Object.assign({clientId:i,tenantId:process.env.AZURE_TENANT_ID,tokenFilePath:process.env.AZURE_FEDERATED_TOKEN_FILE},{}),{disableInstanceDiscovery:!0})).getToken(r,t)}}},39216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serviceFabricErrorMessage=void 0,t.mapScopesToResource=function(e){let t="";if(Array.isArray(e)){if(1!==e.length)return;t=e[0]}else"string"==typeof e&&(t=e);return t.endsWith(r)?t.substr(0,t.lastIndexOf(r)):t},t.parseExpirationTimestamp=function(e){if("number"==typeof e.expires_on)return 1e3*e.expires_on;if("string"==typeof e.expires_on){let t=+e.expires_on;if(!isNaN(t))return 1e3*t;let r=Date.parse(e.expires_on);if(!isNaN(r))return r}if("number"==typeof e.expires_in)return Date.now()+1e3*e.expires_in;throw Error(`Failed to parse token expiration from body. expires_in="${e.expires_in}", expires_on="${e.expires_on}"`)},t.parseRefreshTimestamp=function(e){if(e.refresh_on){if("number"==typeof e.refresh_on)return 1e3*e.refresh_on;if("string"==typeof e.refresh_on){let t=+e.refresh_on;if(!isNaN(t))return 1e3*t;let r=Date.parse(e.refresh_on);if(!isNaN(r))return r}throw Error(`Failed to parse refresh_on from body. refresh_on="${e.refresh_on}"`)}};let r="/.default";t.serviceFabricErrorMessage="Specifying a `clientId` or `resourceId` is not supported by the Service Fabric managed identity environment. The managed identity configuration is determined by the Service Fabric cluster resource configuration. See https://aka.ms/servicefabricmi for more information"},95903:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnBehalfOfCredential=void 0;let n=r(1307),i=r(73187),o=r(8540),s=r(93886),a=r(77598),l=r(3609),c=r(51455),u=r(59980),d="OnBehalfOfCredential",h=(0,i.credentialLogger)(d);class f{constructor(e){let{clientSecret:t}=e,{certificatePath:r,sendCertificateChain:i}=e,{getAssertion:a}=e,{tenantId:l,clientId:c,userAssertionToken:u,additionallyAllowedTenants:f}=e;if(!l)throw new s.CredentialUnavailableError(`${d}: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(!c)throw new s.CredentialUnavailableError(`${d}: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(!t&&!r&&!a)throw new s.CredentialUnavailableError(`${d}: You must provide one of clientSecret, certificatePath, or a getAssertion callback but none were provided. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(!u)throw new s.CredentialUnavailableError(`${d}: userAssertionToken is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.certificatePath=r,this.clientSecret=t,this.userAssertionToken=u,this.sendCertificateChain=i,this.clientAssertion=a,this.tenantId=l,this.additionallyAllowedTenantIds=(0,o.resolveAdditionallyAllowedTenantIds)(f),this.msalClient=(0,n.createMsalClient)(c,this.tenantId,Object.assign(Object.assign({},e),{logger:h,tokenCredentialOptions:e}))}async getToken(e,t={}){return u.tracingClient.withSpan(`${d}.getToken`,t,async r=>{r.tenantId=(0,o.processMultiTenantRequest)(this.tenantId,r,this.additionallyAllowedTenantIds,h);let n=(0,l.ensureScopes)(e);if(this.certificatePath){let e=await this.buildClientCertificate(this.certificatePath);return this.msalClient.getTokenOnBehalfOf(n,this.userAssertionToken,e,r)}if(this.clientSecret)return this.msalClient.getTokenOnBehalfOf(n,this.userAssertionToken,this.clientSecret,t);if(this.clientAssertion)return this.msalClient.getTokenOnBehalfOf(n,this.userAssertionToken,this.clientAssertion,t);throw Error("Expected either clientSecret or certificatePath or clientAssertion to be defined.")})}async buildClientCertificate(e){try{let t=await this.parseCertificate({certificatePath:e},this.sendCertificateChain);return{thumbprint:t.thumbprint,privateKey:t.certificateContents,x5c:t.x5c}}catch(e){throw h.info((0,i.formatError)("",e)),e}}async parseCertificate(e,t){let r;let n=e.certificatePath,i=await (0,c.readFile)(n,"utf8"),o=t?i:void 0,s=/(-+BEGIN CERTIFICATE-+)(\n\r?|\r\n?)([A-Za-z0-9+/\n\r]+=*)(\n\r?|\r\n?)(-+END CERTIFICATE-+)/g,l=[];do(r=s.exec(i))&&l.push(r[3]);while(r);if(0===l.length)throw Error("The file at the specified path does not contain a PEM-encoded certificate.");return{certificateContents:i,thumbprint:(0,a.createHash)("sha1").update(Buffer.from(l[0],"base64")).digest("hex").toUpperCase(),x5c:o}}}t.OnBehalfOfCredential=f},51546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsernamePasswordCredential=void 0;let n=r(1307),i=r(8540),o=r(93886),s=r(73187),a=r(3609),l=r(59980),c=(0,s.credentialLogger)("UsernamePasswordCredential");class u{constructor(e,t,r,s,a={}){if(!e)throw new o.CredentialUnavailableError("UsernamePasswordCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!t)throw new o.CredentialUnavailableError("UsernamePasswordCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!r)throw new o.CredentialUnavailableError("UsernamePasswordCredential: username is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!s)throw new o.CredentialUnavailableError("UsernamePasswordCredential: password is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");this.tenantId=e,this.additionallyAllowedTenantIds=(0,i.resolveAdditionallyAllowedTenantIds)(null==a?void 0:a.additionallyAllowedTenants),this.username=r,this.password=s,this.msalClient=(0,n.createMsalClient)(t,this.tenantId,Object.assign(Object.assign({},a),{tokenCredentialOptions:null!=a?a:{}}))}async getToken(e,t={}){return l.tracingClient.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=(0,i.processMultiTenantRequest)(this.tenantId,t,this.additionallyAllowedTenantIds,c);let r=(0,a.ensureScopes)(e);return this.msalClient.getTokenByUsernamePassword(r,this.username,this.password,t)})}}t.UsernamePasswordCredential=u},79424:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.VisualStudioCodeCredential=t.vsCodeCredentialControl=void 0,t.getPropertyFromVSCode=_;let i=r(78372),o=r(73187),s=r(8540),a=r(60244),l=r(93886),c=r(46288),u=r(8540),d=i.__importDefault(r(73024)),h=i.__importDefault(r(48161)),f=i.__importDefault(r(76760)),p=(0,o.credentialLogger)("VisualStudioCodeCredential");t.vsCodeCredentialControl={setVsCodeCredentialFinder(e){n=e}};let m={adfs:"The VisualStudioCodeCredential does not support authentication with ADFS tenants."};function g(e){let t=m[e];if(t)throw new l.CredentialUnavailableError(t)}let y={AzureCloud:a.AzureAuthorityHosts.AzurePublicCloud,AzureChina:a.AzureAuthorityHosts.AzureChina,AzureGermanCloud:a.AzureAuthorityHosts.AzureGermany,AzureUSGovernment:a.AzureAuthorityHosts.AzureGovernment};function _(e){let t=["User","settings.json"],r=h.default.homedir();function n(...r){let i=f.default.join(...r,"Code",...t);return JSON.parse(d.default.readFileSync(i,{encoding:"utf8"}))[e]}try{let e;switch(process.platform){case"win32":return(e=process.env.APPDATA)?n(e):void 0;case"darwin":return n(r,"Library","Application Support");case"linux":return n(r,".config");default:return}}catch(e){p.info(`Failed to load the Visual Studio Code configuration file. Error: ${e.message}`);return}}class E{constructor(e){this.cloudName=_("azure.cloud")||"AzureCloud";let t=y[this.cloudName];this.identityClient=new c.IdentityClient(Object.assign({authorityHost:t},e)),e&&e.tenantId?((0,u.checkTenantId)(p,e.tenantId),this.tenantId=e.tenantId):this.tenantId="common",this.additionallyAllowedTenantIds=(0,s.resolveAdditionallyAllowedTenantIds)(null==e?void 0:e.additionallyAllowedTenants),g(this.tenantId)}async prepare(){let e=_("azure.tenant");e&&(this.tenantId=e),g(this.tenantId)}prepareOnce(){return this.preparePromise||(this.preparePromise=this.prepare()),this.preparePromise}async getToken(e,t){var r,i;await this.prepareOnce();let a=(0,s.processMultiTenantRequest)(this.tenantId,t,this.additionallyAllowedTenantIds,p)||this.tenantId;if(void 0===n)throw new l.CredentialUnavailableError("No implementation of `VisualStudioCodeCredential` is available. You must install the identity-vscode plugin package (`npm install --save-dev @azure/identity-vscode`) and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling `useIdentityPlugin(vsCodePlugin)` before creating a `VisualStudioCodeCredential`. To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot.");let c="string"==typeof e?e:e.join(" ");if(!c.match(/^[0-9a-zA-Z-.:/]+$/)){let t=Error("Invalid scope was specified by the user or calling client");throw p.getToken.info((0,o.formatError)(e,t)),t}0>c.indexOf("offline_access")&&(c+=" offline_access");let u=await n(),{password:d}=null!==(i=null!==(r=u.find(({account:e})=>e===this.cloudName))&&void 0!==r?r:u[0])&&void 0!==i?i:{};if(d){let t=await this.identityClient.refreshAccessToken(a,"aebc6443-996d-45c2-90f0-388ff96faa56",c,d,void 0);if(t)return p.getToken.info((0,o.formatSuccess)(e)),t.accessToken;{let t=new l.CredentialUnavailableError("Could not retrieve the token associated with Visual Studio Code. Have you connected using the 'Azure Account' extension recently? To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot.");throw p.getToken.info((0,o.formatError)(e,t)),t}}{let t=new l.CredentialUnavailableError("Could not retrieve the token associated with Visual Studio Code. Did you connect using the 'Azure Account' extension? To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot.");throw p.getToken.info((0,o.formatError)(e,t)),t}}}t.VisualStudioCodeCredential=E},91472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkloadIdentityCredential=t.SupportedWorkloadEnvironmentVariables=void 0;let n=r(73187),i=r(48356),o=r(93886),s=r(8540),a=r(51455),l="WorkloadIdentityCredential";t.SupportedWorkloadEnvironmentVariables=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_FEDERATED_TOKEN_FILE"];let c=(0,n.credentialLogger)(l);class u{constructor(e){this.azureFederatedTokenFileContent=void 0,this.cacheDate=void 0;let r=(0,n.processEnvVars)(t.SupportedWorkloadEnvironmentVariables).assigned.join(", ");c.info(`Found the following environment variables: ${r}`);let a=null!=e?e:{},u=a.tenantId||process.env.AZURE_TENANT_ID,d=a.clientId||process.env.AZURE_CLIENT_ID;if(this.federatedTokenFilePath=a.tokenFilePath||process.env.AZURE_FEDERATED_TOKEN_FILE,u&&(0,s.checkTenantId)(c,u),!d)throw new o.CredentialUnavailableError(`${l}: is unavailable. clientId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_CLIENT_ID".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!u)throw new o.CredentialUnavailableError(`${l}: is unavailable. tenantId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_TENANT_ID".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!this.federatedTokenFilePath)throw new o.CredentialUnavailableError(`${l}: is unavailable. federatedTokenFilePath is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_FEDERATED_TOKEN_FILE".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);c.info(`Invoking ClientAssertionCredential with tenant ID: ${u}, clientId: ${a.clientId} and federated token path: [REDACTED]`),this.client=new i.ClientAssertionCredential(u,d,this.readFileContents.bind(this),e)}async getToken(e,t){if(!this.client){let e=`${l}: is unavailable. tenantId, clientId, and federatedTokenFilePath are required parameters. 
      In DefaultAzureCredential and ManagedIdentityCredential, these can be provided as environment variables - 
      "AZURE_TENANT_ID",
      "AZURE_CLIENT_ID",
      "AZURE_FEDERATED_TOKEN_FILE". See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`;throw c.info(e),new o.CredentialUnavailableError(e)}return c.info("Invoking getToken() of Client Assertion Credential"),this.client.getToken(e,t)}async readFileContents(){if(void 0!==this.cacheDate&&Date.now()-this.cacheDate>=3e5&&(this.azureFederatedTokenFileContent=void 0),!this.federatedTokenFilePath)throw new o.CredentialUnavailableError(`${l}: is unavailable. Invalid file path provided ${this.federatedTokenFilePath}.`);if(!this.azureFederatedTokenFileContent){let e=(await (0,a.readFile)(this.federatedTokenFilePath,"utf8")).trim();if(e)this.azureFederatedTokenFileContent=e,this.cacheDate=Date.now();else throw new o.CredentialUnavailableError(`${l}: is unavailable. No content on the file ${this.federatedTokenFilePath}.`)}return this.azureFederatedTokenFileContent}}t.WorkloadIdentityCredential=u},93886:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthenticationRequiredError=t.AggregateAuthenticationError=t.AggregateAuthenticationErrorName=t.AuthenticationError=t.AuthenticationErrorName=t.CredentialUnavailableError=t.CredentialUnavailableErrorName=void 0,t.CredentialUnavailableErrorName="CredentialUnavailableError";class r extends Error{constructor(e,r){super(e,r),this.name=t.CredentialUnavailableErrorName}}t.CredentialUnavailableError=r,t.AuthenticationErrorName="AuthenticationError";class n extends Error{constructor(e,r,n){let i={error:"unknown",errorDescription:"An unknown error occurred and no additional details are available."};if(function(e){return e&&"string"==typeof e.error&&"string"==typeof e.error_description}(r))i=o(r);else if("string"==typeof r)try{let e=JSON.parse(r);i=o(e)}catch(t){i=400===e?{error:"invalid_request",errorDescription:`The service indicated that the request was invalid.

${r}`}:{error:"unknown_error",errorDescription:`An unknown error has occurred. Response body:

${r}`}}else i={error:"unknown_error",errorDescription:"An unknown error occurred and no additional details are available."};super(`${i.error} Status code: ${e}
More details:
${i.errorDescription},`,n),this.statusCode=e,this.errorResponse=i,this.name=t.AuthenticationErrorName}}t.AuthenticationError=n,t.AggregateAuthenticationErrorName="AggregateAuthenticationError";class i extends Error{constructor(e,r){super(`${r}
${e.join("\n")}`),this.errors=e,this.name=t.AggregateAuthenticationErrorName}}function o(e){return{error:e.error,errorDescription:e.error_description,correlationId:e.correlation_id,errorCodes:e.error_codes,timestamp:e.timestamp,traceId:e.trace_id}}t.AggregateAuthenticationError=i;class s extends Error{constructor(e){super(e.message,e.cause?{cause:e.cause}:void 0),this.scopes=e.scopes,this.getTokenOptions=e.getTokenOptions,this.name="AuthenticationRequiredError"}}t.AuthenticationRequiredError=s},82805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBearerTokenProvider=t.AzureAuthorityHosts=t.logger=t.WorkloadIdentityCredential=t.OnBehalfOfCredential=t.VisualStudioCodeCredential=t.UsernamePasswordCredential=t.AzurePowerShellCredential=t.AuthorizationCodeCredential=t.AzurePipelinesCredential=t.DeviceCodeCredential=t.ManagedIdentityCredential=t.InteractiveBrowserCredential=t.AzureDeveloperCliCredential=t.AzureCliCredential=t.ClientAssertionCredential=t.ClientCertificateCredential=t.EnvironmentCredential=t.DefaultAzureCredential=t.ClientSecretCredential=t.ChainedTokenCredential=t.deserializeAuthenticationRecord=t.serializeAuthenticationRecord=t.AuthenticationRequiredError=t.CredentialUnavailableErrorName=t.CredentialUnavailableError=t.AggregateAuthenticationErrorName=t.AuthenticationErrorName=t.AggregateAuthenticationError=t.AuthenticationError=void 0,t.getDefaultAzureCredential=function(){return new n.DefaultAzureCredential},r(78372).__exportStar(r(76520),t);let n=r(25575);var i=r(93886);Object.defineProperty(t,"AuthenticationError",{enumerable:!0,get:function(){return i.AuthenticationError}}),Object.defineProperty(t,"AggregateAuthenticationError",{enumerable:!0,get:function(){return i.AggregateAuthenticationError}}),Object.defineProperty(t,"AuthenticationErrorName",{enumerable:!0,get:function(){return i.AuthenticationErrorName}}),Object.defineProperty(t,"AggregateAuthenticationErrorName",{enumerable:!0,get:function(){return i.AggregateAuthenticationErrorName}}),Object.defineProperty(t,"CredentialUnavailableError",{enumerable:!0,get:function(){return i.CredentialUnavailableError}}),Object.defineProperty(t,"CredentialUnavailableErrorName",{enumerable:!0,get:function(){return i.CredentialUnavailableErrorName}}),Object.defineProperty(t,"AuthenticationRequiredError",{enumerable:!0,get:function(){return i.AuthenticationRequiredError}});var o=r(56846);Object.defineProperty(t,"serializeAuthenticationRecord",{enumerable:!0,get:function(){return o.serializeAuthenticationRecord}}),Object.defineProperty(t,"deserializeAuthenticationRecord",{enumerable:!0,get:function(){return o.deserializeAuthenticationRecord}});var s=r(74394);Object.defineProperty(t,"ChainedTokenCredential",{enumerable:!0,get:function(){return s.ChainedTokenCredential}});var a=r(90744);Object.defineProperty(t,"ClientSecretCredential",{enumerable:!0,get:function(){return a.ClientSecretCredential}});var l=r(25575);Object.defineProperty(t,"DefaultAzureCredential",{enumerable:!0,get:function(){return l.DefaultAzureCredential}});var c=r(75252);Object.defineProperty(t,"EnvironmentCredential",{enumerable:!0,get:function(){return c.EnvironmentCredential}});var u=r(44503);Object.defineProperty(t,"ClientCertificateCredential",{enumerable:!0,get:function(){return u.ClientCertificateCredential}});var d=r(48356);Object.defineProperty(t,"ClientAssertionCredential",{enumerable:!0,get:function(){return d.ClientAssertionCredential}});var h=r(21140);Object.defineProperty(t,"AzureCliCredential",{enumerable:!0,get:function(){return h.AzureCliCredential}});var f=r(19834);Object.defineProperty(t,"AzureDeveloperCliCredential",{enumerable:!0,get:function(){return f.AzureDeveloperCliCredential}});var p=r(60183);Object.defineProperty(t,"InteractiveBrowserCredential",{enumerable:!0,get:function(){return p.InteractiveBrowserCredential}});var m=r(72021);Object.defineProperty(t,"ManagedIdentityCredential",{enumerable:!0,get:function(){return m.ManagedIdentityCredential}});var g=r(70908);Object.defineProperty(t,"DeviceCodeCredential",{enumerable:!0,get:function(){return g.DeviceCodeCredential}});var y=r(4073);Object.defineProperty(t,"AzurePipelinesCredential",{enumerable:!0,get:function(){return y.AzurePipelinesCredential}});var _=r(18469);Object.defineProperty(t,"AuthorizationCodeCredential",{enumerable:!0,get:function(){return _.AuthorizationCodeCredential}});var E=r(5579);Object.defineProperty(t,"AzurePowerShellCredential",{enumerable:!0,get:function(){return E.AzurePowerShellCredential}});var v=r(51546);Object.defineProperty(t,"UsernamePasswordCredential",{enumerable:!0,get:function(){return v.UsernamePasswordCredential}});var b=r(79424);Object.defineProperty(t,"VisualStudioCodeCredential",{enumerable:!0,get:function(){return b.VisualStudioCodeCredential}});var T=r(95903);Object.defineProperty(t,"OnBehalfOfCredential",{enumerable:!0,get:function(){return T.OnBehalfOfCredential}});var w=r(91472);Object.defineProperty(t,"WorkloadIdentityCredential",{enumerable:!0,get:function(){return w.WorkloadIdentityCredential}});var S=r(73187);Object.defineProperty(t,"logger",{enumerable:!0,get:function(){return S.logger}});var A=r(60244);Object.defineProperty(t,"AzureAuthorityHosts",{enumerable:!0,get:function(){return A.AzureAuthorityHosts}});var C=r(64549);Object.defineProperty(t,"getBearerTokenProvider",{enumerable:!0,get:function(){return C.getBearerTokenProvider}})},9970:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.msalCommon=void 0;let n=r(78372).__importStar(r(53262));t.msalCommon=n},1307:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMsalConfiguration=f,t.createMsalClient=function(e,t,l={}){var u;let d={msalConfig:f(e,t,l),cachedAccount:l.authenticationRecord?(0,s.publicToMsal)(l.authenticationRecord):null,pluginConfiguration:o.msalPlugins.generatePluginConfiguration(l),logger:null!==(u=l.logger)&&void 0!==u?u:h},p=new Map;async function m(e={}){let t=e.enableCae?"CAE":"default",r=p.get(t);if(r)return d.logger.getToken.info("Existing PublicClientApplication found in cache, returning it."),r;d.logger.getToken.info(`Creating new PublicClientApplication with CAE ${e.enableCae?"enabled":"disabled"}.`);let i=e.enableCae?d.pluginConfiguration.cache.cachePluginCae:d.pluginConfiguration.cache.cachePlugin;return d.msalConfig.auth.clientCapabilities=e.enableCae?["cp1"]:void 0,r=new n.PublicClientApplication(Object.assign(Object.assign({},d.msalConfig),{broker:{nativeBrokerPlugin:d.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await i}})),p.set(t,r),r}let g=new Map;async function y(e={}){let t=e.enableCae?"CAE":"default",r=g.get(t);if(r)return d.logger.getToken.info("Existing ConfidentialClientApplication found in cache, returning it."),r;d.logger.getToken.info(`Creating new ConfidentialClientApplication with CAE ${e.enableCae?"enabled":"disabled"}.`);let i=e.enableCae?d.pluginConfiguration.cache.cachePluginCae:d.pluginConfiguration.cache.cachePlugin;return d.msalConfig.auth.clientCapabilities=e.enableCae?["cp1"]:void 0,r=new n.ConfidentialClientApplication(Object.assign(Object.assign({},d.msalConfig),{broker:{nativeBrokerPlugin:d.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await i}})),g.set(t,r),r}async function _(e,t,r={}){if(null===d.cachedAccount)throw d.logger.getToken.info("No cached account found in local state."),new a.AuthenticationRequiredError({scopes:t});r.claims&&(d.cachedClaims=r.claims);let n={account:d.cachedAccount,scopes:t,claims:d.cachedClaims};d.pluginConfiguration.broker.isEnabled&&(n.tokenQueryParameters||(n.tokenQueryParameters={}),d.pluginConfiguration.broker.enableMsaPassthrough&&(n.tokenQueryParameters.msal_request_type="consumer_passthrough")),r.proofOfPossessionOptions&&(n.shrNonce=r.proofOfPossessionOptions.nonce,n.authenticationScheme="pop",n.resourceRequestMethod=r.proofOfPossessionOptions.resourceRequestMethod,n.resourceRequestUri=r.proofOfPossessionOptions.resourceRequestUrl),d.logger.getToken.info("Attempting to acquire token silently");try{return await e.acquireTokenSilent(n)}catch(e){throw(0,s.handleMsalError)(t,e,r)}}function E(e){return(null==e?void 0:e.tenantId)?(0,s.getAuthority)(e.tenantId,(0,s.getAuthorityHost)(l)):d.msalConfig.auth.authority}async function v(e,t,r,n){var o,l;let c=null;try{c=await _(e,t,r)}catch(e){if("AuthenticationRequiredError"!==e.name)throw e;if(r.disableAutomaticAuthentication)throw new a.AuthenticationRequiredError({scopes:t,getTokenOptions:r,message:"Automatic authentication has been disabled. You may call the authentication() method."})}if(null===c)try{c=await n()}catch(e){throw(0,s.handleMsalError)(t,e,r)}return(0,s.ensureValidMsalToken)(t,c,r),d.cachedAccount=null!==(o=null==c?void 0:c.account)&&void 0!==o?o:null,d.logger.getToken.info((0,i.formatSuccess)(t)),{token:c.accessToken,expiresOnTimestamp:c.expiresOn.getTime(),refreshAfterTimestamp:null===(l=c.refreshOn)||void 0===l?void 0:l.getTime(),tokenType:c.tokenType}}return{getActiveAccount:function(){if(d.cachedAccount)return(0,s.msalToPublic)(e,d.cachedAccount)},getTokenByClientSecret:async function(e,t,r={}){var n;d.logger.getToken.info("Attempting to acquire token using client secret"),d.msalConfig.auth.clientSecret=t;let o=await y(r);try{let t=await o.acquireTokenByClientCredential({scopes:e,authority:E(r),azureRegion:(0,c.calculateRegionalAuthority)(),claims:null==r?void 0:r.claims});return(0,s.ensureValidMsalToken)(e,t,r),d.logger.getToken.info((0,i.formatSuccess)(e)),{token:t.accessToken,expiresOnTimestamp:t.expiresOn.getTime(),refreshAfterTimestamp:null===(n=t.refreshOn)||void 0===n?void 0:n.getTime(),tokenType:t.tokenType}}catch(t){throw(0,s.handleMsalError)(e,t,r)}},getTokenByClientAssertion:async function(e,t,r={}){var n;d.logger.getToken.info("Attempting to acquire token using client assertion"),d.msalConfig.auth.clientAssertion=t;let o=await y(r);try{let a=await o.acquireTokenByClientCredential({scopes:e,authority:E(r),azureRegion:(0,c.calculateRegionalAuthority)(),claims:null==r?void 0:r.claims,clientAssertion:t});return(0,s.ensureValidMsalToken)(e,a,r),d.logger.getToken.info((0,i.formatSuccess)(e)),{token:a.accessToken,expiresOnTimestamp:a.expiresOn.getTime(),refreshAfterTimestamp:null===(n=a.refreshOn)||void 0===n?void 0:n.getTime(),tokenType:a.tokenType}}catch(t){throw(0,s.handleMsalError)(e,t,r)}},getTokenByClientCertificate:async function(e,t,r={}){var n;d.logger.getToken.info("Attempting to acquire token using client certificate"),d.msalConfig.auth.clientCertificate=t;let o=await y(r);try{let t=await o.acquireTokenByClientCredential({scopes:e,authority:E(r),azureRegion:(0,c.calculateRegionalAuthority)(),claims:null==r?void 0:r.claims});return(0,s.ensureValidMsalToken)(e,t,r),d.logger.getToken.info((0,i.formatSuccess)(e)),{token:t.accessToken,expiresOnTimestamp:t.expiresOn.getTime(),refreshAfterTimestamp:null===(n=t.refreshOn)||void 0===n?void 0:n.getTime(),tokenType:t.tokenType}}catch(t){throw(0,s.handleMsalError)(e,t,r)}},getTokenByDeviceCode:async function(e,t,r={}){d.logger.getToken.info("Attempting to acquire token using device code");let n=await m(r);return v(n,e,r,()=>{var i,o;let s={scopes:e,cancel:null!==(o=null===(i=null==r?void 0:r.abortSignal)||void 0===i?void 0:i.aborted)&&void 0!==o&&o,deviceCodeCallback:t,authority:E(r),claims:null==r?void 0:r.claims},a=n.acquireTokenByDeviceCode(s);return r.abortSignal&&r.abortSignal.addEventListener("abort",()=>{s.cancel=!0}),a})},getTokenByUsernamePassword:async function(e,t,r,n={}){d.logger.getToken.info("Attempting to acquire token using username and password");let i=await m(n);return v(i,e,n,()=>{let o={scopes:e,username:t,password:r,authority:E(n),claims:null==n?void 0:n.claims};return i.acquireTokenByUsernamePassword(o)})},getTokenByAuthorizationCode:async function(e,t,r,n,i={}){let o;return d.logger.getToken.info("Attempting to acquire token using authorization code"),n?(d.msalConfig.auth.clientSecret=n,o=await y(i)):o=await m(i),v(o,e,i,()=>o.acquireTokenByCode({scopes:e,redirectUri:t,code:r,authority:E(i),claims:null==i?void 0:i.claims}))},getTokenOnBehalfOf:async function(e,t,r,n={}){var o;h.getToken.info("Attempting to acquire token on behalf of another user"),"string"==typeof r?(h.getToken.info("Using client secret for on behalf of flow"),d.msalConfig.auth.clientSecret=r):"function"==typeof r?(h.getToken.info("Using client assertion callback for on behalf of flow"),d.msalConfig.auth.clientAssertion=r):(h.getToken.info("Using client certificate for on behalf of flow"),d.msalConfig.auth.clientCertificate=r);let a=await y(n);try{let r=await a.acquireTokenOnBehalfOf({scopes:e,authority:E(n),claims:n.claims,oboAssertion:t});return(0,s.ensureValidMsalToken)(e,r,n),h.getToken.info((0,i.formatSuccess)(e)),{token:r.accessToken,expiresOnTimestamp:r.expiresOn.getTime(),refreshAfterTimestamp:null===(o=r.refreshOn)||void 0===o?void 0:o.getTime(),tokenType:r.tokenType}}catch(t){throw(0,s.handleMsalError)(e,t,n)}},getTokenByInteractiveRequest:async function(e,t={}){h.getToken.info("Attempting to acquire token interactively");let n=await m(t);async function i(e){var r;h.verbose("Authentication will resume through the broker");let s=o();d.pluginConfiguration.broker.parentWindowHandle?s.windowHandle=Buffer.from(d.pluginConfiguration.broker.parentWindowHandle):h.warning("Parent window handle is not specified for the broker. This may cause unexpected behavior. Please provide the parentWindowHandle."),d.pluginConfiguration.broker.enableMsaPassthrough&&((null!==(r=s.tokenQueryParameters)&&void 0!==r?r:s.tokenQueryParameters={}).msal_request_type="consumer_passthrough"),e?(s.prompt="none",h.verbose("Attempting broker authentication using the default broker account")):h.verbose("Attempting broker authentication without the default broker account"),t.proofOfPossessionOptions&&(s.shrNonce=t.proofOfPossessionOptions.nonce,s.authenticationScheme="pop",s.resourceRequestMethod=t.proofOfPossessionOptions.resourceRequestMethod,s.resourceRequestUri=t.proofOfPossessionOptions.resourceRequestUrl);try{return await n.acquireTokenInteractive(s)}catch(t){if(h.verbose(`Failed to authenticate through the broker: ${t.message}`),e)return i(!1);throw t}}function o(){var n,i;return{openBrowser:async e=>{let t=await r.e(862).then(r.bind(r,15862));await t.default(e,{wait:!0,newInstance:!0})},scopes:e,authority:E(t),claims:null==t?void 0:t.claims,loginHint:null==t?void 0:t.loginHint,errorTemplate:null===(n=null==t?void 0:t.browserCustomizationOptions)||void 0===n?void 0:n.errorMessage,successTemplate:null===(i=null==t?void 0:t.browserCustomizationOptions)||void 0===i?void 0:i.successMessage,prompt:(null==t?void 0:t.loginHint)?"login":"select_account"}}return v(n,e,t,async()=>{var e;let r=o();return d.pluginConfiguration.broker.isEnabled?i(null!==(e=d.pluginConfiguration.broker.useDefaultBrokerAccount)&&void 0!==e&&e):(t.proofOfPossessionOptions&&(r.shrNonce=t.proofOfPossessionOptions.nonce,r.authenticationScheme="pop",r.resourceRequestMethod=t.proofOfPossessionOptions.resourceRequestMethod,r.resourceRequestUri=t.proofOfPossessionOptions.resourceRequestUrl),n.acquireTokenInteractive(r))})}}};let n=r(78372).__importStar(r(53262)),i=r(73187),o=r(59074),s=r(56846),a=r(93886),l=r(46288),c=r(42423),u=r(46023),d=r(8540),h=(0,i.credentialLogger)("MsalClient");function f(e,t,r={}){var n,i,o;let a=(0,d.resolveTenantId)(null!==(n=r.logger)&&void 0!==n?n:h,t,e),c=(0,s.getAuthority)(a,(0,s.getAuthorityHost)(r)),p=new l.IdentityClient(Object.assign(Object.assign({},r.tokenCredentialOptions),{authorityHost:c,loggingOptions:r.loggingOptions}));return{auth:{clientId:e,authority:c,knownAuthorities:(0,s.getKnownAuthorities)(a,c,r.disableInstanceDiscovery)},system:{networkClient:p,loggerOptions:{loggerCallback:(0,s.defaultLoggerCallback)(null!==(i=r.logger)&&void 0!==i?i:h),logLevel:(0,s.getMSALLogLevel)((0,u.getLogLevel)()),piiLoggingEnabled:null===(o=r.loggingOptions)||void 0===o?void 0:o.enableUnsafeSupportLogging}}}}},59074:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.msalPlugins=t.msalNodeFlowNativeBrokerControl=t.nativeBrokerInfo=t.msalNodeFlowCacheControl=t.persistenceProvider=void 0,t.hasNativeBroker=function(){return void 0!==t.nativeBrokerInfo};let n=r(60244);t.persistenceProvider=void 0,t.msalNodeFlowCacheControl={setPersistence(e){t.persistenceProvider=e}},t.nativeBrokerInfo=void 0,t.msalNodeFlowNativeBrokerControl={setNativeBroker(e){t.nativeBrokerInfo={broker:e}}},t.msalPlugins={generatePluginConfiguration:function(e){var r,i,o,s,a,l,c;let u={cache:{},broker:{isEnabled:null!==(i=null===(r=e.brokerOptions)||void 0===r?void 0:r.enabled)&&void 0!==i&&i,enableMsaPassthrough:null!==(s=null===(o=e.brokerOptions)||void 0===o?void 0:o.legacyEnableMsaPassthrough)&&void 0!==s&&s,parentWindowHandle:null===(a=e.brokerOptions)||void 0===a?void 0:a.parentWindowHandle}};if(null===(l=e.tokenCachePersistenceOptions)||void 0===l?void 0:l.enabled){if(void 0===t.persistenceProvider)throw Error("Persistent token caching was requested, but no persistence provider was configured. You must install the identity-cache-persistence plugin package (`npm install --save @azure/identity-cache-persistence`) and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling `useIdentityPlugin(cachePersistencePlugin)` before using `tokenCachePersistenceOptions`.");let r=e.tokenCachePersistenceOptions.name||n.DEFAULT_TOKEN_CACHE_NAME;u.cache.cachePlugin=(0,t.persistenceProvider)(Object.assign({name:`${r}.${n.CACHE_NON_CAE_SUFFIX}`},e.tokenCachePersistenceOptions)),u.cache.cachePluginCae=(0,t.persistenceProvider)(Object.assign({name:`${r}.${n.CACHE_CAE_SUFFIX}`},e.tokenCachePersistenceOptions))}if(null===(c=e.brokerOptions)||void 0===c?void 0:c.enabled){if(void 0===t.nativeBrokerInfo)throw Error("Broker for WAM was requested to be enabled, but no native broker was configured. You must install the identity-broker plugin package (`npm install --save @azure/identity-broker`) and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling `useIdentityPlugin(createNativeBrokerPlugin())` before using `enableBroker`.");u.broker.nativeBrokerPlugin=t.nativeBrokerInfo.broker}return u}}},56846:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLoggerCallback=void 0,t.ensureValidMsalToken=function(e,t,r){let i=t=>(c.getToken.info(t),new n.AuthenticationRequiredError({scopes:Array.isArray(e)?e:[e],getTokenOptions:r,message:t}));if(!t)throw i("No response");if(!t.expiresOn)throw i('Response had no "expiresOn" property.');if(!t.accessToken)throw i('Response had no "accessToken" property.')},t.getAuthorityHost=function(e){let t=null==e?void 0:e.authorityHost;return!t&&s.isNodeLike&&(t=process.env.AZURE_AUTHORITY_HOST),null!=t?t:o.DefaultAuthorityHost},t.getAuthority=function(e,t){return(t||(t=o.DefaultAuthorityHost),RegExp(`${e}/?$`).test(t))?t:t.endsWith("/")?t+e:`${t}/${e}`},t.getKnownAuthorities=function(e,t,r){return"adfs"===e&&t||r?[t]:[]},t.getMSALLogLevel=function(e){switch(e){case"error":return l.msalCommon.LogLevel.Error;case"info":default:return l.msalCommon.LogLevel.Info;case"verbose":return l.msalCommon.LogLevel.Verbose;case"warning":return l.msalCommon.LogLevel.Warning}},t.randomUUID=function(){return(0,s.randomUUID)()},t.handleMsalError=function(e,t,r){if("AuthError"===t.name||"ClientAuthError"===t.name||"BrowserAuthError"===t.name)switch(t.errorCode){case"endpoints_resolution_error":return c.info((0,i.formatError)(e,t.message)),new n.CredentialUnavailableError(t.message);case"device_code_polling_cancelled":return new a.AbortError("The authentication has been aborted by the caller.");case"consent_required":case"interaction_required":case"login_required":c.info((0,i.formatError)(e,`Authentication returned errorCode ${t.errorCode}`));break;default:c.info((0,i.formatError)(e,`Failed to acquire token: ${t.message}`))}return"ClientConfigurationError"===t.name||"BrowserConfigurationAuthError"===t.name||"AbortError"===t.name||"AuthenticationError"===t.name?t:"NativeAuthError"===t.name?(c.info((0,i.formatError)(e,`Error from the native broker: ${t.message} with status code: ${t.statusCode}`)),t):new n.AuthenticationRequiredError({scopes:e,getTokenOptions:r,message:t.message})},t.publicToMsal=function(e){return{localAccountId:e.homeAccountId,environment:e.authority,username:e.username,homeAccountId:e.homeAccountId,tenantId:e.tenantId}},t.msalToPublic=function(e,t){var r;return{authority:null!==(r=t.environment)&&void 0!==r?r:o.DefaultAuthority,homeAccountId:t.homeAccountId,tenantId:t.tenantId||o.DefaultTenantId,username:t.username,clientId:e,version:"1.0"}},t.serializeAuthenticationRecord=function(e){return JSON.stringify(e)},t.deserializeAuthenticationRecord=function(e){let t=JSON.parse(e);if(t.version&&"1.0"!==t.version)throw Error("Unsupported AuthenticationRecord version");return t};let n=r(93886),i=r(73187),o=r(60244),s=r(60455),a=r(32434),l=r(9970),c=(0,i.credentialLogger)("IdentityUtils");t.defaultLoggerCallback=(e,t=s.isNode?"Node":"Browser")=>(r,n,i)=>{if(!i)switch(r){case l.msalCommon.LogLevel.Error:e.info(`MSAL ${t} V2 error: ${n}`);return;case l.msalCommon.LogLevel.Info:e.info(`MSAL ${t} V2 info message: ${n}`);return;case l.msalCommon.LogLevel.Verbose:e.info(`MSAL ${t} V2 verbose message: ${n}`);return;case l.msalCommon.LogLevel.Warning:e.info(`MSAL ${t} V2 warning: ${n}`);return}}},76520:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIdentityPlugin=function(e){e(o)};let n=r(59074),i=r(79424),o={cachePluginControl:n.msalNodeFlowCacheControl,nativeBrokerPluginControl:n.msalNodeFlowNativeBrokerControl,vsCodeCredentialControl:i.vsCodeCredentialControl}},42423:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.RegionalAuthority=void 0,t.calculateRegionalAuthority=function(e){var t,n;let i=e;return(void 0===i&&(null===(n=null===(t=globalThis.process)||void 0===t?void 0:t.env)||void 0===n?void 0:n.AZURE_REGIONAL_AUTHORITY_NAME)!==void 0&&(i=process.env.AZURE_REGIONAL_AUTHORITY_NAME),i===r.AutoDiscoverRegion)?"AUTO_DISCOVER":i},function(e){e.AutoDiscoverRegion="AutoDiscoverRegion",e.USWest="westus",e.USWest2="westus2",e.USCentral="centralus",e.USEast="eastus",e.USEast2="eastus2",e.USNorthCentral="northcentralus",e.USSouthCentral="southcentralus",e.USWestCentral="westcentralus",e.CanadaCentral="canadacentral",e.CanadaEast="canadaeast",e.BrazilSouth="brazilsouth",e.EuropeNorth="northeurope",e.EuropeWest="westeurope",e.UKSouth="uksouth",e.UKWest="ukwest",e.FranceCentral="francecentral",e.FranceSouth="francesouth",e.SwitzerlandNorth="switzerlandnorth",e.SwitzerlandWest="switzerlandwest",e.GermanyNorth="germanynorth",e.GermanyWestCentral="germanywestcentral",e.NorwayWest="norwaywest",e.NorwayEast="norwayeast",e.AsiaEast="eastasia",e.AsiaSouthEast="southeastasia",e.JapanEast="japaneast",e.JapanWest="japanwest",e.AustraliaEast="australiaeast",e.AustraliaSouthEast="australiasoutheast",e.AustraliaCentral="australiacentral",e.AustraliaCentral2="australiacentral2",e.IndiaCentral="centralindia",e.IndiaSouth="southindia",e.IndiaWest="westindia",e.KoreaSouth="koreasouth",e.KoreaCentral="koreacentral",e.UAECentral="uaecentral",e.UAENorth="uaenorth",e.SouthAfricaNorth="southafricanorth",e.SouthAfricaWest="southafricawest",e.ChinaNorth="chinanorth",e.ChinaEast="chinaeast",e.ChinaNorth2="chinanorth2",e.ChinaEast2="chinaeast2",e.GermanyCentral="germanycentral",e.GermanyNorthEast="germanynortheast",e.GovernmentUSVirginia="usgovvirginia",e.GovernmentUSIowa="usgoviowa",e.GovernmentUSArizona="usgovarizona",e.GovernmentUSTexas="usgovtexas",e.GovernmentUSDodEast="usdodeast",e.GovernmentUSDodCentral="usdodcentral"}(r||(t.RegionalAuthority=r={}))},64549:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBearerTokenProvider=function(e,t,r){let{abortSignal:i,tracingOptions:o}=r||{},s=(0,n.createEmptyPipeline)();return s.addPolicy((0,n.bearerTokenAuthenticationPolicy)({credential:e,scopes:t})),async function(){var e;let t=null===(e=(await s.sendRequest({sendRequest:e=>Promise.resolve({request:e,status:200,headers:e.headers})},(0,n.createPipelineRequest)({url:"https://example.com",abortSignal:i,tracingOptions:o}))).headers.get("authorization"))||void 0===e?void 0:e.split(" ")[1];if(!t)throw Error("Failed to get access token");return t}};let n=r(65350)},17224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIdentityTokenEndpointSuffix=function(e){return"adfs"===e?"oauth2/token":"oauth2/v2.0/token"}},73187:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0,t.processEnvVars=i,t.logEnvVars=function(e,r){let{assigned:n}=i(r);t.logger.info(`${e} => Found the following environment variables: ${n.join(", ")}`)},t.formatSuccess=function(e){return`SUCCESS. Scopes: ${Array.isArray(e)?e.join(", "):e}.`},t.formatError=function(e,t){let r="ERROR.";return(null==e?void 0:e.length)&&(r+=` Scopes: ${Array.isArray(e)?e.join(", "):e}.`),`${r} Error message: ${"string"==typeof t?t:t.message}.`},t.credentialLoggerInstance=o,t.credentialLogger=function(e,r=t.logger){let n=o(e,void 0,r);return Object.assign(Object.assign({},n),{parent:r,getToken:o("=> getToken()",n,r)})};let n=r(46023);function i(e){return e.reduce((e,t)=>(process.env[t]?e.assigned.push(t):e.missing.push(t),e),{missing:[],assigned:[]})}function o(e,r,n=t.logger){let i=r?`${r.fullTitle} ${e}`:e;return{title:e,fullTitle:i,info:function(e){n.info(`${i} =>`,e)},warning:function(e){n.warning(`${i} =>`,e)},verbose:function(e){n.verbose(`${i} =>`,e)},error:function(e){n.error(`${i} =>`,e)}}}t.logger=(0,n.createClientLogger)("identity")},19617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processMultiTenantRequest=function(e,t,r=[],i){var o,s;let a;if(process.env.AZURE_IDENTITY_DISABLE_MULTITENANTAUTH?a=e:a="adfs"===e?e:null!==(o=null==t?void 0:t.tenantId)&&void 0!==o?o:e,e&&a!==e&&!r.includes("*")&&!r.some(e=>0===e.localeCompare(a))){let e=(s=a,`The current credential is not configured to acquire tokens for tenant ${s}. To enable acquiring tokens for this tenant add it to the AdditionallyAllowedTenants on the credential options, or add "*" to AdditionallyAllowedTenants to allow acquiring tokens for any tenant.`);throw null==i||i.info(e),new n.CredentialUnavailableError(e)}return a};let n=r(93886)},55926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processUtils=void 0;let n=r(78372).__importStar(r(79646));t.processUtils={execFile:(e,t,r)=>new Promise((i,o)=>{n.execFile(e,t,r,(e,t,r)=>{Buffer.isBuffer(t)&&(t=t.toString("utf8")),Buffer.isBuffer(r)&&(r=r.toString("utf8")),r||e?o(r?Error(r):e):i(t)})})}},3609:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureScopes=function(e){return Array.isArray(e)?e:[e]},t.ensureValidScopeForDevTimeCreds=function(e,t){if(!e.match(/^[0-9a-zA-Z-_.:/]+$/)){let r=Error("Invalid scope was specified by the user or calling client");throw t.getToken.info((0,n.formatError)(e,r)),r}},t.getScopeResource=function(e){return e.replace(/\/.default$/,"")};let n=r(73187)},3004:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSubscription=function(e,t){if(!t.match(/^[0-9a-zA-Z-._ ]+$/)){let t=Error("Invalid subscription provided. You can locate your subscription by following the instructions listed here: https://learn.microsoft.com/azure/azure-portal/get-subscription-tenant-id.");throw e.info((0,n.formatError)("",t)),t}};let n=r(73187)},8540:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processMultiTenantRequest=void 0,t.checkTenantId=s,t.resolveTenantId=function(e,t,r){return t?(s(e,t),t):(r||(r=n.DeveloperSignOnClientId),r!==n.DeveloperSignOnClientId)?"common":"organizations"},t.resolveAdditionallyAllowedTenantIds=function(e){return e&&0!==e.length?e.includes("*")?n.ALL_TENANTS:e:[]};let n=r(60244),i=r(73187);var o=r(19617);function s(e,t){if(!t.match(/^[0-9a-zA-Z-.]+$/)){let t=Error("Invalid tenant id provided. You can locate your tenant id by following the instructions listed here: https://learn.microsoft.com/partner-center/find-ids-and-domain-names.");throw e.info((0,i.formatError)("",t)),t}}Object.defineProperty(t,"processMultiTenantRequest",{enumerable:!0,get:function(){return o.processMultiTenantRequest}})},59980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tracingClient=void 0;let n=r(60244),i=r(46539);t.tracingClient=(0,i.createTracingClient)({namespace:"Microsoft.AAD",packageName:"@azure/identity",packageVersion:n.SDK_VERSION})},94924:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0});let i=r(49261),o="undefined"!=typeof process&&process.env&&process.env.DEBUG||void 0,s=[],a=[],l=[];o&&u(o);let c=Object.assign(e=>h(e),{enable:u,enabled:d,disable:function(){let e=n||"";return u(""),e},log:i.log});function u(e){n=e,s=[],a=[];let t=/\*/g;for(let r of e.split(",").map(e=>e.trim().replace(t,".*?")))r.startsWith("-")?a.push(RegExp(`^${r.substr(1)}$`)):s.push(RegExp(`^${r}$`));for(let e of l)e.enabled=d(e.namespace)}function d(e){if(e.endsWith("*"))return!0;for(let t of a)if(t.test(e))return!1;for(let t of s)if(t.test(e))return!0;return!1}function h(e){let t=Object.assign(function(...r){t.enabled&&(r.length>0&&(r[0]=`${e} ${r[0]}`),t.log(...r))},{enabled:d(e),destroy:f,log:c.log,namespace:e,extend:p});return l.push(t),t}function f(){let e=l.indexOf(this);return e>=0&&(l.splice(e,1),!0)}function p(e){let t=h(`${this.namespace}:${e}`);return t.log=this.log,t}t.default=c},46023:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.AzureLogger=void 0,t.setLogLevel=l,t.getLogLevel=function(){return n},t.createClientLogger=function(e){let r=t.AzureLogger.extend(e);return u(t.AzureLogger,r),{error:d(r,"error"),warning:d(r,"warning"),info:d(r,"info"),verbose:d(r,"verbose")}};let i=r(78372).__importDefault(r(94924)),o=new Set,s="undefined"!=typeof process&&process.env&&process.env.AZURE_LOG_LEVEL||void 0;t.AzureLogger=(0,i.default)("azure"),t.AzureLogger.log=(...e)=>{i.default.log(...e)};let a=["verbose","info","warning","error"];function l(e){if(e&&!f(e))throw Error(`Unknown log level '${e}'. Acceptable values: ${a.join(",")}`);n=e;let t=[];for(let e of o)h(e)&&t.push(e.namespace);i.default.enable(t.join(","))}s&&(f(s)?l(s):console.error(`AZURE_LOG_LEVEL set to unknown log level '${s}'; logging is not enabled. Acceptable values: ${a.join(", ")}.`));let c={verbose:400,info:300,warning:200,error:100};function u(e,t){t.log=(...t)=>{e.log(...t)}}function d(e,t){let r=Object.assign(e.extend(t),{level:t});if(u(e,r),h(r)){let e=i.default.disable();i.default.enable(e+","+r.namespace)}return o.add(r),r}function h(e){return!!(n&&c[e.level]<=c[n])}function f(e){return a.includes(e)}},49261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(e,...t){s.stderr.write(`${o.default.format(e,...t)}${i.EOL}`)};let n=r(78372),i=r(48161),o=n.__importDefault(r(57975)),s=n.__importStar(r(1708))},53262:(e,t,r)=>{"use strict";var n=r(81630),i=r(55591),o=r(24610),s=r(55511),a=r(43008),l=r(29021),c=r(33873);class u{static serializeJSONBlob(e){return JSON.stringify(e)}static serializeAccounts(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,realm:n.realm,local_account_id:n.localAccountId,username:n.username,authority_type:n.authorityType,name:n.name,client_info:n.clientInfo,last_modification_time:n.lastModificationTime,last_modification_app:n.lastModificationApp,tenantProfiles:n.tenantProfiles?.map(e=>JSON.stringify(e))}}),t}static serializeIdTokens(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,credential_type:n.credentialType,client_id:n.clientId,secret:n.secret,realm:n.realm}}),t}static serializeAccessTokens(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,credential_type:n.credentialType,client_id:n.clientId,secret:n.secret,realm:n.realm,target:n.target,cached_at:n.cachedAt,expires_on:n.expiresOn,extended_expires_on:n.extendedExpiresOn,refresh_on:n.refreshOn,key_id:n.keyId,token_type:n.tokenType,requestedClaims:n.requestedClaims,requestedClaimsHash:n.requestedClaimsHash,userAssertionHash:n.userAssertionHash}}),t}static serializeRefreshTokens(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,credential_type:n.credentialType,client_id:n.clientId,secret:n.secret,family_id:n.familyId,target:n.target,realm:n.realm}}),t}static serializeAppMetadata(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={client_id:n.clientId,environment:n.environment,family_id:n.familyId}}),t}static serializeAllCache(e){return{Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}}let d={SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",INVALID_INSTANCE:"invalid_instance"},h={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR_RANGE_START:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599},f=[d.OPENID_SCOPE,d.PROFILE_SCOPE,d.OFFLINE_ACCESS_SCOPE],p=[...f,d.EMAIL_SCOPE],m={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},g={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},y={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},_={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},E={PLAIN:"plain",S256:"S256"},v={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},b={AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},T={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},w={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},S={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},A="appmetadata",C={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400},O={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},I={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},N={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},R={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},P={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},D={username:"username",password:"password"},M={httpSuccess:200,httpBadRequest:400},k={FAILED_AUTO_DETECTION:"1",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},L={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},U={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},x="unexpected_error",F="post_request_failed";var B=Object.freeze({__proto__:null,postRequestFailed:F,unexpectedError:x});let j={[x]:"Unexpected error in authentication.",[F]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},q={unexpectedError:{code:x,desc:j[x]},postRequestFailed:{code:F,desc:j[F]}};class H extends Error{constructor(e,t,r){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,H.prototype),this.errorCode=e||d.EMPTY_STRING,this.errorMessage=t||d.EMPTY_STRING,this.subError=r||d.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}let Y="client_info_decoding_error",V="client_info_empty_error",$="token_parsing_error",z="null_or_empty_token",W="endpoints_resolution_error",G="network_error",K="openid_config_error",Z="hash_not_deserialized",X="invalid_state",Q="state_mismatch",J="state_not_found",ee="nonce_mismatch",et="auth_time_not_found",er="max_age_transpired",en="multiple_matching_tokens",ei="multiple_matching_accounts",eo="multiple_matching_appMetadata",es="request_cannot_be_made",ea="cannot_remove_empty_scope",el="cannot_append_scopeset",ec="empty_input_scopeset",eu="device_code_polling_cancelled",ed="device_code_expired",eh="device_code_unknown_error",ef="no_account_in_silent_request",ep="invalid_cache_record",em="invalid_cache_environment",eg="no_account_found",ey="no_crypto_object",e_="unexpected_credential_type",eE="invalid_assertion",ev="invalid_client_credential",eb="token_refresh_required",eT="user_timeout_reached",ew="token_claims_cnf_required_for_signedjwt",eS="authorization_code_missing_from_server_response",eA="binding_key_not_removed",eC="end_session_endpoint_not_supported",eO="key_id_missing",eI="no_network_connectivity",eN="user_canceled",eR="missing_tenant_id_error",eP="method_not_implemented",eD="nested_app_auth_bridge_disabled";var eM=Object.freeze({__proto__:null,authTimeNotFound:et,authorizationCodeMissingFromServerResponse:eS,bindingKeyNotRemoved:eA,cannotAppendScopeSet:el,cannotRemoveEmptyScope:ea,clientInfoDecodingError:Y,clientInfoEmptyError:V,deviceCodeExpired:ed,deviceCodePollingCancelled:eu,deviceCodeUnknownError:eh,emptyInputScopeSet:ec,endSessionEndpointNotSupported:eC,endpointResolutionError:W,hashNotDeserialized:Z,invalidAssertion:eE,invalidCacheEnvironment:em,invalidCacheRecord:ep,invalidClientCredential:ev,invalidState:X,keyIdMissing:eO,maxAgeTranspired:er,methodNotImplemented:eP,missingTenantIdError:eR,multipleMatchingAccounts:ei,multipleMatchingAppMetadata:eo,multipleMatchingTokens:en,nestedAppAuthBridgeDisabled:eD,networkError:G,noAccountFound:eg,noAccountInSilentRequest:ef,noCryptoObject:ey,noNetworkConnectivity:eI,nonceMismatch:ee,nullOrEmptyToken:z,openIdConfigError:K,requestCannotBeMade:es,stateMismatch:Q,stateNotFound:J,tokenClaimsCnfRequiredForSignedJwt:ew,tokenParsingError:$,tokenRefreshRequired:eb,unexpectedCredentialType:e_,userCanceled:eN,userTimeoutReached:eT});let ek={[Y]:"The client info could not be parsed/decoded correctly",[V]:"The client info was empty",[$]:"Token cannot be parsed",[z]:"The token is null or empty",[W]:"Endpoints cannot be resolved",[G]:"Network request failed",[K]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Z]:"The hash parameters could not be deserialized",[X]:"State was not the expected format",[Q]:"State mismatch error",[J]:"State not found",[ee]:"Nonce mismatch error",[et]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[er]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[en]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[ei]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[eo]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[es]:"Token request cannot be made without authorization code or refresh token.",[ea]:"Cannot remove null or empty scope from ScopeSet",[el]:"Cannot append ScopeSet",[ec]:"Empty input ScopeSet cannot be processed",[eu]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[ed]:"Device code is expired.",[eh]:"Device code stopped polling for unknown reasons.",[ef]:"Please pass an account object, silent flow is not supported without account information",[ep]:"Cache record object was null or undefined.",[em]:"Invalid environment when attempting to create cache entry",[eg]:"No account found in cache for given key.",[ey]:"No crypto object detected.",[e_]:"Unexpected credential type.",[eE]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[ev]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[eb]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[eT]:"User defined timeout for device code polling reached",[ew]:"Cannot generate a POP jwt if the token_claims are not populated",[eS]:"Server response does not contain an authorization code to proceed",[eA]:"Could not remove the credential's binding key from storage.",[eC]:"The provided authority does not support logout",[eO]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[eI]:"No network connectivity. Check your internet connection.",[eN]:"User cancelled the flow.",[eR]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[eP]:"This method has not been implemented",[eD]:"The nested app auth bridge is disabled"},eL={clientInfoDecodingError:{code:Y,desc:ek[Y]},clientInfoEmptyError:{code:V,desc:ek[V]},tokenParsingError:{code:$,desc:ek[$]},nullOrEmptyToken:{code:z,desc:ek[z]},endpointResolutionError:{code:W,desc:ek[W]},networkError:{code:G,desc:ek[G]},unableToGetOpenidConfigError:{code:K,desc:ek[K]},hashNotDeserialized:{code:Z,desc:ek[Z]},invalidStateError:{code:X,desc:ek[X]},stateMismatchError:{code:Q,desc:ek[Q]},stateNotFoundError:{code:J,desc:ek[J]},nonceMismatchError:{code:ee,desc:ek[ee]},authTimeNotFoundError:{code:et,desc:ek[et]},maxAgeTranspired:{code:er,desc:ek[er]},multipleMatchingTokens:{code:en,desc:ek[en]},multipleMatchingAccounts:{code:ei,desc:ek[ei]},multipleMatchingAppMetadata:{code:eo,desc:ek[eo]},tokenRequestCannotBeMade:{code:es,desc:ek[es]},removeEmptyScopeError:{code:ea,desc:ek[ea]},appendScopeSetError:{code:el,desc:ek[el]},emptyInputScopeSetError:{code:ec,desc:ek[ec]},DeviceCodePollingCancelled:{code:eu,desc:ek[eu]},DeviceCodeExpired:{code:ed,desc:ek[ed]},DeviceCodeUnknownError:{code:eh,desc:ek[eh]},NoAccountInSilentRequest:{code:ef,desc:ek[ef]},invalidCacheRecord:{code:ep,desc:ek[ep]},invalidCacheEnvironment:{code:em,desc:ek[em]},noAccountFound:{code:eg,desc:ek[eg]},noCryptoObj:{code:ey,desc:ek[ey]},unexpectedCredentialType:{code:e_,desc:ek[e_]},invalidAssertion:{code:eE,desc:ek[eE]},invalidClientCredential:{code:ev,desc:ek[ev]},tokenRefreshRequired:{code:eb,desc:ek[eb]},userTimeoutReached:{code:eT,desc:ek[eT]},tokenClaimsRequired:{code:ew,desc:ek[ew]},noAuthorizationCodeFromServer:{code:eS,desc:ek[eS]},bindingKeyNotRemovedError:{code:eA,desc:ek[eA]},logoutNotSupported:{code:eC,desc:ek[eC]},keyIdMissing:{code:eO,desc:ek[eO]},noNetworkConnectivity:{code:eI,desc:ek[eI]},userCanceledError:{code:eN,desc:ek[eN]},missingTenantIdError:{code:eR,desc:ek[eR]},nestedAppAuthBridgeDisabled:{code:eD,desc:ek[eD]}};class eU extends H{constructor(e,t){super(e,t?`${ek[e]}: ${t}`:ek[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,eU.prototype)}}function ex(e,t){return new eU(e,t)}let eF={createNewGuid:()=>{throw ex(eP)},base64Decode:()=>{throw ex(eP)},base64Encode:()=>{throw ex(eP)},base64UrlEncode:()=>{throw ex(eP)},encodeKid:()=>{throw ex(eP)},async getPublicKeyThumbprint(){throw ex(eP)},async removeTokenBindingKey(){throw ex(eP)},async clearKeystore(){throw ex(eP)},async signJwt(){throw ex(eP)},async hashString(){throw ex(eP)}};t.LogLevel=void 0,function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(t.LogLevel||(t.LogLevel={}));class eB{constructor(e,r,n){this.level=t.LogLevel.Info;let i=e||eB.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||(()=>{}),this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level="number"==typeof i.logLevel?i.logLevel:t.LogLevel.Info,this.correlationId=i.correlationId||d.EMPTY_STRING,this.packageName=r||d.EMPTY_STRING,this.packageVersion=n||d.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:t.LogLevel.Info}}clone(e,t,r){return new eB({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,r){if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;let n=new Date().toUTCString(),i=`[${n}] : [${r.correlationId||this.correlationId||""}]`,o=`${i} : ${this.packageName}@${this.packageVersion} : ${t.LogLevel[r.logLevel]} - ${e}`;this.executeCallback(r.logLevel,o,r.containsPii||!1)}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,r){this.logMessage(e,{logLevel:t.LogLevel.Error,containsPii:!1,correlationId:r||d.EMPTY_STRING})}errorPii(e,r){this.logMessage(e,{logLevel:t.LogLevel.Error,containsPii:!0,correlationId:r||d.EMPTY_STRING})}warning(e,r){this.logMessage(e,{logLevel:t.LogLevel.Warning,containsPii:!1,correlationId:r||d.EMPTY_STRING})}warningPii(e,r){this.logMessage(e,{logLevel:t.LogLevel.Warning,containsPii:!0,correlationId:r||d.EMPTY_STRING})}info(e,r){this.logMessage(e,{logLevel:t.LogLevel.Info,containsPii:!1,correlationId:r||d.EMPTY_STRING})}infoPii(e,r){this.logMessage(e,{logLevel:t.LogLevel.Info,containsPii:!0,correlationId:r||d.EMPTY_STRING})}verbose(e,r){this.logMessage(e,{logLevel:t.LogLevel.Verbose,containsPii:!1,correlationId:r||d.EMPTY_STRING})}verbosePii(e,r){this.logMessage(e,{logLevel:t.LogLevel.Verbose,containsPii:!0,correlationId:r||d.EMPTY_STRING})}trace(e,r){this.logMessage(e,{logLevel:t.LogLevel.Trace,containsPii:!1,correlationId:r||d.EMPTY_STRING})}tracePii(e,r){this.logMessage(e,{logLevel:t.LogLevel.Trace,containsPii:!0,correlationId:r||d.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}let ej="@azure/msal-common",eq="15.2.0",eH={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};function eY(e,t){let r=function(e){if(!e)throw ex(z);let t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw ex($);return t[2]}(e);try{let e=t(r);return JSON.parse(e)}catch(e){throw ex($)}}function eV(e,t){if(0===t||Date.now()-3e5>e+t)throw ex(er)}function e$(){return Math.round(new Date().getTime()/1e3)}function ez(e,t){let r=Number(e)||0;return e$()+t>r}function eW(e){return[[e.homeAccountId,e.environment].join(w.CACHE_KEY_SEPARATOR).toLowerCase(),function(e){let t=e.credentialType===S.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(w.CACHE_KEY_SEPARATOR).toLowerCase()}(e),(e.target||"").toLowerCase(),(e.requestedClaimsHash||"").toLowerCase(),e.tokenType&&e.tokenType.toLowerCase()!==N.BEARER.toLowerCase()?e.tokenType.toLowerCase():""].join(w.CACHE_KEY_SEPARATOR).toLowerCase()}function eG(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function eK(e){return!!e&&eG(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===S.ACCESS_TOKEN||e.credentialType===S.ACCESS_TOKEN_WITH_AUTH_SCHEME)}function eZ(e){return!!e&&eG(e)&&e.hasOwnProperty("realm")&&e.credentialType===S.ID_TOKEN}function eX(e){return!!e&&eG(e)&&e.credentialType===S.REFRESH_TOKEN}function eQ(e,t){return!!t&&0===e.indexOf(A)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment")}function eJ(){return e$()+C.REFRESH_TIME_SECONDS}function e0(e,t,r){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=r,e.jwks_uri=t.jwks_uri}function e1(e,t,r){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=r}function e2(e){return e.expiresAt<=e$()}let e8="redirect_uri_empty",e5="claims_request_parsing_error",e4="authority_uri_insecure",e6="url_parse_error",e3="empty_url_error",e9="empty_input_scopes_error",e7="invalid_prompt_value",te="invalid_claims",tt="token_request_empty",tr="logout_request_empty",tn="invalid_code_challenge_method",ti="pkce_params_missing",to="invalid_cloud_discovery_metadata",ts="invalid_authority_metadata",ta="untrusted_authority",tl="missing_ssh_jwk",tc="missing_ssh_kid",tu="missing_nonce_authentication_header",td="invalid_authentication_header",th="cannot_set_OIDCOptions",tf="cannot_allow_platform_broker",tp="authority_mismatch";var tm=Object.freeze({__proto__:null,authorityMismatch:tp,authorityUriInsecure:e4,cannotAllowPlatformBroker:tf,cannotSetOIDCOptions:th,claimsRequestParsingError:e5,emptyInputScopesError:e9,invalidAuthenticationHeader:td,invalidAuthorityMetadata:ts,invalidClaims:te,invalidCloudDiscoveryMetadata:to,invalidCodeChallengeMethod:tn,invalidPromptValue:e7,logoutRequestEmpty:tr,missingNonceAuthenticationHeader:tu,missingSshJwk:tl,missingSshKid:tc,pkceParamsMissing:ti,redirectUriEmpty:e8,tokenRequestEmpty:tt,untrustedAuthority:ta,urlEmptyError:e3,urlParseError:e6});let tg={[e8]:"A redirect URI is required for all calls, and none has been set.",[e5]:"Could not parse the given claims request object.",[e4]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[e6]:"URL could not be parsed into appropriate segments.",[e3]:"URL was empty or null.",[e9]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[e7]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[te]:"Given claims parameter must be a stringified JSON object.",[tt]:"Token request was empty and not found in cache.",[tr]:"The logout request was null or undefined.",[tn]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[ti]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[to]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[ts]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[ta]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[tl]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[tc]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[tu]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[td]:"Invalid authentication header provided",[th]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[tf]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[tp]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},ty={redirectUriNotSet:{code:e8,desc:tg[e8]},claimsRequestParsingError:{code:e5,desc:tg[e5]},authorityUriInsecure:{code:e4,desc:tg[e4]},urlParseError:{code:e6,desc:tg[e6]},urlEmptyError:{code:e3,desc:tg[e3]},emptyScopesError:{code:e9,desc:tg[e9]},invalidPrompt:{code:e7,desc:tg[e7]},invalidClaimsRequest:{code:te,desc:tg[te]},tokenRequestEmptyError:{code:tt,desc:tg[tt]},logoutRequestEmptyError:{code:tr,desc:tg[tr]},invalidCodeChallengeMethod:{code:tn,desc:tg[tn]},invalidCodeChallengeParams:{code:ti,desc:tg[ti]},invalidCloudDiscoveryMetadata:{code:to,desc:tg[to]},invalidAuthorityMetadata:{code:ts,desc:tg[ts]},untrustedAuthority:{code:ta,desc:tg[ta]},missingSshJwk:{code:tl,desc:tg[tl]},missingSshKid:{code:tc,desc:tg[tc]},missingNonceAuthenticationHeader:{code:tu,desc:tg[tu]},invalidAuthenticationHeader:{code:td,desc:tg[td]},cannotSetOIDCOptions:{code:th,desc:tg[th]},cannotAllowPlatformBroker:{code:tf,desc:tg[tf]},authorityMismatch:{code:tp,desc:tg[tp]}};class t_ extends H{constructor(e){super(e,tg[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,t_.prototype)}}function tE(e){return new t_(e)}class tv{static isEmptyObj(e){if(e)try{let t=JSON.parse(e);return 0===Object.keys(t).length}catch(e){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){let t={},r=e.split("&"),n=e=>decodeURIComponent(e.replace(/\+/g," "));return r.forEach(e=>{if(e.trim()){let[r,i]=e.split(/=(.+)/g,2);r&&i&&(t[n(r)]=n(i))}}),t}static trimArrayEntries(e){return e.map(e=>e.trim())}static removeEmptyStringsFromArray(e){return e.filter(e=>!!e)}static jsonParseHelper(e){try{return JSON.parse(e)}catch(e){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class tb{constructor(e){let t=e?tv.trimArrayEntries([...e]):[],r=t?tv.removeEmptyStringsFromArray(t):[];if(!r||!r.length)throw tE(e9);this.scopes=new Set,r.forEach(e=>this.scopes.add(e))}static fromString(e){return new tb((e||d.EMPTY_STRING).split(" "))}static createSearchScopes(e){let t=new tb(e);return t.containsOnlyOIDCScopes()?t.removeScope(d.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){let t=new tb(this.printScopesLowerCase().split(" "));return!!e&&t.scopes.has(e.toLowerCase())}containsScopeSet(e){return!!e&&!(e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every(e=>this.containsScope(e))}containsOnlyOIDCScopes(){let e=0;return p.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(e=>this.appendScope(e))}catch(e){throw ex(el)}}removeScope(e){if(!e)throw ex(ea);this.scopes.delete(e.trim())}removeOIDCScopes(){p.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw ex(ec);let t=new Set;return e.scopes.forEach(e=>t.add(e.toLowerCase())),this.scopes.forEach(e=>t.add(e.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw ex(ec);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let t=this.unionScopeSets(e),r=e.getScopeCount(),n=this.getScopeCount();return t.size<n+r}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):d.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function tT(e,t){if(!e)throw ex(V);try{let r=t(e);return JSON.parse(r)}catch(e){throw ex(Y)}}function tw(e){if(!e)throw ex(Y);let t=e.split(w.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?d.EMPTY_STRING:t[1]}}function tS(e,t){return!!e&&!!t&&e===t.split(".")[1]}function tA(e,t,r,n){if(!n)return{tenantId:r,localAccountId:t,isHomeTenant:tS(r,e)};{let{oid:t,sub:r,tid:i,name:o,tfp:s,acr:a}=n,l=i||s||a||"";return{tenantId:l,localAccountId:t||r||"",name:o,isHomeTenant:tS(l,e)}}}function tC(e,t,r,n){let i=e;if(t){let{isHomeTenant:r,...n}=t;i={...e,...n}}if(r){let{isHomeTenant:t,...o}=tA(e.homeAccountId,e.localAccountId,e.tenantId,r);i={...i,...o,idTokenClaims:r,idToken:n}}return i}let tO={Default:0,Adfs:1,Dsts:2,Ciam:3};function tI(e){return e&&(e.tid||e.tfp||e.acr)||null}let tN={AAD:"AAD",OIDC:"OIDC"};class tR{generateAccountId(){return[this.homeAccountId,this.environment].join(w.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return tR.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(w.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,r){let n;let i=new tR;t.authorityType===tO.Adfs?i.authorityType=T.ADFS_ACCOUNT_TYPE:t.protocolMode===tN.AAD?i.authorityType=T.MSSTS_ACCOUNT_TYPE:i.authorityType=T.GENERIC_ACCOUNT_TYPE,e.clientInfo&&r&&(n=tT(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;let o=e.environment||t&&t.getPreferredCache();if(!o)throw ex(em);i.environment=o,i.realm=n?.utid||tI(e.idTokenClaims)||"",i.localAccountId=n?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let s=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,a=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(i.username=s||a||"",i.name=e.idTokenClaims?.name||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{let t=tA(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[t]}return i}static createFromAccountInfo(e,t,r){let n=new tR;return n.authorityType=e.authorityType||T.GENERIC_ACCOUNT_TYPE,n.homeAccountId=e.homeAccountId,n.localAccountId=e.localAccountId,n.nativeAccountId=e.nativeAccountId,n.realm=e.tenantId,n.environment=e.environment,n.username=e.username,n.name=e.name,n.cloudGraphHostName=t,n.msGraphHost=r,n.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),n}static generateHomeAccountId(e,t,r,n,i){if(!(t===tO.Adfs||t===tO.Dsts)){if(e)try{let t=tT(e,n.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(e){}r.warning("No client info in response")}return i?.sub||""}static isAccountEntity(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;let n=!0;if(r){let r=e.idTokenClaims||{},i=t.idTokenClaims||{};n=r.iat===i.iat&&r.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&n}}function tP(e){if(!e||0>e.indexOf("="))return null;try{let t=e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e,r=Object.fromEntries(new URLSearchParams(t));if(r.code||r.error||r.error_description||r.state)return r}catch(e){throw ex(Z)}return null}class tD{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw tE(e3);e.includes("#")||(this._urlString=tD.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return tv.endsWith(t,"?")?t=t.slice(0,-1):tv.endsWith(t,"?/")&&(t=t.slice(0,-2)),tv.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(e){throw tE(e6)}if(!e.HostNameAndPort||!e.PathSegments)throw tE(e6);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw tE(e4)}static appendQueryString(e,t){return t?0>e.indexOf("?")?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return tD.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let t=this.getUrlComponents(),r=t.PathSegments;return e&&0!==r.length&&(r[0]===g.COMMON||r[0]===g.ORGANIZATIONS)&&(r[0]=e),tD.constructAuthorityUriFromObject(t)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw tE(e6);let r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},n=r.AbsolutePath.split("/");return n=n.filter(e=>e&&e.length>0),r.PathSegments=n,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){let t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw tE(e6);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===d.FORWARD_SLASH){let r=new tD(t).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new tD(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!tP(e)}}let tM={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},tk=tM.endpointMetadata,tL=tM.instanceDiscoveryMetadata,tU=new Set;function tx(e,t,r,n){if(n?.trace(`getAliasesFromMetadata called with source: ${r}`),e&&t){let i=tF(t,e);if(i)return n?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),i.aliases;n?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`)}return null}function tF(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(n.aliases.includes(t))return n}return null}tL.metadata.forEach(e=>{e.aliases.forEach(e=>{tU.add(e)})});let tB="cache_quota_exceeded",tj="cache_error_unknown",tq={[tB]:"Exceeded cache storage capacity.",[tj]:"Unexpected error occurred when using cache storage."};class tH extends Error{constructor(e,t){let r=t||(tq[e]?tq[e]:tq[tj]);super(`${e}: ${r}`),Object.setPrototypeOf(this,tH.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}class tY{constructor(e,t,r,n){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(ej,eq),this.staticAuthorityOptions=n}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){let t=this.getAllAccounts(e);return t.length>1?t.sort(e=>e.idTokenClaims?-1:1)[0]:1===t.length?t[0]:null}getBaseAccountInfo(e){let t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap(e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t))}getTenantedAccountInfoByFilter(e,t,r,n){let i;if(n&&!this.tenantProfileMatchesFilter(r,n))return null;let o=this.getIdToken(e,t,r.tenantId);return o&&(i=eY(o.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(i,n))?null:tC(e,r,i,o?.secret)}getTenantProfilesFromAccountEntity(e,t,r){let n=e.getAccountInfo(),i=n.tenantProfiles||new Map,o=this.getTokenKeys();if(t){let e=i.get(t);if(!e)return[];i=new Map([[t,e]])}let s=[];return i.forEach(e=>{let t=this.getTenantedAccountInfoByFilter(n,o,e,r);t&&s.push(t)}),s}tenantProfileMatchesFilter(e,t){return(!t.localAccountId||!!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&(!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!t||(!t.localAccountId||!!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))&&(!t.loginHint||!!this.matchLoginHintFromTokenClaims(e,t.loginHint))&&(!t.username||!!this.matchUsername(e.preferred_username,t.username))&&(!t.name||!!this.matchName(e,t.name))&&(!t.sid||!!this.matchSid(e,t.sid))}async saveCacheRecord(e,t,r){if(!e)throw ex(ep);try{e.account&&await this.setAccount(e.account,t),e.idToken&&r?.idToken!==!1&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&r?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&r?.refreshToken!==!1&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(e){if(this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),e instanceof Error){if(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${e.message}`,t),"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||e.message.includes("exceeded the quota"))throw this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new tH(tB);throw new tH(e.name,e.message)}throw this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${e}`,t),new tH(tj)}}async saveAccessToken(e,t){let r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),i=tb.fromString(e.target),o=[];n.accessToken.forEach(e=>{if(!this.accessTokenKeyMatchesFilter(e,r,!1))return;let t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,r)&&tb.fromString(t.target).intersectingScopeSets(i)&&o.push(this.removeAccessToken(e))}),await Promise.all(o),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){let t=this.getAccountKeys(),r=[];return t.forEach(t=>{if(!this.isAccountKey(t,e.homeAccountId))return;let n=this.getAccount(t,this.commonLogger);if(!n||e.homeAccountId&&!this.matchHomeAccountId(n,e.homeAccountId)||e.username&&!this.matchUsername(n.username,e.username)||e.environment&&!this.matchEnvironment(n,e.environment)||e.realm&&!this.matchRealm(n,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(n,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(n,e.authorityType))return;let i={localAccountId:e?.localAccountId,name:e?.name},o=n.tenantProfiles?.filter(e=>this.tenantProfileMatchesFilter(e,i));o&&0===o.length||r.push(n)}),r}isAccountKey(e,t,r){return!(e.split(w.CACHE_KEY_SEPARATOR).length<3)&&(!t||!!e.toLowerCase().includes(t.toLowerCase()))&&(!r||!!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(w.CACHE_KEY_SEPARATOR).length<6)return!1;let t=e.toLowerCase();if(-1===t.indexOf(S.ID_TOKEN.toLowerCase())&&-1===t.indexOf(S.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(S.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(S.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(S.REFRESH_TOKEN.toLowerCase())>-1){let e=`${S.REFRESH_TOKEN}${w.CACHE_KEY_SEPARATOR}${this.clientId}${w.CACHE_KEY_SEPARATOR}`,r=`${S.REFRESH_TOKEN}${w.CACHE_KEY_SEPARATOR}1${w.CACHE_KEY_SEPARATOR}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(r.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){return(!t.clientId||!!this.matchClientId(e,t.clientId))&&(!t.userAssertionHash||!!this.matchUserAssertionHash(e,t.userAssertionHash))&&("string"!=typeof t.homeAccountId||!!this.matchHomeAccountId(e,t.homeAccountId))&&(!t.environment||!!this.matchEnvironment(e,t.environment))&&(!t.realm||!!this.matchRealm(e,t.realm))&&(!t.credentialType||!!this.matchCredentialType(e,t.credentialType))&&(!t.familyId||!!this.matchFamilyId(e,t.familyId))&&(!t.target||!!this.matchTarget(e,t.target))&&(!t.requestedClaimsHash&&!e.requestedClaimsHash||e.requestedClaimsHash===t.requestedClaimsHash)&&(e.credentialType!==S.ACCESS_TOKEN_WITH_AUTH_SCHEME||(!t.tokenType||!!this.matchTokenType(e,t.tokenType))&&(t.tokenType!==N.SSH||!t.keyId||!!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){let t=this.getKeys(),r={};return t.forEach(t=>{if(!this.isAppMetadata(t))return;let n=this.getAppMetadata(t);n&&(!e.environment||this.matchEnvironment(n,e.environment))&&(!e.clientId||this.matchClientId(n,e.clientId))&&(r[t]=n)}),r}getAuthorityMetadataByAlias(e){let t=this.getAuthorityMetadataKeys(),r=null;return t.forEach(t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;let n=this.getAuthorityMetadata(t);n&&-1!==n.aliases.indexOf(e)&&(r=n)}),r}async removeAllAccounts(){let e=this.getAccountKeys(),t=[];e.forEach(e=>{t.push(this.removeAccount(e))}),await Promise.all(t)}async removeAccount(e){let t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){let t=this.getTokenKeys(),r=e.generateAccountId(),n=[];t.idToken.forEach(e=>{0===e.indexOf(r)&&this.removeIdToken(e)}),t.accessToken.forEach(e=>{0===e.indexOf(r)&&n.push(this.removeAccessToken(e))}),t.refreshToken.forEach(e=>{0===e.indexOf(r)&&this.removeRefreshToken(e)}),await Promise.all(n)}async removeAccessToken(e){let t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===S.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===N.POP){let e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(e){throw ex(eA)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(e=>{this.isAppMetadata(e)&&this.removeItem(e)}),!0}readAccountFromCache(e){let t=tR.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,r,n,i){this.commonLogger.trace("CacheManager - getIdToken called");let o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:S.ID_TOKEN,clientId:this.clientId,realm:r},s=this.getIdTokensByFilter(o,t),a=s.size;if(a<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(a>1){let t=s;if(!r){let r=new Map;s.forEach((t,n)=>{t.realm===e.tenantId&&r.set(n,t)});let n=r.size;if(n<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),s.values().next().value;if(1===n)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),r.values().next().value;t=r}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach((e,t)=>{this.removeIdToken(t)}),n&&i&&n.addFields({multiMatchedID:s.size},i),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),s.values().next().value}getIdTokensByFilter(e,t){let r=t&&t.idToken||this.getTokenKeys().idToken,n=new Map;return r.forEach(t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;let r=this.getIdTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.set(t,r)}),n}idTokenKeyMatchesFilter(e,t){let r=e.toLowerCase();return(!t.clientId||-1!==r.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==r.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,r,n,i,o){this.commonLogger.trace("CacheManager - getAccessToken called");let s=tb.createSearchScopes(t.scopes),a=t.authenticationScheme||N.BEARER,l=a.toLowerCase()!==N.BEARER.toLowerCase()?S.ACCESS_TOKEN_WITH_AUTH_SCHEME:S.ACCESS_TOKEN,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:n||e.tenantId,target:s,tokenType:a,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=r&&r.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach(e=>{if(this.accessTokenKeyMatchesFilter(e,c,!0)){let t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,c)&&d.push(t)}});let h=d.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach(e=>{this.removeAccessToken(eW(e))}),i&&o&&i.addFields({multiMatchedAT:d.length},o),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}accessTokenKeyMatchesFilter(e,t,r){let n=e.toLowerCase();if(t.clientId&&-1===n.indexOf(t.clientId.toLowerCase())||t.homeAccountId&&-1===n.indexOf(t.homeAccountId.toLowerCase())||t.realm&&-1===n.indexOf(t.realm.toLowerCase())||t.requestedClaimsHash&&-1===n.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){let e=t.target.asArray();for(let t=0;t<e.length;t++){if(r&&!n.includes(e[t].toLowerCase()))return!1;if(!r&&n.includes(e[t].toLowerCase()))break}}return!0}getAccessTokensByFilter(e){let t=this.getTokenKeys(),r=[];return t.accessToken.forEach(t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;let n=this.getAccessTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.push(n)}),r}getRefreshToken(e,t,r,n,i){this.commonLogger.trace("CacheManager - getRefreshToken called");let o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:S.REFRESH_TOKEN,clientId:this.clientId,familyId:t?"1":void 0},s=r&&r.refreshToken||this.getTokenKeys().refreshToken,a=[];s.forEach(e=>{if(this.refreshTokenKeyMatchesFilter(e,o)){let t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,o)&&a.push(t)}});let l=a.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&n&&i&&n.addFields({multiMatchedRT:l},i),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),a[0])}refreshTokenKeyMatchesFilter(e,t){let r=e.toLowerCase();return(!t.familyId||-1!==r.indexOf(t.familyId.toLowerCase()))&&(!!t.familyId||!t.clientId||-1!==r.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==r.indexOf(t.homeAccountId.toLowerCase()))}readAppMetadataFromCache(e){let t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),n=Object.keys(r).map(e=>r[e]),i=n.length;if(i<1)return null;if(i>1)throw ex(eo);return n[0]}isAppMetadataFOCI(e){let t=this.readAppMetadataFromCache(e);return!!(t&&"1"===t.familyId)}matchHomeAccountId(e,t){return!!("string"==typeof e.homeAccountId&&t===e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!!(e&&"string"==typeof e&&t?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){let r=function(e,t){let r;let n=e.canonicalAuthority;if(n){let i=new tD(n).getUrlComponents().HostNameAndPort;r=tx(i,e.cloudDiscoveryMetadata?.metadata,O.CONFIG,t)||tx(i,tL.metadata,O.HARDCODED_VALUES,t)||e.knownAuthorities}return r||[]}(this.staticAuthorityOptions,this.commonLogger);if(r.includes(t)&&r.includes(e.environment))return!0}let r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return(e.credentialType===S.ACCESS_TOKEN||e.credentialType===S.ACCESS_TOKEN_WITH_AUTH_SCHEME)&&!!e.target&&tb.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return -1!==e.indexOf(A)}isAuthorityMetadata(e){return -1!==e.indexOf(C.CACHE_KEY)}generateAuthorityMetadataCacheKey(e){return`${C.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(let r in t)e[r]=t[r];return e}}class tV extends tY{async setAccount(){throw ex(eP)}getAccount(){throw ex(eP)}async setIdTokenCredential(){throw ex(eP)}getIdTokenCredential(){throw ex(eP)}async setAccessTokenCredential(){throw ex(eP)}getAccessTokenCredential(){throw ex(eP)}async setRefreshTokenCredential(){throw ex(eP)}getRefreshTokenCredential(){throw ex(eP)}setAppMetadata(){throw ex(eP)}getAppMetadata(){throw ex(eP)}setServerTelemetry(){throw ex(eP)}getServerTelemetry(){throw ex(eP)}setAuthorityMetadata(){throw ex(eP)}getAuthorityMetadata(){throw ex(eP)}getAuthorityMetadataKeys(){throw ex(eP)}setThrottlingCache(){throw ex(eP)}getThrottlingCache(){throw ex(eP)}removeItem(){throw ex(eP)}getKeys(){throw ex(eP)}getAccountKeys(){throw ex(eP)}getTokenKeys(){throw ex(eP)}}let t$={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},tz={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:t.LogLevel.Info,correlationId:d.EMPTY_STRING},tW={claimsBasedCachingEnabled:!1},tG={async sendGetRequestAsync(){throw ex(eP)},async sendPostRequestAsync(){throw ex(eP)}},tK={sku:d.SKU,version:eq,cpu:d.EMPTY_STRING,os:d.EMPTY_STRING},tZ={clientSecret:d.EMPTY_STRING,clientAssertion:void 0},tX={azureCloudInstance:eH.None,tenant:`${d.DEFAULT_COMMON_TENANT}`},tQ={application:{appName:"",appVersion:""}};function tJ(e){return e.authOptions.authority.options.protocolMode===tN.OIDC}let t0={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"},t1="client_id",t2="redirect_uri",t8="response_type",t5="token_type",t4="req_cnf",t6="return_spa_code",t3="x-client-xtra-sku",t9="brk_client_id";class t7{static validateRedirectUri(e){if(!e)throw tE(e8)}static validatePrompt(e){let t=[];for(let e in _)t.push(_[e]);if(0>t.indexOf(e))throw tE(e7)}static validateClaims(e){try{JSON.parse(e)}catch(e){throw tE(te)}}static validateCodeChallengeParams(e,t){if(e&&t)this.validateCodeChallengeMethod(t);else throw tE(ti)}static validateCodeChallengeMethod(e){if(0>[E.PLAIN,E.S256].indexOf(e))throw tE(tn)}}class re{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(t8,encodeURIComponent(d.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(t8,encodeURIComponent(`${d.TOKEN_RESPONSE_TYPE} ${d.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set("response_mode",encodeURIComponent(e||v.QUERY))}addNativeBroker(){this.parameters.set("nativebroker",encodeURIComponent("1"))}addScopes(e,t=!0,r=f){!t||r.includes("openid")||e.includes("openid")||r.push("openid");let n=new tb(t?[...e||[],...r]:e||[]);this.parameters.set("scope",encodeURIComponent(n.printScopes()))}addClientId(e){this.parameters.set(t1,encodeURIComponent(e))}addRedirectUri(e){t7.validateRedirectUri(e),this.parameters.set(t2,encodeURIComponent(e))}addPostLogoutRedirectUri(e){t7.validateRedirectUri(e),this.parameters.set("post_logout_redirect_uri",encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set("id_token_hint",encodeURIComponent(e))}addDomainHint(e){this.parameters.set("domain_hint",encodeURIComponent(e))}addLoginHint(e){this.parameters.set("login_hint",encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(m.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(m.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set("sid",encodeURIComponent(e))}addClaims(e,t){let r=this.addClientCapabilitiesToClaims(e,t);t7.validateClaims(r),this.parameters.set("claims",encodeURIComponent(r))}addCorrelationId(e){this.parameters.set("client-request-id",encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set("x-client-SKU",e.sku),this.parameters.set("x-client-VER",e.version),e.os&&this.parameters.set("x-client-OS",e.os),e.cpu&&this.parameters.set("x-client-CPU",e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set("x-app-name",e.appName),e?.appVersion&&this.parameters.set("x-app-ver",e.appVersion)}addPrompt(e){t7.validatePrompt(e),this.parameters.set("prompt",encodeURIComponent(e))}addState(e){e&&this.parameters.set("state",encodeURIComponent(e))}addNonce(e){this.parameters.set("nonce",encodeURIComponent(e))}addCodeChallengeParams(e,t){if(t7.validateCodeChallengeParams(e,t),e&&t)this.parameters.set("code_challenge",encodeURIComponent(e)),this.parameters.set("code_challenge_method",encodeURIComponent(t));else throw tE(ti)}addAuthorizationCode(e){this.parameters.set("code",encodeURIComponent(e))}addDeviceCode(e){this.parameters.set("device_code",encodeURIComponent(e))}addRefreshToken(e){this.parameters.set("refresh_token",encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set("code_verifier",encodeURIComponent(e))}addClientSecret(e){this.parameters.set("client_secret",encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set("client_assertion",encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set("client_assertion_type",encodeURIComponent(e))}addOboAssertion(e){this.parameters.set("assertion",encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set("requested_token_use",encodeURIComponent(e))}addGrantType(e){this.parameters.set("grant_type",encodeURIComponent(e))}addClientInfo(){this.parameters.set("client_info","1")}addExtraQueryParameters(e){Object.entries(e).forEach(([e,t])=>{!this.parameters.has(e)&&t&&this.parameters.set(e,t)})}addClientCapabilitiesToClaims(e,t){let r;if(e)try{r=JSON.parse(e)}catch(e){throw tE(te)}else r={};return t&&t.length>0&&(r.hasOwnProperty(y.ACCESS_TOKEN)||(r[y.ACCESS_TOKEN]={}),r[y.ACCESS_TOKEN][y.XMS_CC]={values:t}),JSON.stringify(r)}addUsername(e){this.parameters.set(D.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(D.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(t5,N.POP),this.parameters.set(t4,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(t5,N.SSH),this.parameters.set(t4,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set("x-client-current-telemetry",e.generateCurrentRequestHeaderValue()),this.parameters.set("x-client-last-telemetry",e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set("x-ms-lib-capability",R.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set("logout_hint",encodeURIComponent(e))}addBrokerParameters(e){let t={};t[t9]=e.brokerClientId,t.brk_redirect_uri=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){let e=[];return this.parameters.forEach((t,r)=>{e.push(`${r}=${t}`)}),function(e,t,r){if(!t)return;let n=e.get(t1);n&&e.has(t9)&&r?.addFields({embeddedClientId:n,embeddedRedirectUri:e.get(t2)},t)}(this.parameters,this.correlationId,this.performanceClient),e.join("&")}}let rt={NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",GetAuthCodeUrl:"getAuthCodeUrl",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken"},rr=(e,t,r,n,i)=>(...o)=>{r.trace(`Executing function ${t}`);let s=n?.startMeasurement(t,i);i&&n?.incrementFields({[t+"CallCount"]:1},i);try{let n=e(...o);return s?.end({success:!0}),r.trace(`Returning result from ${t}`),n}catch(e){r.trace(`Error occurred in ${t}`);try{r.trace(JSON.stringify(e))}catch(e){r.trace("Unable to print error message.")}throw s?.end({success:!1},e),e}},rn=(e,t,r,n,i)=>(...o)=>{r.trace(`Executing function ${t}`);let s=n?.startMeasurement(t,i);return i&&n?.incrementFields({[t+"CallCount"]:1},i),n?.setPreQueueTime(t,i),e(...o).then(e=>(r.trace(`Returning result from ${t}`),s?.end({success:!0}),e)).catch(e=>{r.trace(`Error occurred in ${t}`);try{r.trace(JSON.stringify(e))}catch(e){r.trace("Unable to print error message.")}throw s?.end({success:!1},e),e})};class ri{constructor(e,t,r,n){this.networkInterface=e,this.logger=t,this.performanceClient=r,this.correlationId=n}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(rt.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)t.region_source=k.ENVIRONMENT_VARIABLE;else{let e=ri.IMDS_OPTIONS;try{let n=await rn(this.getRegionFromIMDS.bind(this),rt.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(d.IMDS_VERSION,e);if(n.status===M.httpSuccess&&(r=n.body,t.region_source=k.IMDS),n.status===M.httpBadRequest){let n=await rn(this.getCurrentVersion.bind(this),rt.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(e);if(!n)return t.region_source=k.FAILED_AUTO_DETECTION,null;let i=await rn(this.getRegionFromIMDS.bind(this),rt.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(n,e);i.status===M.httpSuccess&&(r=i.body,t.region_source=k.IMDS)}}catch(e){return t.region_source=k.FAILED_AUTO_DETECTION,null}}return r||(t.region_source=k.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(rt.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${d.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,d.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(rt.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let t=await this.networkInterface.sendGetRequestAsync(`${d.IMDS_ENDPOINT}?format=json`,e);if(t.status===M.httpBadRequest&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0)return t.body["newest-versions"][0];return null}catch(e){return null}}}ri.IMDS_OPTIONS={headers:{Metadata:"true"}};class ro{constructor(e,t,r,n,i,o,s,a){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=n,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=s,this.correlationId=o,this.managedIdentity=a||!1,this.regionDiscovery=new ri(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(d.CIAM_AUTH_URL))return tO.Ciam;let t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case d.ADFS:return tO.Adfs;case d.DSTS:return tO.Dsts}return tO.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new tD(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw ex(W)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw ex(W)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw ex(W)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw ex(eC);return this.replacePath(this.metadata.end_session_endpoint)}throw ex(W)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw ex(W)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw ex(W)}canReplaceTenant(e){return 1===e.PathSegments.length&&!ro.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===tO.Default&&this.protocolMode===tN.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e,r=new tD(this.metadata.canonical_authority).getUrlComponents(),n=r.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((e,i)=>{let o=n[i];if(0===i&&this.canReplaceTenant(r)){let e=new tD(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];o!==e&&(this.logger.verbose(`Replacing tenant domain name ${o} with id ${e}`),o=e)}e!==o&&(t=t.replace(`/${o}/`,`/${e}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===tO.Adfs||this.protocolMode!==tN.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(rt.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),t=await rn(this.updateCloudDiscoveryMetadata.bind(this),rt.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let r=await rn(this.updateEndpointMetadata.bind(this),rt.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:r}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:eJ(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){t!==O.CACHE&&r?.source!==O.CACHE&&(e.expiresAt=eJ(),e.canonical_authority=this.canonicalAuthority);let n=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(n,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(rt.AuthorityUpdateEndpointMetadata,this.correlationId);let t=this.updateEndpointMetadataFromLocalSources(e);if(t)return t.source===O.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata&&(e0(e,await rn(this.updateMetadataWithRegionalInformation.bind(this),rt.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority),t.source;let r=await rn(this.getEndpointMetadataFromNetwork.bind(this),rt.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(r=await rn(this.updateMetadataWithRegionalInformation.bind(this),rt.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),e0(e,r,!0),O.NETWORK;throw ex(K,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),e0(e,t,!1),{source:O.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let t=this.getEndpointMetadataFromHardcodedValues();if(t)return e0(e,t,!1),{source:O.HARDCODED_VALUES,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let r=e2(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:O.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new tD(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw tE(ts)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(rt.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${e}`);try{var t;let r=await this.networkInterface.sendGetRequestAsync(e,{});if((t=r.body).hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri"))return r.body;return this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null}catch(e){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${e}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in tk?tk[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(rt.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==d.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=L.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,ro.replaceWithRegionalInformation(e,t);let r=await rn(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),rt.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(r)return this.regionDiscoveryMetadata.region_outcome=L.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=r,ro.replaceWithRegionalInformation(e,r);this.regionDiscoveryMetadata.region_outcome=L.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(rt.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;let r=await rn(this.getCloudDiscoveryMetadataFromNetwork.bind(this),rt.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return e1(e,r,!0),O.NETWORK;throw tE(ta)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||d.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||d.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||d.NOT_APPLICABLE}`);let t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),e1(e,t,!1),O.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{var r;let t=(r=this.hostnameAndPort,tF(tL.metadata,r));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),e1(e,t,!1),O.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let n=e2(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),O.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===tO.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),ro.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=tF(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),tE(to)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),ro.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(rt.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${d.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t=null;try{var r,n;let i,o;let s=await this.networkInterface.sendGetRequestAsync(e,{});if((r=s.body).hasOwnProperty("tenant_discovery_endpoint")&&r.hasOwnProperty("metadata"))o=(i=s.body).metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${i.tenant_discovery_endpoint}`);else{if(!((n=s.body).hasOwnProperty("error")&&n.hasOwnProperty("error_description")))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${s.status}`),(i=s.body).error===d.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${i.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${i.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),o=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),t=tF(o,this.hostnameAndPort)}catch(e){return e instanceof H?this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${e.errorCode}
Error Description: ${e.errorMessage}`):this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${e.name}
Error Description: ${e.message}`),null}return t||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),t=ro.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),t}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(e=>e&&tD.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let r;if(t&&t.azureCloudInstance!==eH.None){let e=t.tenant?t.tenant:d.DEFAULT_COMMON_TENANT;r=`${t.azureCloudInstance}/${e}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return d.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw ex(W)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return tU.has(e)}static isPublicCloudAuthority(e){return d.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){let n=new tD(e);n.validateAsUri();let i=n.getUrlComponents(),o=`${t}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(o=`${t}.${d.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let s=tD.constructAuthorityUriFromObject({...n.getUrlComponents(),HostNameAndPort:o}).urlString;return r?`${s}?${r}`:s}static replaceWithRegionalInformation(e,t){let r={...e};return r.authorization_endpoint=ro.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=ro.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=ro.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){let t=e,r=new tD(e).getUrlComponents();if(0===r.PathSegments.length&&r.HostNameAndPort.endsWith(d.CIAM_AUTH_URL)){let e=r.HostNameAndPort.split(".")[0];t=`${t}${e}${d.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function rs(e){return e.endsWith(d.FORWARD_SLASH)?e:`${e}${d.FORWARD_SLASH}`}async function ra(e,t,r,n,i,o,s){s?.addQueueMeasurement(rt.AuthorityFactoryCreateDiscoveredInstance,o);let a=ro.transformCIAMAuthority(rs(e)),l=new ro(a,t,r,n,i,o,s);try{return await rn(l.resolveEndpointsAsync.bind(l),rt.AuthorityResolveEndpointsAsync,i,s,o)(),l}catch(e){throw ex(W)}}ro.reservedTenantDomains=new Set(["{tenant}","{tenantid}",g.COMMON,g.CONSUMERS,g.ORGANIZATIONS]);class rl extends H{constructor(e,t,r,n,i){super(e,t,r),this.name="ServerError",this.errorNo=n,this.status=i,Object.setPrototypeOf(this,rl.prototype)}}class rc{static generateThrottlingStorageKey(e){return`${R.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){let r=rc.generateThrottlingStorageKey(t),n=e.getThrottlingCache(r);if(n){if(n.throttleTime<Date.now()){e.removeItem(r);return}throw new rl(n.errorCodes?.join(" ")||d.EMPTY_STRING,n.errorMessage,n.subError)}}static postProcess(e,t,r){if(rc.checkResponseStatus(r)||rc.checkResponseForRetryAfter(r)){let n={throttleTime:rc.calculateThrottleTime(parseInt(r.headers[m.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(rc.generateThrottlingStorageKey(t),n)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&e.headers.hasOwnProperty(m.RETRY_AFTER)&&(e.status<200||e.status>=300)}static calculateThrottleTime(e){let t=Date.now()/1e3;return Math.floor(1e3*Math.min(t+((e<=0?0:e)||R.DEFAULT_THROTTLE_TIME_SECONDS),t+R.DEFAULT_MAX_THROTTLE_TIME_SECONDS))}static removeThrottle(e,t,r,n){let i={clientId:t,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:n,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},o=this.generateThrottlingStorageKey(i);e.removeItem(o)}}class ru extends H{constructor(e,t,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,ru.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=r}}class rd{constructor(e,t){this.config=function({authOptions:e,systemOptions:t,loggerOptions:r,cacheOptions:n,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:l,telemetry:c,serverTelemetryManager:u,persistencePlugin:d,serializableCache:h}){let f={...tz,...r};return{authOptions:{clientCapabilities:[],azureCloudOptions:tX,skipAuthorityMetadataCache:!1,instanceAware:!1,...e},systemOptions:{...t$,...t},loggerOptions:f,cacheOptions:{...tW,...n},storageInterface:i||new tV(e.clientId,eF,new eB(f)),networkInterface:o||tG,cryptoInterface:s||eF,clientCredentials:a||tZ,libraryInfo:{...tK,...l},telemetry:{...tQ,...c},serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:h||null}}(e),this.logger=new eB(this.config.loggerOptions,ej,eq),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){let t={};if(t[m.CONTENT_TYPE]=d.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case t0.HOME_ACCOUNT_ID:try{let r=tw(e.credential);t[m.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case t0.UPN:t[m.CCS_HEADER]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,r,n,i,o){o&&this.performanceClient?.addQueueMeasurement(o,i);let s=await this.sendPostRequest(n,e,{body:t,headers:r},i);return this.config.serverTelemetryManager&&s.status<500&&429!==s.status&&this.config.serverTelemetryManager.clearTelemetryCache(),s}async sendPostRequest(e,t,r,n){let i;rc.preProcess(this.cacheManager,e);try{let e=(i=await rn(this.networkClient.sendPostRequestAsync.bind(this.networkClient),rt.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,n)(t,r)).headers||{};this.performanceClient?.addFields({refreshTokenSize:i.body.refresh_token?.length||0,httpVerToken:e[m.X_MS_HTTP_VERSION]||"",requestId:e[m.X_MS_REQUEST_ID]||""},n)}catch(e){if(e instanceof ru){let t=e.responseHeaders;throw t&&this.performanceClient?.addFields({httpVerToken:t[m.X_MS_HTTP_VERSION]||"",requestId:t[m.X_MS_REQUEST_ID]||"",contentTypeHeader:t[m.CONTENT_TYPE]||void 0,contentLengthHeader:t[m.CONTENT_LENGTH]||void 0,httpStatus:e.httpStatus},n),e.error}if(e instanceof H)throw e;throw ex(G)}return rc.postProcess(this.cacheManager,e,i),i}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(rt.UpdateTokenEndpointAuthority,t);let r=`https://${e}/${this.authority.tenant}/`,n=await ra(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=n}createTokenQueryParameters(e){let t=new re(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}}let rh="no_tokens_found",rf="native_account_unavailable",rp="refresh_token_expired",rm="interaction_required",rg="consent_required",ry="login_required",r_="bad_token";var rE=Object.freeze({__proto__:null,badToken:r_,consentRequired:rg,interactionRequired:rm,loginRequired:ry,nativeAccountUnavailable:rf,noTokensFound:rh,refreshTokenExpired:rp});let rv=[rm,rg,ry,r_],rb=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],rT={[rh]:"No refresh token found in the cache. Please sign-in.",[rf]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[rp]:"Refresh token has expired.",[r_]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."},rw={noTokensFoundError:{code:rh,desc:rT[rh]},native_account_unavailable:{code:rf,desc:rT[rf]},bad_token:{code:r_,desc:rT[r_]}};class rS extends H{constructor(e,t,r,n,i,o,s,a){super(e,t,r),Object.setPrototypeOf(this,rS.prototype),this.timestamp=n||d.EMPTY_STRING,this.traceId=i||d.EMPTY_STRING,this.correlationId=o||d.EMPTY_STRING,this.claims=s||d.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=a}}function rA(e,t,r){let n=!!e&&rv.indexOf(e)>-1,i=!!r&&rb.indexOf(r)>-1,o=!!t&&rv.some(e=>t.indexOf(e)>-1);return n||o||i}function rC(e){return new rS(e,rT[e])}class rO{static setRequestState(e,t,r){let n=rO.generateLibraryState(e,r);return t?`${n}${d.RESOURCE_DELIM}${t}`:n}static generateLibraryState(e,t){if(!e)throw ex(ey);let r={id:e.createNewGuid()};t&&(r.meta=t);let n=JSON.stringify(r);return e.base64Encode(n)}static parseRequestState(e,t){if(!e)throw ex(ey);if(!t)throw ex(X);try{let r=t.split(d.RESOURCE_DELIM),n=r[0],i=r.length>1?r.slice(1).join(d.RESOURCE_DELIM):d.EMPTY_STRING,o=e.base64Decode(n),s=JSON.parse(o);return{userRequestState:i||d.EMPTY_STRING,libraryState:s}}catch(e){throw ex(X)}}}let rI={SW:"sw"};class rN{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(rt.PopTokenGenerateCnf,e.correlationId);let r=await rn(this.generateKid.bind(this),rt.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),n=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:n}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(rt.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:rI.SW}}async signPopToken(e,t,r){return this.signPayload(e,t,r)}async signPayload(e,t,r,n){let{resourceRequestMethod:i,resourceRequestUri:o,shrClaims:s,shrNonce:a,shrOptions:l}=r,c=o?new tD(o):void 0,u=c?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:e$(),m:i?.toUpperCase(),u:u?.HostNameAndPort,nonce:a||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:s||void 0,...n},t,l,r.correlationId)}}class rR{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class rP{constructor(e,t,r,n,i,o,s){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=n,this.serializableCache=i,this.persistencePlugin=o,this.performanceClient=s}validateServerAuthorizationCodeResponse(e,t){let r,n;if(!e.state||!t)throw e.state?ex(J,"Cached State"):ex(J,"Server State");try{r=decodeURIComponent(e.state)}catch(t){throw ex(X,e.state)}try{n=decodeURIComponent(t)}catch(t){throw ex(X,e.state)}if(r!==n)throw ex(Q);if(e.error||e.error_description||e.suberror){let t=function(e){let t="code=",r=e.error_uri?.lastIndexOf(t);return r&&r>=0?e.error_uri?.substring(r+t.length):void 0}(e);if(rA(e.error,e.error_description,e.suberror))throw new rS(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new rl(e.error||"",e.error_description,e.suberror,t)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){let r=`Error(s): ${e.error_codes||d.NOT_AVAILABLE} - Timestamp: ${e.timestamp||d.NOT_AVAILABLE} - Description: ${e.error_description||d.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||d.NOT_AVAILABLE} - Trace ID: ${e.trace_id||d.NOT_AVAILABLE}`,n=e.error_codes?.length?e.error_codes[0]:void 0,i=new rl(e.error,r,e.suberror,n,e.status);if(t&&e.status&&e.status>=h.SERVER_ERROR_RANGE_START&&e.status<=h.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${i}`);return}if(t&&e.status&&e.status>=h.CLIENT_ERROR_RANGE_START&&e.status<=h.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${i}`);return}if(rA(e.error,e.error_description,e.suberror))throw new rS(e.error,e.error_description,e.suberror,e.timestamp||d.EMPTY_STRING,e.trace_id||d.EMPTY_STRING,e.correlation_id||d.EMPTY_STRING,e.claims||d.EMPTY_STRING,n);throw i}}async handleServerTokenResponse(e,t,r,n,i,o,s,a,l){let c,u,h;if(this.performanceClient?.addQueueMeasurement(rt.HandleServerTokenResponse,e.correlation_id),e.id_token){if(c=eY(e.id_token||d.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&c.nonce!==i.nonce)throw ex(ee);if(n.maxAge||0===n.maxAge){let e=c.auth_time;if(!e)throw ex(et);eV(e,n.maxAge)}}this.homeAccountIdentifier=tR.generateHomeAccountId(e.client_info||d.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,c),i&&i.state&&(u=rO.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||n.sshKid||void 0;let f=this.generateCacheRecord(e,t,r,n,c,o,i);try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),h=new rR(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(h)),s&&!a&&f.account){let e=f.account.generateAccountKey();if(!this.cacheStorage.getAccount(e))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await rP.generateAuthenticationResult(this.cryptoObj,t,f,!1,n,c,u,void 0,l)}await this.cacheStorage.saveCacheRecord(f,n.correlationId,n.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&h&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(h))}return rP.generateAuthenticationResult(this.cryptoObj,t,f,!1,n,c,u,e,l)}generateCacheRecord(e,t,r,n,i,o,s){let a,l;let c=t.getPreferredCache();if(!c)throw ex(em);let u=tI(i);if(e.id_token&&i){var d,h,f,p;d=this.homeAccountIdentifier,h=e.id_token,f=this.clientId,p=u||"",a={credentialType:S.ID_TOKEN,homeAccountId:d,environment:c,clientId:f,secret:h,realm:p},l=function(e,t,r,n,i,o,s,a,l,c,u){u?.verbose("setCachedAccount called");let d=e.getAccountKeys().find(e=>e.startsWith(r)),h=null;d&&(h=e.getAccount(d));let f=h||tR.createAccount({homeAccountId:r,idTokenClaims:i,clientInfo:o,environment:s,cloudGraphHostName:l?.cloud_graph_host_name,msGraphHost:l?.msgraph_host,nativeAccountId:c},t,n),p=f.tenantProfiles||[],m=a||f.realm;if(m&&!p.find(e=>e.tenantId===m)){let e=tA(r,f.localAccountId,m,i);p.push(e)}return f.tenantProfiles=p,f}(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i,e.client_info,c,u,s,void 0,this.logger)}let m=null;if(e.access_token){let i=e.scope?tb.fromString(e.scope):new tb(n.scopes||[]),s=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,a=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,l=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,d=r+s;m=function(e,t,r,n,i,o,s,a,l,c,u,d,h,f,p){let m={homeAccountId:e,credentialType:S.ACCESS_TOKEN,secret:r,cachedAt:e$().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:t,clientId:n,realm:i,target:o,tokenType:u||N.BEARER};if(d&&(m.userAssertionHash=d),c&&(m.refreshOn=c.toString()),f&&(m.requestedClaims=f,m.requestedClaimsHash=p),m.tokenType?.toLowerCase()!==N.BEARER.toLowerCase())switch(m.credentialType=S.ACCESS_TOKEN_WITH_AUTH_SCHEME,m.tokenType){case N.POP:let g=eY(r,l);if(!g?.cnf?.kid)throw ex(ew);m.keyId=g.cnf.kid;break;case N.SSH:m.keyId=h}return m}(this.homeAccountIdentifier,c,e.access_token,this.clientId,u||t.tenant||"",i.printScopes(),d,d+a,this.cryptoObj.base64Decode,l&&l>0?r+l:void 0,e.token_type,o,e.key_id,n.claims,n.requestedClaimsHash)}let g=null;if(e.refresh_token){let t;e.refresh_token_expires_in&&(t=r+("string"==typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)),g=function(e,t,r,n,i,o,s){let a={credentialType:S.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:n,secret:r};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,o,t)}let y=null;return e.foci&&(y={clientId:this.clientId,environment:c,familyId:e.foci}),{account:l,idToken:a,accessToken:m,refreshToken:g,appMetadata:y}}static async generateAuthenticationResult(e,t,r,n,i,o,s,a,l){let c,u,h=d.EMPTY_STRING,f=[],p=null,m=d.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType!==N.POP||i.popKid)h=r.accessToken.secret;else{let t=new rN(e),{secret:n,keyId:o}=r.accessToken;if(!o)throw ex(eO);h=await t.signPopToken(n,o,i)}f=tb.fromString(r.accessToken.target).asArray(),p=new Date(1e3*Number(r.accessToken.expiresOn)),c=new Date(1e3*Number(r.accessToken.extendedExpiresOn)),r.accessToken.refreshOn&&(u=new Date(1e3*Number(r.accessToken.refreshOn)))}r.appMetadata&&(m="1"===r.appMetadata.familyId?"1":"");let g=o?.oid||o?.sub||"",y=o?.tid||"";a?.spa_accountid&&r.account&&(r.account.nativeAccountId=a?.spa_accountid);let _=r.account?tC(r.account.getAccountInfo(),void 0,o,r.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:g,tenantId:y,scopes:f,account:_,idToken:r?.idToken?.secret||"",idTokenClaims:o||{},accessToken:h,fromCache:n,expiresOn:p,extExpiresOn:c,refreshOn:u,correlationId:i.correlationId,requestId:l||d.EMPTY_STRING,familyId:m,tokenType:r.accessToken?.tokenType||d.EMPTY_STRING,state:s?s.userRequestState:d.EMPTY_STRING,cloudGraphHostName:r.account?.cloudGraphHostName||d.EMPTY_STRING,msGraphHost:r.account?.msGraphHost||d.EMPTY_STRING,code:a?.spa_code,fromNativeBroker:!1}}}async function rD(e,t,r){return"string"==typeof e?e:e({clientId:t,tokenEndpoint:r})}class rM extends rd{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(rt.GetAuthCodeUrl,e.correlationId);let t=await rn(this.createAuthCodeUrlQueryString.bind(this),rt.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return tD.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(rt.AuthClientAcquireToken,e.correlationId),!e.code)throw ex(es);let r=e$(),n=await rn(this.executeTokenRequest.bind(this),rt.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=n.headers?.[m.X_MS_REQUEST_ID],o=new rP(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return o.validateTokenResponse(n.body),rn(o.handleServerTokenResponse.bind(o),rt.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,t,void 0,void 0,void 0,i)}handleFragmentResponse(e,t){if(new rP(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw ex(eS);return e}getLogoutUri(e){if(!e)throw tE(tr);let t=this.createLogoutUrlQueryString(e);return tD.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){let r;this.performanceClient?.addQueueMeasurement(rt.AuthClientExecuteTokenRequest,t.correlationId);let n=this.createTokenQueryParameters(t),i=tD.appendQueryString(e.tokenEndpoint,n),o=await rn(this.createTokenRequestBody.bind(this),rt.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t);if(t.clientInfo)try{let e=tT(t.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${e.uid}${w.CLIENT_INFO_SEPARATOR}${e.utid}`,type:t0.HOME_ACCOUNT_ID}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}let s=this.createTokenRequestHeaders(r||t.ccsCredential),a={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return rn(this.executePostToTokenEndpoint.bind(this),rt.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(i,o,s,a,t.correlationId,rt.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){let t;this.performanceClient?.addQueueMeasurement(rt.AuthClientCreateTokenRequestBody,e.correlationId);let r=new re(e.correlationId,this.performanceClient);if(r.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[t1]||this.config.authOptions.clientId),this.includeRedirectUri?r.addRedirectUri(e.redirectUri):t7.validateRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,this.oidcDefaultScopes),r.addAuthorizationCode(e.code),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!tJ(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&r.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let t=this.config.clientCredentials.clientAssertion;r.addClientAssertion(await rD(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(t.assertionType)}if(r.addGrantType(b.AUTHORIZATION_CODE_GRANT),r.addClientInfo(),e.authenticationScheme===N.POP){let t;let n=new rN(this.cryptoUtils,this.performanceClient);t=e.popKid?this.cryptoUtils.encodeKid(e.popKid):(await rn(n.generateCnf.bind(n),rt.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(t)}else if(e.authenticationScheme===N.SSH){if(e.sshJwk)r.addSshJwk(e.sshJwk);else throw tE(tl)}if((!tv.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{let r=tT(e.clientInfo,this.cryptoUtils.base64Decode);t={credential:`${r.uid}${w.CLIENT_INFO_SEPARATOR}${r.utid}`,type:t0.HOME_ACCOUNT_ID}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}else t=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case t0.HOME_ACCOUNT_ID:try{let e=tw(t.credential);r.addCcsOid(e)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case t0.UPN:r.addCcsUpn(t.credential)}return e.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[t6]||r.addExtraQueryParameters({[t6]:"1"}),r.createQueryString()}async createAuthCodeUrlQueryString(e){let t=e.correlationId||this.config.cryptoInterface.createNewGuid();this.performanceClient?.addQueueMeasurement(rt.AuthClientCreateQueryString,t);let r=new re(t,this.performanceClient);r.addClientId(e.embeddedClientId||e.extraQueryParameters?.[t1]||this.config.authOptions.clientId);let n=[...e.scopes||[],...e.extraScopesToConsent||[]];if(r.addScopes(n,!0,this.oidcDefaultScopes),r.addRedirectUri(e.redirectUri),r.addCorrelationId(t),r.addResponseMode(e.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),tJ(this.config)||r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&r.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&r.addPrompt(e.prompt),e.domainHint&&(r.addDomainHint(e.domainHint),this.performanceClient?.addFields({domainHintFromRequest:!0},t)),this.performanceClient?.addFields({prompt:e.prompt},t),e.prompt!==_.SELECT_ACCOUNT){if(e.sid&&e.prompt===_.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(e.sid),this.performanceClient?.addFields({sidFromRequest:!0},t);else if(e.account){let n=this.extractAccountSid(e.account),i=this.extractLoginHint(e.account);if(i&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),i=null),i){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(i),this.performanceClient?.addFields({loginHintFromClaim:!0},t);try{let t=tw(e.account.homeAccountId);r.addCcsOid(t)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(n&&e.prompt===_.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(n),this.performanceClient?.addFields({sidFromClaim:!0},t);try{let t=tw(e.account.homeAccountId);r.addCcsOid(t)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint),this.performanceClient?.addFields({loginHintFromRequest:!0},t);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(e.account.username),this.performanceClient?.addFields({loginHintFromUpn:!0},t);try{let t=tw(e.account.homeAccountId);r.addCcsOid(t)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint),this.performanceClient?.addFields({loginHintFromRequest:!0},t))}else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&r.addNonce(e.nonce),e.state&&r.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,r),e.platformBroker&&(r.addNativeBroker(),e.authenticationScheme===N.POP)){let t;let n=new rN(this.cryptoUtils);t=e.popKid?this.cryptoUtils.encodeKid(e.popKid):(await rn(n.generateCnf.bind(n),rt.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(t)}return r.createQueryString()}createLogoutUrlQueryString(e){let t=new re(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}class rk extends rd{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(rt.RefreshTokenClientAcquireToken,e.correlationId);let t=e$(),r=await rn(this.executeTokenRequest.bind(this),rt.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),n=r.headers?.[m.X_MS_REQUEST_ID],i=new rP(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(r.body),rn(i.handleServerTokenResponse.bind(i),rt.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,n)}async acquireTokenByRefreshToken(e){if(!e)throw tE(tt);if(this.performanceClient?.addQueueMeasurement(rt.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw ex(ef);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await rn(this.acquireTokenWithCachedRefreshToken.bind(this),rt.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(r){let e=r instanceof rS&&r.errorCode===rh,t=r instanceof rl&&r.errorCode===P.INVALID_GRANT_ERROR&&r.subError===P.CLIENT_MISMATCH_ERROR;if(e||t);else throw r}return rn(this.acquireTokenWithCachedRefreshToken.bind(this),rt.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(rt.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let r=rr(this.cacheManager.getRefreshToken.bind(this.cacheManager),rt.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!r)throw rC(rh);if(r.expiresOn&&ez(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),rC(rp);let n={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||N.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:t0.HOME_ACCOUNT_ID}};try{return await rn(this.acquireToken.bind(this),rt.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(n)}catch(t){if(t instanceof rS&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),t.subError===r_)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let e=eW(r);this.cacheManager.removeRefreshToken(e)}throw t}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(rt.RefreshTokenClientExecuteTokenRequest,e.correlationId);let r=this.createTokenQueryParameters(e),n=tD.appendQueryString(t.tokenEndpoint,r),i=await rn(this.createTokenRequestBody.bind(this),rt.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),o=this.createTokenRequestHeaders(e.ccsCredential),s={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return rn(this.executePostToTokenEndpoint.bind(this),rt.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(n,i,o,s,e.correlationId,rt.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(rt.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let t=new re(e.correlationId,this.performanceClient);if(t.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[t1]||this.config.authOptions.clientId),e.redirectUri&&t.addRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),t.addGrantType(b.REFRESH_TOKEN_GRANT),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!tJ(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),t.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let r=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await rD(r.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(r.assertionType)}if(e.authenticationScheme===N.POP){let r;let n=new rN(this.cryptoUtils,this.performanceClient);r=e.popKid?this.cryptoUtils.encodeKid(e.popKid):(await rn(n.generateCnf.bind(n),rt.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,t.addPopToken(r)}else if(e.authenticationScheme===N.SSH){if(e.sshJwk)t.addSshJwk(e.sshJwk);else throw tE(tl)}if((!tv.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case t0.HOME_ACCOUNT_ID:try{let r=tw(e.ccsCredential.credential);t.addCcsOid(r)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case t0.UPN:t.addCcsUpn(e.ccsCredential.credential)}return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),t.createQueryString()}}class rL extends rd{constructor(e,t){super(e,t)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(rt.SilentFlowClientAcquireCachedToken,e.correlationId);let t=U.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!tv.isEmptyObj(e.claims))throw this.setCacheOutcome(U.FORCE_REFRESH_OR_CLAIMS,e.correlationId),ex(eb);if(!e.account)throw ex(ef);let r=e.account.tenantId||function(e){let t=new tD(e).getUrlComponents(),r=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(r){case g.COMMON:case g.ORGANIZATIONS:case g.CONSUMERS:return;default:return r}}(e.authority),n=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,n,r,this.performanceClient,e.correlationId);if(i){if(Number(i.cachedAt)>e$()||ez(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(U.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),ex(eb);i.refreshOn&&ez(i.refreshOn,0)&&(t=U.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(U.NO_CACHED_ACCESS_TOKEN,e.correlationId),ex(eb);let o=e.authority||this.authority.getPreferredCache(),s={account:this.cacheManager.readAccountFromCache(e.account),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,n,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(o)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await rn(this.generateResultFromCacheRecord.bind(this),rt.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(s,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==U.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let r;if(this.performanceClient?.addQueueMeasurement(rt.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId),e.idToken&&(r=eY(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){let e=r?.auth_time;if(!e)throw ex(et);eV(e,t.maxAge)}return rP.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)}}class rU{constructor(e,t){this.cacheOutcome=U.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||d.EMPTY_STRING,this.wrapperVer=e.wrapperVer||d.EMPTY_STRING,this.telemetryCacheKey=I.CACHE_KEY+w.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${I.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r?.length&&t.push(`broker_error=${r}`);let n=t.join(I.VALUE_SEPARATOR),i=[e,this.getRegionDiscoveryFields()].join(I.VALUE_SEPARATOR);return[I.SCHEMA_VERSION,i,n].join(I.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),t=rU.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(I.VALUE_SEPARATOR),n=e.errors.slice(0,t).join(I.VALUE_SEPARATOR),i=e.errors.length,o=t<i?I.OVERFLOW_TRUE:I.OVERFLOW_FALSE,s=[i,o].join(I.VALUE_SEPARATOR);return[I.SCHEMA_VERSION,e.cacheHits,r,n,s].join(I.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let t=this.getLastRequests();t.errors.length>=I.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof H?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(I.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){let e=this.getLastRequests(),t=rU.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{let r={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)}}static maxErrorsToSend(e){let t;let r=0,n=0,i=e.errors.length;for(t=0;t<i;t++){let i=e.failedRequests[2*t]||d.EMPTY_STRING,o=e.failedRequests[2*t+1]||d.EMPTY_STRING,s=e.errors[t]||d.EMPTY_STRING;if((n+=i.toString().length+o.toString().length+s.length+3)<I.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||d.EMPTY_STRING),e.push(this.regionSource||d.EMPTY_STRING),e.push(this.regionOutcome||d.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return function(e){let{skus:t,libraryName:r,libraryVersion:n,extensionName:i,extensionVersion:o}=e,s=new Map([[0,[r,n]],[2,[i,o]]]),a=[];if(t?.length){if((a=t.split(",")).length<4)return t}else a=Array.from({length:4},()=>"|");return s.forEach((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){let{skuArr:t,index:r,skuName:n,skuVersion:i}=e;r>=t.length||(t[r]=[n,i].join("|"))}({skuArr:a,index:t,skuName:e[0],skuVersion:e[1]})}),a.join(",")}(e)}}class rx{static deserializeJSONBlob(e){return e?JSON.parse(e):{}}static deserializeAccounts(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,realm:n.realm,localAccountId:n.local_account_id,username:n.username,authorityType:n.authority_type,name:n.name,clientInfo:n.client_info,lastModificationTime:n.last_modification_time,lastModificationApp:n.last_modification_app,tenantProfiles:n.tenantProfiles?.map(e=>JSON.parse(e))},o=new tR;tY.toObject(o,i),t[r]=o}),t}static deserializeIdTokens(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,credentialType:n.credential_type,clientId:n.client_id,secret:n.secret,realm:n.realm};t[r]=i}),t}static deserializeAccessTokens(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,credentialType:n.credential_type,clientId:n.client_id,secret:n.secret,realm:n.realm,target:n.target,cachedAt:n.cached_at,expiresOn:n.expires_on,extendedExpiresOn:n.extended_expires_on,refreshOn:n.refresh_on,keyId:n.key_id,tokenType:n.token_type,requestedClaims:n.requestedClaims,requestedClaimsHash:n.requestedClaimsHash,userAssertionHash:n.userAssertionHash};t[r]=i}),t}static deserializeRefreshTokens(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,credentialType:n.credential_type,clientId:n.client_id,secret:n.secret,familyId:n.family_id,target:n.target,realm:n.realm};t[r]=i}),t}static deserializeAppMetadata(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r];t[r]={clientId:n.client_id,environment:n.environment,familyId:n.family_id}}),t}static deserializeAllCache(e){return{accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}}var rF=Object.freeze({__proto__:null,Deserializer:rx,Serializer:u});let rB="Metadata",rj="secret",rq="api-version",rH="resource",rY="https://login.microsoftonline.com/managed_identity/",rV={AZURE_POD_IDENTITY_AUTHORITY_HOST:"AZURE_POD_IDENTITY_AUTHORITY_HOST",IDENTITY_ENDPOINT:"IDENTITY_ENDPOINT",IDENTITY_HEADER:"IDENTITY_HEADER",IDENTITY_SERVER_THUMBPRINT:"IDENTITY_SERVER_THUMBPRINT",IMDS_ENDPOINT:"IMDS_ENDPOINT",MSI_ENDPOINT:"MSI_ENDPOINT",MSI_SECRET:"MSI_SECRET"},r$={APP_SERVICE:"AppService",AZURE_ARC:"AzureArc",CLOUD_SHELL:"CloudShell",DEFAULT_TO_IMDS:"DefaultToImds",IMDS:"Imds",MACHINE_LEARNING:"MachineLearning",SERVICE_FABRIC:"ServiceFabric"},rz={SYSTEM_ASSIGNED:"system-assigned",USER_ASSIGNED_CLIENT_ID:"user-assigned-client-id",USER_ASSIGNED_RESOURCE_ID:"user-assigned-resource-id",USER_ASSIGNED_OBJECT_ID:"user-assigned-object-id"},rW={GET:"get",POST:"post"},rG={SUCCESS:h.SUCCESS,SUCCESS_RANGE_START:h.SUCCESS_RANGE_START,SUCCESS_RANGE_END:h.SUCCESS_RANGE_END,SERVER_ERROR:h.SERVER_ERROR},rK={SHA256:"sha256"},rZ={CV_CHARSET:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~"},rX={MSAL_SKU:"msal.js.node",JWT_BEARER_ASSERTION_TYPE:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer",AUTHORIZATION_PENDING:"authorization_pending",HTTP_PROTOCOL:"http://",LOCALHOST:"localhost"},rQ={acquireTokenSilent:62,acquireTokenByUsernamePassword:371,acquireTokenByDeviceCode:671,acquireTokenByClientCredential:771,acquireTokenByCode:871,acquireTokenByRefreshToken:872},rJ={RSA_256:"RS256",PSS_256:"PS256",X5T_256:"x5t#S256",X5T:"x5t",X5C:"x5c",AUDIENCE:"aud",EXPIRATION_TIME:"exp",ISSUER:"iss",SUBJECT:"sub",NOT_BEFORE:"nbf",JWT_ID:"jti"},r0={INTERVAL_MS:100,TIMEOUT_MS:5e3},r1=[h.NOT_FOUND,h.REQUEST_TIMEOUT,h.TOO_MANY_REQUESTS,h.SERVER_ERROR,h.SERVICE_UNAVAILABLE,h.GATEWAY_TIMEOUT];class r2{static getNetworkResponse(e,t,r){return{headers:e,body:t,status:r}}static urlToHttpOptions(e){let t={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return""!==e.port&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`),t}}class r8{constructor(e,t){this.proxyUrl=e||"",this.customAgentOptions=t||{}}async sendGetRequestAsync(e,t,r){return this.proxyUrl?r5(e,this.proxyUrl,rW.GET,t,this.customAgentOptions,r):r4(e,rW.GET,t,this.customAgentOptions,r)}async sendPostRequestAsync(e,t){return this.proxyUrl?r5(e,this.proxyUrl,rW.POST,t,this.customAgentOptions):r4(e,rW.POST,t,this.customAgentOptions)}}let r5=(e,t,r,i,o,s)=>{let a=new URL(e),l=new URL(t),c=i?.headers||{},u={host:l.hostname,port:l.port,method:"CONNECT",path:a.hostname,headers:c};o&&Object.keys(o).length&&(u.agent=new n.Agent(o));let d="";if(r===rW.POST){let e=i?.body||"";d=`Content-Type: application/x-www-form-urlencoded\r
Content-Length: ${e.length}\r
\r
${e}`}else s&&(u.timeout=s);let f=`${r.toUpperCase()} ${a.href} HTTP/1.1\r
Host: ${a.host}\r
Connection: close\r
`+d+"\r\n";return new Promise((e,t)=>{let r=n.request(u);s&&r.on("timeout",()=>{r.destroy(),t(Error("Request time out"))}),r.end(),r.on("connect",(n,i)=>{let o=n?.statusCode||rG.SERVER_ERROR;(o<rG.SUCCESS_RANGE_START||o>rG.SUCCESS_RANGE_END)&&(r.destroy(),i.destroy(),t(Error(`Error connecting to proxy. Http status code: ${n.statusCode}. Http status message: ${n?.statusMessage||"Unknown"}`))),i.write(f);let s=[];i.on("data",e=>{s.push(e)}),i.on("end",()=>{let t=Buffer.concat([...s]).toString().split("\r\n"),n=parseInt(t[0].split(" ")[1]),i=t[0].split(" ").slice(2).join(" "),o=t[t.length-1],a=t.slice(1,t.length-2),l=new Map;a.forEach(e=>{let t=e.split(new RegExp(/:\s(.*)/s)),r=t[0],n=t[1];try{let e=JSON.parse(n);e&&"object"==typeof e&&(n=e)}catch(e){}l.set(r,n)});let c=Object.fromEntries(l),u=r2.getNetworkResponse(c,r6(n,i,c,o),n);(n<h.SUCCESS_RANGE_START||n>h.SUCCESS_RANGE_END)&&u.body.error!==rX.AUTHORIZATION_PENDING&&r.destroy(),e(u)}),i.on("error",e=>{r.destroy(),i.destroy(),t(Error(e.toString()))})}),r.on("error",e=>{r.destroy(),t(Error(e.toString()))})})},r4=(e,t,r,o,s)=>{let a=t===rW.POST,l=r?.body||"",c=new URL(e),u={method:t,headers:r?.headers||{},...r2.urlToHttpOptions(c)};return o&&Object.keys(o).length&&(u.agent=new i.Agent(o)),a?u.headers={...u.headers,"Content-Length":l.length}:s&&(u.timeout=s),new Promise((e,t)=>{let r;r="http:"===u.protocol?n.request(u):i.request(u),a&&r.write(l),s&&r.on("timeout",()=>{r.destroy(),t(Error("Request time out"))}),r.end(),r.on("response",t=>{let n=t.headers,i=t.statusCode,o=t.statusMessage,s=[];t.on("data",e=>{s.push(e)}),t.on("end",()=>{let t=Buffer.concat([...s]).toString(),a=r2.getNetworkResponse(n,r6(i,o,n,t),i);(i<h.SUCCESS_RANGE_START||i>h.SUCCESS_RANGE_END)&&a.body.error!==rX.AUTHORIZATION_PENDING&&r.destroy(),e(a)})}),r.on("error",e=>{r.destroy(),t(Error(e.toString()))})})},r6=(e,t,r,n)=>{let i;try{i=JSON.parse(n)}catch(s){let n,o;e>=h.CLIENT_ERROR_RANGE_START&&e<=h.CLIENT_ERROR_RANGE_END?(n="client_error",o="A client"):e>=h.SERVER_ERROR_RANGE_START&&e<=h.SERVER_ERROR_RANGE_END?(n="server_error",o="A server"):(n="unknown_error",o="An unknown"),i={error:n,error_description:`${o} error occured.
Http status code: ${e}
Http status message: ${t||"Unknown"}
Headers: ${JSON.stringify(r)}`}}return i},r3="invalid_file_extension",r9="invalid_file_path",r7="invalid_managed_identity_id_type",ne="invalid_secret",nt="platform_not_supported",nr="unable_to_create_azure_arc",nn="unable_to_create_cloud_shell",ni="unable_to_create_source",no="unable_to_read_secret_file",ns="www_authenticate_header_missing",na="www_authenticate_header_unsupported_format",nl={[rV.AZURE_POD_IDENTITY_AUTHORITY_HOST]:"azure_pod_identity_authority_host_url_malformed",[rV.IDENTITY_ENDPOINT]:"identity_endpoint_url_malformed",[rV.IMDS_ENDPOINT]:"imds_endpoint_url_malformed",[rV.MSI_ENDPOINT]:"msi_endpoint_url_malformed"},nc={[r3]:"The file path in the WWW-Authenticate header does not contain a .key file.",[r9]:"The file path in the WWW-Authenticate header is not in a valid Windows or Linux Format.",[r7]:"More than one ManagedIdentityIdType was provided.",[ne]:"The secret in the file on the file path in the WWW-Authenticate header is greater than 4096 bytes.",[nt]:"The platform is not supported by Azure Arc. Azure Arc only supports Windows and Linux.",missing_client_id:"A ManagedIdentityId id was not provided.",[nl.AZURE_POD_IDENTITY_AUTHORITY_HOST]:`The Managed Identity's '${rV.AZURE_POD_IDENTITY_AUTHORITY_HOST}' environment variable is malformed.`,[nl.IDENTITY_ENDPOINT]:`The Managed Identity's '${rV.IDENTITY_ENDPOINT}' environment variable is malformed.`,[nl.IMDS_ENDPOINT]:`The Managed Identity's '${rV.IMDS_ENDPOINT}' environment variable is malformed.`,[nl.MSI_ENDPOINT]:`The Managed Identity's '${rV.MSI_ENDPOINT}' environment variable is malformed.`,network_unavailable:"Authentication unavailable. The request to the managed identity endpoint timed out.",[nr]:"Azure Arc Managed Identities can only be system assigned.",[nn]:"Cloud Shell Managed Identities can only be system assigned.",[ni]:"Unable to create a Managed Identity source based on environment variables.",[no]:"Unable to read the secret file.",user_assigned_not_available_at_runtime:"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.",[ns]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.",[na]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format."};class nu extends H{constructor(e){super(e,nc[e]),this.name="ManagedIdentityError",Object.setPrototypeOf(this,nu.prototype)}}function nd(e){return new nu(e)}class nh{get id(){return this._id}set id(e){this._id=e}get idType(){return this._idType}set idType(e){this._idType=e}constructor(e){let t=e?.userAssignedClientId,r=e?.userAssignedResourceId,n=e?.userAssignedObjectId;if(t){if(r||n)throw nd(r7);this.id=t,this.idType=rz.USER_ASSIGNED_CLIENT_ID}else if(r){if(t||n)throw nd(r7);this.id=r,this.idType=rz.USER_ASSIGNED_RESOURCE_ID}else if(n){if(t||r)throw nd(r7);this.id=n,this.idType=rz.USER_ASSIGNED_OBJECT_ID}else this.id="system_assigned_managed_identity",this.idType=rz.SYSTEM_ASSIGNED}}class nf{constructor(e,t,r){this.maxRetries=e,this.retryDelay=t,this.httpStatusCodesToRetryOn=r}retryAfterMillisecondsToSleep(e){if(!e)return 0;let t=Math.round(1e3*parseFloat(e));return isNaN(t)&&(t=Math.max(0,new Date(e).valueOf()-new Date().valueOf())),t}async pauseForRetry(e,t,r){if(this.httpStatusCodesToRetryOn.includes(e)&&t<this.maxRetries){let e=this.retryAfterMillisecondsToSleep(r);return await new Promise(t=>setTimeout(t,e||this.retryDelay)),!0}return!1}}class np{constructor(e,t){this.httpClientNoRetries=e,this.retryPolicy=t}async sendNetworkRequestAsyncHelper(e,t,r){return e===rW.GET?this.httpClientNoRetries.sendGetRequestAsync(t,r):this.httpClientNoRetries.sendPostRequestAsync(t,r)}async sendNetworkRequestAsync(e,t,r){let n=await this.sendNetworkRequestAsyncHelper(e,t,r),i=0;for(;await this.retryPolicy.pauseForRetry(n.status,i,n.headers[m.RETRY_AFTER]);)n=await this.sendNetworkRequestAsyncHelper(e,t,r),i++;return n}async sendGetRequestAsync(e,t){return this.sendNetworkRequestAsync(rW.GET,e,t)}async sendPostRequestAsync(e,t){return this.sendNetworkRequestAsync(rW.POST,e,t)}}let nm={invalidLoopbackAddressType:{code:"invalid_loopback_server_address_type",desc:"Loopback server address is not type string. This is unexpected."},unableToLoadRedirectUri:{code:"unable_to_load_redirectUrl",desc:"Loopback server callback was invoked without a url. This is unexpected."},noAuthCodeInResponse:{code:"no_auth_code_in_response",desc:"No auth code found in the server response. Please check your network trace to determine what happened."},noLoopbackServerExists:{code:"no_loopback_server_exists",desc:"No loopback server exists yet."},loopbackServerAlreadyExists:{code:"loopback_server_already_exists",desc:"Loopback server already exists. Cannot create another."},loopbackServerTimeout:{code:"loopback_server_timeout",desc:"Timed out waiting for auth code listener to be registered."},stateNotFoundError:{code:"state_not_found",desc:"State not found. Please verify that the request originated from msal."},thumbprintMissing:{code:"thumbprint_missing_from_client_certificate",desc:"Client certificate does not contain a SHA-1 or SHA-256 thumbprint."}};class ng extends H{constructor(e,t){super(e,t),this.name="NodeAuthError"}static createInvalidLoopbackAddressTypeError(){return new ng(nm.invalidLoopbackAddressType.code,`${nm.invalidLoopbackAddressType.desc}`)}static createUnableToLoadRedirectUrlError(){return new ng(nm.unableToLoadRedirectUri.code,`${nm.unableToLoadRedirectUri.desc}`)}static createNoAuthCodeInResponseError(){return new ng(nm.noAuthCodeInResponse.code,`${nm.noAuthCodeInResponse.desc}`)}static createNoLoopbackServerExistsError(){return new ng(nm.noLoopbackServerExists.code,`${nm.noLoopbackServerExists.desc}`)}static createLoopbackServerAlreadyExistsError(){return new ng(nm.loopbackServerAlreadyExists.code,`${nm.loopbackServerAlreadyExists.desc}`)}static createLoopbackServerTimeoutError(){return new ng(nm.loopbackServerTimeout.code,`${nm.loopbackServerTimeout.desc}`)}static createStateNotFoundError(){return new ng(nm.stateNotFoundError.code,nm.stateNotFoundError.desc)}static createThumbprintMissingError(){return new ng(nm.thumbprintMissing.code,nm.thumbprintMissing.desc)}}let ny={clientId:d.EMPTY_STRING,authority:d.DEFAULT_AUTHORITY,clientSecret:d.EMPTY_STRING,clientAssertion:d.EMPTY_STRING,clientCertificate:{thumbprint:d.EMPTY_STRING,thumbprintSha256:d.EMPTY_STRING,privateKey:d.EMPTY_STRING,x5c:d.EMPTY_STRING},knownAuthorities:[],cloudDiscoveryMetadata:d.EMPTY_STRING,authorityMetadata:d.EMPTY_STRING,clientCapabilities:[],protocolMode:tN.AAD,azureCloudOptions:{azureCloudInstance:eH.None,tenant:d.EMPTY_STRING},skipAuthorityMetadataCache:!1},n_={claimsBasedCachingEnabled:!1},nE={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:t.LogLevel.Info},nv={loggerOptions:nE,networkClient:new r8,proxyUrl:d.EMPTY_STRING,customAgentOptions:{},disableInternalRetries:!1},nb={application:{appName:d.EMPTY_STRING,appVersion:d.EMPTY_STRING}};class nT{generateGuid(){return o.v4()}isGuid(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}}class nw{static base64Encode(e,t){return Buffer.from(e,t).toString("base64")}static base64EncodeUrl(e,t){return nw.base64Encode(e,t).replace(/=/g,d.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")}static base64Decode(e){return Buffer.from(e,"base64").toString("utf8")}static base64DecodeUrl(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");for(;t.length%4;)t+="=";return nw.base64Decode(t)}}class nS{sha256(e){return s.createHash(rK.SHA256).update(e).digest()}}class nA{constructor(){this.hashUtils=new nS}async generatePkceCodes(){let e=this.generateCodeVerifier(),t=this.generateCodeChallengeFromVerifier(e);return{verifier:e,challenge:t}}generateCodeVerifier(){let e=[],t=256-256%rZ.CV_CHARSET.length;for(;e.length<=32;){let r=s.randomBytes(1)[0];if(r>=t)continue;let n=r%rZ.CV_CHARSET.length;e.push(rZ.CV_CHARSET[n])}let r=e.join(d.EMPTY_STRING);return nw.base64EncodeUrl(r)}generateCodeChallengeFromVerifier(e){return nw.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}}class nC{constructor(){this.pkceGenerator=new nA,this.guidGenerator=new nT,this.hashUtils=new nS}base64UrlEncode(){throw Error("Method not implemented.")}encodeKid(){throw Error("Method not implemented.")}createNewGuid(){return this.guidGenerator.generateGuid()}base64Encode(e){return nw.base64Encode(e)}base64Decode(e){return nw.base64Decode(e)}generatePkceCodes(){return this.pkceGenerator.generatePkceCodes()}getPublicKeyThumbprint(){throw Error("Method not implemented.")}removeTokenBindingKey(){throw Error("Method not implemented.")}clearKeystore(){throw Error("Method not implemented.")}signJwt(){throw Error("Method not implemented.")}async hashString(e){return nw.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}}class nO extends tY{constructor(e,t,r,n){super(t,r,e,n),this.cache={},this.changeEmitters=[],this.logger=e}registerChangeEmitter(e){this.changeEmitters.push(e)}emitChange(){this.changeEmitters.forEach(e=>e.call(null))}cacheToInMemoryCache(e){let t={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(let r in e){let n=e[r];if("object"==typeof n){if(n instanceof tR)t.accounts[r]=n;else if(eZ(n))t.idTokens[r]=n;else if(eK(n))t.accessTokens[r]=n;else if(eX(n))t.refreshTokens[r]=n;else{if(!eQ(r,n))continue;t.appMetadata[r]=n}}}return t}inMemoryCacheToCache(e){return{...this.getCache(),...e.accounts,...e.idTokens,...e.accessTokens,...e.refreshTokens,...e.appMetadata}}getInMemoryCache(){return this.logger.trace("Getting in-memory cache"),this.cacheToInMemoryCache(this.getCache())}setInMemoryCache(e){this.logger.trace("Setting in-memory cache");let t=this.inMemoryCacheToCache(e);this.setCache(t),this.emitChange()}getCache(){return this.logger.trace("Getting cache key-value store"),this.cache}setCache(e){this.logger.trace("Setting cache key value store"),this.cache=e,this.emitChange()}getItem(e){return this.logger.tracePii(`Item key: ${e}`),this.getCache()[e]}setItem(e,t){this.logger.tracePii(`Item key: ${e}`);let r=this.getCache();r[e]=t,this.setCache(r)}getAccountKeys(){return Object.keys(this.getInMemoryCache().accounts)}getTokenKeys(){let e=this.getInMemoryCache();return{idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}getAccount(e){return this.getItem(e)?Object.assign(new tR,this.getItem(e)):null}async setAccount(e){let t=e.generateAccountKey();this.setItem(t,e)}getIdTokenCredential(e){let t=this.getItem(e);return eZ(t)?t:null}async setIdTokenCredential(e){let t=eW(e);this.setItem(t,e)}getAccessTokenCredential(e){let t=this.getItem(e);return eK(t)?t:null}async setAccessTokenCredential(e){let t=eW(e);this.setItem(t,e)}getRefreshTokenCredential(e){let t=this.getItem(e);return eX(t)?t:null}async setRefreshTokenCredential(e){let t=eW(e);this.setItem(t,e)}getAppMetadata(e){let t=this.getItem(e);return eQ(e,t)?t:null}setAppMetadata(e){let t=function({environment:e,clientId:t}){return[A,e,t].join(w.CACHE_KEY_SEPARATOR).toLowerCase()}(e);this.setItem(t,e)}getServerTelemetry(e){let t=this.getItem(e);return t&&function(e,t){let r=0===e.indexOf(I.CACHE_KEY),n=!0;return t&&(n=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),r&&n}(e,t)?t:null}setServerTelemetry(e,t){this.setItem(e,t)}getAuthorityMetadata(e){let t=this.getItem(e);return t&&t&&0===e.indexOf(C.CACHE_KEY)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")?t:null}getAuthorityMetadataKeys(){return this.getKeys().filter(e=>this.isAuthorityMetadata(e))}setAuthorityMetadata(e,t){this.setItem(e,t)}getThrottlingCache(e){let t,r;let n=this.getItem(e);return n&&(t=!1,e&&(t=0===e.indexOf(R.THROTTLING_PREFIX)),r=!0,n&&(r=n.hasOwnProperty("throttleTime")),t&&r)?n:null}setThrottlingCache(e,t){this.setItem(e,t)}removeItem(e){this.logger.tracePii(`Item key: ${e}`);let t=!1,r=this.getCache();return r[e]&&(delete r[e],t=!0),t&&(this.setCache(r),this.emitChange()),t}removeOutdatedAccount(e){this.removeItem(e)}containsKey(e){return this.getKeys().includes(e)}getKeys(){return this.logger.trace("Retrieving all cache keys"),[...Object.keys(this.getCache())]}clear(){this.logger.trace("Clearing cache entries created by MSAL"),this.getKeys().forEach(e=>{this.removeItem(e)}),this.emitChange()}static generateInMemoryCache(e){return rx.deserializeAllCache(rx.deserializeJSONBlob(e))}static generateJsonCache(e){return u.serializeAllCache(e)}updateCredentialCacheKey(e,t){let r=eW(t);if(e!==r){let n=this.getItem(e);if(n)return this.removeItem(e),this.setItem(r,n),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),r;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}}let nI={Account:{},IdToken:{},AccessToken:{},RefreshToken:{},AppMetadata:{}};class nN{constructor(e,t,r){this.cacheHasChanged=!1,this.storage=e,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),r&&(this.persistence=r),this.logger=t}hasChanged(){return this.cacheHasChanged}serialize(){this.logger.trace("Serializing in-memory cache");let e=u.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace("Reading cache snapshot from disk"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace("No cache snapshot to merge"),this.cacheHasChanged=!1,JSON.stringify(e)}deserialize(e){if(this.logger.trace("Deserializing JSON to in-memory cache"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace("Reading cache snapshot from disk");let e=rx.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(e)}else this.logger.trace("No cache snapshot to deserialize")}getKVStore(){return this.storage.getCache()}getCacheSnapshot(){let e=nO.generateInMemoryCache(this.cacheSnapshot);return this.storage.inMemoryCacheToCache(e)}async getAllAccounts(){let e;this.logger.trace("getAllAccounts called");try{return this.persistence&&(e=new rR(this,!1),await this.persistence.beforeCacheAccess(e)),this.storage.getAllAccounts()}finally{this.persistence&&e&&await this.persistence.afterCacheAccess(e)}}async getAccountByHomeId(e){let t=await this.getAllAccounts();return e&&t&&t.length&&t.filter(t=>t.homeAccountId===e)[0]||null}async getAccountByLocalId(e){let t=await this.getAllAccounts();return e&&t&&t.length&&t.filter(t=>t.localAccountId===e)[0]||null}async removeAccount(e){let t;this.logger.trace("removeAccount called");try{this.persistence&&(t=new rR(this,!0),await this.persistence.beforeCacheAccess(t)),await this.storage.removeAccount(tR.generateAccountCacheKey(e))}finally{this.persistence&&t&&await this.persistence.afterCacheAccess(t)}}async overwriteCache(){if(!this.persistence){this.logger.info("No persistence layer specified, cache cannot be overwritten");return}this.logger.info("Overwriting in-memory cache with persistent cache"),this.storage.clear();let e=new rR(this,!1);await this.persistence.beforeCacheAccess(e);let t=this.getCacheSnapshot();this.storage.setCache(t),await this.persistence.afterCacheAccess(e)}handleChangeEvent(){this.cacheHasChanged=!0}mergeState(e,t){this.logger.trace("Merging in-memory cache with cache snapshot");let r=this.mergeRemovals(e,t);return this.mergeUpdates(r,t)}mergeUpdates(e,t){return Object.keys(t).forEach(r=>{let n=t[r];if(e.hasOwnProperty(r)){let t=null!==n,i="object"==typeof n,o=!Array.isArray(n),s=void 0!==e[r]&&null!==e[r];t&&i&&o&&s?this.mergeUpdates(e[r],n):e[r]=n}else null!==n&&(e[r]=n)}),e}mergeRemovals(e,t){this.logger.trace("Remove updated entries in cache");let r=e.Account?this.mergeRemovalsDict(e.Account,t.Account):e.Account,n=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,t.AccessToken):e.AccessToken,i=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,t.RefreshToken):e.RefreshToken,o=e.IdToken?this.mergeRemovalsDict(e.IdToken,t.IdToken):e.IdToken,s=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,t.AppMetadata):e.AppMetadata;return{...e,Account:r,AccessToken:n,RefreshToken:i,IdToken:o,AppMetadata:s}}mergeRemovalsDict(e,t){let r={...e};return Object.keys(e).forEach(e=>{t&&t.hasOwnProperty(e)||delete r[e]}),r}overlayDefaults(e){return this.logger.trace("Overlaying input cache with the default cache"),{Account:{...nI.Account,...e.Account},IdToken:{...nI.IdToken,...e.IdToken},AccessToken:{...nI.AccessToken,...e.AccessToken},RefreshToken:{...nI.RefreshToken,...e.RefreshToken},AppMetadata:{...nI.AppMetadata,...e.AppMetadata}}}}class nR{static fromAssertion(e){let t=new nR;return t.jwt=e,t}static fromCertificate(e,t,r){let n=new nR;return n.privateKey=t,n.thumbprint=e,n.useSha256=!1,r&&(n.publicCertificate=this.parseCertificate(r)),n}static fromCertificateWithSha256Thumbprint(e,t,r){let n=new nR;return n.privateKey=t,n.thumbprint=e,n.useSha256=!0,r&&(n.publicCertificate=this.parseCertificate(r)),n}getJwt(e,t,r){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&t===this.issuer&&r===this.jwtAudience?this.jwt:this.createJwt(e,t,r);if(this.jwt)return this.jwt;throw ex(eE)}createJwt(e,t,r){this.issuer=t,this.jwtAudience=r;let n=e$();this.expirationTime=n+600;let i={alg:this.useSha256?rJ.PSS_256:rJ.RSA_256};Object.assign(i,{[this.useSha256?rJ.X5T_256:rJ.X5T]:nw.base64EncodeUrl(this.thumbprint,"hex")}),this.publicCertificate&&Object.assign(i,{[rJ.X5C]:this.publicCertificate});let o={[rJ.AUDIENCE]:this.jwtAudience,[rJ.EXPIRATION_TIME]:this.expirationTime,[rJ.ISSUER]:this.issuer,[rJ.SUBJECT]:this.issuer,[rJ.NOT_BEFORE]:n,[rJ.JWT_ID]:e.createNewGuid()};return this.jwt=a.sign(o,this.privateKey,{header:i}),this.jwt}isExpired(){return this.expirationTime<e$()}static parseCertificate(e){let t;let r=/-----BEGIN CERTIFICATE-----\r*\n(.+?)\r*\n-----END CERTIFICATE-----/gs,n=[];for(;null!==(t=r.exec(e));)n.push(t[1].replace(/\r*\n/g,d.EMPTY_STRING));return n}}let nP="@azure/msal-node",nD="3.2.3";class nM extends rd{constructor(e){super(e)}async acquireToken(e){this.logger.info("in acquireToken call in username-password client");let t=e$(),r=await this.executeTokenRequest(this.authority,e),n=new rP(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return n.validateTokenResponse(r.body),n.handleServerTokenResponse(r.body,this.authority,t,e)}async executeTokenRequest(e,t){let r=this.createTokenQueryParameters(t),n=tD.appendQueryString(e.tokenEndpoint,r),i=await this.createTokenRequestBody(t),o=this.createTokenRequestHeaders({credential:t.username,type:t0.UPN}),s={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return this.executePostToTokenEndpoint(n,i,o,s,t.correlationId)}async createTokenRequestBody(e){let t=new re;t.addClientId(this.config.authOptions.clientId),t.addUsername(e.username),t.addPassword(e.password),t.addScopes(e.scopes),t.addResponseTypeForTokenAndIdToken(),t.addGrantType(b.RESOURCE_OWNER_PASSWORD_GRANT),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager);let r=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(r),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret);let n=this.config.clientCredentials.clientAssertion;return n&&(t.addClientAssertion(await rD(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)),(!tv.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.username&&t.addCcsUpn(e.username),t.createQueryString()}}class nk{constructor(e){this.config=function({auth:e,broker:t,cache:r,system:n,telemetry:i}){let o={...nv,networkClient:new r8(n?.proxyUrl,n?.customAgentOptions),loggerOptions:n?.loggerOptions||nE,disableInternalRetries:n?.disableInternalRetries||!1};if(e.clientCertificate&&!e.clientCertificate.thumbprint&&!e.clientCertificate.thumbprintSha256)throw ng.createStateNotFoundError();return{auth:{...ny,...e},broker:{...t},cache:{...n_,...r},system:{...o,...n},telemetry:{...nb,...i}}}(e),this.cryptoProvider=new nC,this.logger=new eB(this.config.system.loggerOptions,nP,nD),this.storage=new nO(this.logger,this.config.auth.clientId,this.cryptoProvider,function(e){let t;let r=e.cloudDiscoveryMetadata;if(r)try{t=JSON.parse(r)}catch(e){throw tE(to)}return{canonicalAuthority:e.authority?rs(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:t}}(this.config.auth)),this.tokenCache=new nN(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(e){this.logger.info("getAuthCodeUrl called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e),responseMode:e.responseMode||v.QUERY,authenticationScheme:N.BEARER},r=new rM(await this.buildOauthClientConfiguration(t.authority,t.correlationId,t.redirectUri,void 0,void 0,e.azureCloudOptions));return this.logger.verbose("Auth code client created",t.correlationId),r.getAuthCodeUrl(t)}async acquireTokenByCode(e,t){this.logger.info("acquireTokenByCode called"),e.state&&t&&(this.logger.info("acquireTokenByCode - validating state"),this.validateState(e.state,t.state||""),t={...t,state:""});let r={...e,...await this.initializeBaseRequest(e),authenticationScheme:N.BEARER},n=this.initializeServerTelemetryManager(rQ.acquireTokenByCode,r.correlationId);try{let i=await this.buildOauthClientConfiguration(r.authority,r.correlationId,r.redirectUri,n,void 0,e.azureCloudOptions),o=new rM(i);return this.logger.verbose("Auth code client created",r.correlationId),await o.acquireToken(r,t)}catch(e){throw e instanceof H&&e.setCorrelationId(r.correlationId),n.cacheFailedRequest(e),e}}async acquireTokenByRefreshToken(e){this.logger.info("acquireTokenByRefreshToken called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e),authenticationScheme:N.BEARER},r=this.initializeServerTelemetryManager(rQ.acquireTokenByRefreshToken,t.correlationId);try{let n=await this.buildOauthClientConfiguration(t.authority,t.correlationId,t.redirectUri||"",r,void 0,e.azureCloudOptions),i=new rk(n);return this.logger.verbose("Refresh token client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof H&&e.setCorrelationId(t.correlationId),r.cacheFailedRequest(e),e}}async acquireTokenSilent(e){let t={...e,...await this.initializeBaseRequest(e),forceRefresh:e.forceRefresh||!1},r=this.initializeServerTelemetryManager(rQ.acquireTokenSilent,t.correlationId,t.forceRefresh);try{let e=await this.buildOauthClientConfiguration(t.authority,t.correlationId,t.redirectUri||"",r,void 0,t.azureCloudOptions),n=new rL(e);this.logger.verbose("Silent flow client created",t.correlationId);try{return await this.tokenCache.overwriteCache(),await this.acquireCachedTokenSilent(t,n,e)}catch(r){if(r instanceof eU&&r.errorCode===eb)return new rk(e).acquireTokenByRefreshToken(t);throw r}}catch(e){throw e instanceof H&&e.setCorrelationId(t.correlationId),r.cacheFailedRequest(e),e}}async acquireCachedTokenSilent(e,t,r){let[n,i]=await t.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...f]});if(i===U.PROACTIVELY_REFRESHED){this.logger.info("ClientApplication:acquireCachedTokenSilent - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let t=new rk(r);try{await t.acquireTokenByRefreshToken(e)}catch{}}return n}async acquireTokenByUsernamePassword(e){this.logger.info("acquireTokenByUsernamePassword called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e)},r=this.initializeServerTelemetryManager(rQ.acquireTokenByUsernamePassword,t.correlationId);try{let n=await this.buildOauthClientConfiguration(t.authority,t.correlationId,"",r,void 0,e.azureCloudOptions),i=new nM(n);return this.logger.verbose("Username password client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof H&&e.setCorrelationId(t.correlationId),r.cacheFailedRequest(e),e}}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(e,t){if(!e)throw ng.createStateNotFoundError();if(e!==t)throw ex(Q)}getLogger(){return this.logger}setLogger(e){this.logger=e}async buildOauthClientConfiguration(e,t,r,n,i,o){this.logger.verbose("buildOauthClientConfiguration called",t);let s=o||this.config.auth.azureCloudOptions,a=await this.createAuthority(e,t,i,s);return this.logger.info(`Building oauth client configuration with the following authority: ${a.tokenEndpoint}.`,t),n?.updateRegionDiscoveryMetadata(a.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:r},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:t},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:n,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(a)},libraryInfo:{sku:rX.MSAL_SKU,version:nD,cpu:process.arch||d.EMPTY_STRING,os:process.platform||d.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(e){return this.developerProvidedClientAssertion&&(this.clientAssertion=nR.fromAssertion(await rD(this.developerProvidedClientAssertion,this.config.auth.clientId,e.tokenEndpoint))),this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,e.tokenEndpoint),assertionType:rX.JWT_BEARER_ASSERTION_TYPE}}async initializeBaseRequest(e){return this.logger.verbose("initializeRequestScopes called",e.correlationId),e.authenticationScheme&&e.authenticationScheme===N.POP&&this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",e.correlationId),e.authenticationScheme=N.BEARER,this.config.cache.claimsBasedCachingEnabled&&e.claims&&!tv.isEmptyObj(e.claims)&&(e.requestedClaimsHash=await this.cryptoProvider.hashString(e.claims)),{...e,scopes:[...e&&e.scopes||[],...f],correlationId:e&&e.correlationId||this.cryptoProvider.createNewGuid(),authority:e.authority||this.config.auth.authority}}initializeServerTelemetryManager(e,t,r){return new rU({clientId:this.config.auth.clientId,correlationId:t,apiId:e,forceRefresh:r||!1},this.storage)}async createAuthority(e,t,r,n){this.logger.verbose("createAuthority called",t);let i=ro.generateAuthority(e,n),o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:r,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return ra(i,this.config.system.networkClient,this.storage,o,this.logger,t)}clearCache(){this.storage.clear()}}class nL{async listenForAuthCode(e,t){if(this.server)throw ng.createLoopbackServerAlreadyExistsError();return new Promise((r,i)=>{this.server=n.createServer((n,o)=>{let s=n.url;if(s){if(s===d.FORWARD_SLASH){o.end(e||"Auth code was successfully acquired. You can close this window now.");return}}else{o.end(t||"Error occurred loading redirectUrl"),i(ng.createUnableToLoadRedirectUrlError());return}let a=this.getRedirectUri(),l=tP(new URL(s,a).search)||{};l.code&&(o.writeHead(h.REDIRECT,{location:a}),o.end()),l.error&&o.end(t||`Error occurred: ${l.error}`),r(l)}),this.server.listen(0,"127.0.0.1")})}getRedirectUri(){if(!this.server||!this.server.listening)throw ng.createNoLoopbackServerExistsError();let e=this.server.address();if(!e||"string"==typeof e||!e.port)throw this.closeServer(),ng.createInvalidLoopbackAddressTypeError();let t=e&&e.port;return`${rX.HTTP_PROTOCOL}${rX.LOCALHOST}:${t}`}closeServer(){this.server&&(this.server.close(),"function"==typeof this.server.closeAllConnections&&this.server.closeAllConnections(),this.server.unref(),this.server=void 0)}}class nU extends rd{constructor(e){super(e)}async acquireToken(e){let t=await this.getDeviceCode(e);e.deviceCodeCallback(t);let r=e$(),n=await this.acquireTokenWithDeviceCode(e,t),i=new rP(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(n),i.handleServerTokenResponse(n,this.authority,r,e)}async getDeviceCode(e){let t=this.createExtraQueryParameters(e),r=tD.appendQueryString(this.authority.deviceCodeEndpoint,t),n=this.createQueryString(e),i=this.createTokenRequestHeaders(),o={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return this.executePostRequestToDeviceCodeEndpoint(r,n,i,o,e.correlationId)}createExtraQueryParameters(e){let t=new re;return e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()}async executePostRequestToDeviceCodeEndpoint(e,t,r,n,i){let{body:{user_code:o,device_code:s,verification_uri:a,expires_in:l,interval:c,message:u}}=await this.sendPostRequest(n,e,{body:t,headers:r},i);return{userCode:o,deviceCode:s,verificationUri:a,expiresIn:l,interval:c,message:u}}createQueryString(e){let t=new re;return t.addScopes(e.scopes),t.addClientId(this.config.authOptions.clientId),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}continuePolling(e,t,r){if(r)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),ex(eu);if(t&&t<e&&e$()>t)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${t}`),ex(eT);if(e$()>e)throw t&&this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${t}`),this.logger.error(`Device code expired. Expiration time of device code was ${e}`),ex(ed);return!0}async acquireTokenWithDeviceCode(e,t){let r=this.createTokenQueryParameters(e),n=tD.appendQueryString(this.authority.tokenEndpoint,r),i=this.createTokenRequestBody(e,t),o=this.createTokenRequestHeaders(),s=e.timeout?e$()+e.timeout:void 0,a=e$()+t.expiresIn,l=1e3*t.interval;for(;this.continuePolling(a,s,e.cancel);){let t={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},r=await this.executePostToTokenEndpoint(n,i,o,t,e.correlationId);if(!r.body||!r.body.error)return this.logger.verbose("Authorization completed successfully. Polling stopped."),r.body;if(r.body.error===d.AUTHORIZATION_PENDING)this.logger.info("Authorization pending. Continue polling."),await function(e,t){return new Promise(t=>setTimeout(()=>t(void 0),e))}(l);else{var c;throw this.logger.info("Unexpected error in polling from the server"),new H(F,(c=r.body.error)?`${j[F]} ${c}`:j[F])}}throw this.logger.error("Polling stopped for unknown reasons."),ex(eh)}createTokenRequestBody(e,t){let r=new re;r.addScopes(e.scopes),r.addClientId(this.config.authOptions.clientId),r.addGrantType(b.DEVICE_CODE_GRANT),r.addDeviceCode(t.deviceCode);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();return r.addCorrelationId(n),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager),(!tv.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),r.createQueryString()}}class nx extends nk{constructor(e){super(e),this.config.broker.nativeBrokerPlugin&&(this.config.broker.nativeBrokerPlugin.isBrokerAvailable?(this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions)):this.logger.warning("NativeBroker implementation was provided but the broker is unavailable.")),this.skus=rU.makeExtraSkuString({libraryName:rX.MSAL_SKU,libraryVersion:nD})}async acquireTokenByDeviceCode(e){this.logger.info("acquireTokenByDeviceCode called",e.correlationId);let t=Object.assign(e,await this.initializeBaseRequest(e)),r=this.initializeServerTelemetryManager(rQ.acquireTokenByDeviceCode,t.correlationId);try{let n=await this.buildOauthClientConfiguration(t.authority,t.correlationId,"",r,void 0,e.azureCloudOptions),i=new nU(n);return this.logger.verbose("Device code client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof H&&e.setCorrelationId(t.correlationId),r.cacheFailedRequest(e),e}}async acquireTokenInteractive(e){let t=e.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace("acquireTokenInteractive called",t);let{openBrowser:r,successTemplate:n,errorTemplate:i,windowHandle:o,loopbackClient:s,...a}=e;if(this.nativeBrokerPlugin){let r={...a,clientId:this.config.auth.clientId,scopes:e.scopes||f,redirectUri:`${rX.HTTP_PROTOCOL}${rX.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:t,extraParameters:{...a.extraQueryParameters,...a.tokenQueryParameters,[t3]:this.skus},accountId:a.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(r,o)}let{verifier:l,challenge:c}=await this.cryptoProvider.generatePkceCodes(),u=s||new nL,h={},p=null;try{let o=u.listenForAuthCode(n,i).then(e=>{h=e}).catch(e=>{p=e}),s=await this.waitForRedirectUri(u),m={...a,correlationId:t,scopes:e.scopes||f,redirectUri:s,responseMode:v.QUERY,codeChallenge:c,codeChallengeMethod:E.S256},g=await this.getAuthCodeUrl(m);if(await r(g),await o,p)throw p;if(h.error)throw new rl(h.error,h.error_description,h.suberror);if(!h.code)throw ng.createNoAuthCodeInResponseError();let y=h.client_info,_={code:h.code,codeVerifier:l,clientInfo:y||d.EMPTY_STRING,...m};return await this.acquireTokenByCode(_)}finally{u.closeServer()}}async acquireTokenSilent(e){let t=e.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace("acquireTokenSilent called",t),this.nativeBrokerPlugin){let r={...e,clientId:this.config.auth.clientId,scopes:e.scopes||f,redirectUri:`${rX.HTTP_PROTOCOL}${rX.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:t,extraParameters:{...e.tokenQueryParameters,[t3]:this.skus},accountId:e.account.nativeAccountId,forceRefresh:e.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(r)}return super.acquireTokenSilent(e)}async signOut(e){if(this.nativeBrokerPlugin&&e.account.nativeAccountId){let t={clientId:this.config.auth.clientId,accountId:e.account.nativeAccountId,correlationId:e.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(t)}await this.getTokenCache().removeAccount(e.account)}async getAllAccounts(){if(this.nativeBrokerPlugin){let e=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,e)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(e){return new Promise((t,r)=>{let n=0,i=setInterval(()=>{if(r0.TIMEOUT_MS/r0.INTERVAL_MS<n){clearInterval(i),r(ng.createLoopbackServerTimeoutError());return}try{let r=e.getRedirectUri();clearInterval(i),t(r);return}catch(e){if(e instanceof H&&e.errorCode===nm.noLoopbackServerExists.code){n++;return}clearInterval(i),r(e);return}},r0.INTERVAL_MS)})}}class nF extends rd{constructor(e,t){super(e),this.appTokenProvider=t}async acquireToken(e){if(e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority);let[t,r]=await this.getCachedAuthenticationResult(e,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);return t?(r===U.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.executeTokenRequest(e,this.authority,!0)),t):this.executeTokenRequest(e,this.authority)}async getCachedAuthenticationResult(e,t,r,n,i,o){let s;let a=U.NOT_APPLICABLE;t.serializableCache&&t.persistencePlugin&&(s=new rR(t.serializableCache,!1),await t.persistencePlugin.beforeCacheAccess(s));let l=this.readAccessTokenFromCache(n,t.managedIdentityId?.id||t.authOptions.clientId,new tb(e.scopes||[]),i);return(t.serializableCache&&t.persistencePlugin&&s&&await t.persistencePlugin.afterCacheAccess(s),l)?ez(l.expiresOn,t.systemOptions?.tokenRenewalOffsetSeconds||300)?(o?.setCacheOutcome(U.CACHED_ACCESS_TOKEN_EXPIRED),[null,U.CACHED_ACCESS_TOKEN_EXPIRED]):(l.refreshOn&&ez(l.refreshOn.toString(),0)&&(a=U.PROACTIVELY_REFRESHED,o?.setCacheOutcome(U.PROACTIVELY_REFRESHED)),[await rP.generateAuthenticationResult(r,n,{account:null,idToken:null,accessToken:l,refreshToken:null,appMetadata:null},!0,e),a]):(o?.setCacheOutcome(U.NO_CACHED_ACCESS_TOKEN),[null,U.NO_CACHED_ACCESS_TOKEN])}readAccessTokenFromCache(e,t,r,n){let i={homeAccountId:d.EMPTY_STRING,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:S.ACCESS_TOKEN,clientId:t,realm:e.tenant,target:tb.createSearchScopes(r.asArray())},o=n.getAccessTokensByFilter(i);if(o.length<1)return null;if(o.length>1)throw ex(en);return o[0]}async executeTokenRequest(e,t,r){let n,i;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let t={correlationId:e.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:e.scopes,claims:e.claims};i=e$();let r=await this.appTokenProvider(t);n={access_token:r.accessToken,expires_in:r.expiresInSeconds,refresh_in:r.refreshInSeconds,token_type:N.BEARER}}else{let r=this.createTokenQueryParameters(e),o=tD.appendQueryString(t.tokenEndpoint,r),s=await this.createTokenRequestBody(e),a=this.createTokenRequestHeaders(),l={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};this.logger.info("Sending token request to endpoint: "+t.tokenEndpoint),i=e$();let c=await this.executePostToTokenEndpoint(o,s,a,l,e.correlationId);(n=c.body).status=c.status}let o=new rP(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n,r),await o.handleServerTokenResponse(n,this.authority,i,e)}async createTokenRequestBody(e){let t=new re;t.addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes,!1),t.addGrantType(b.CLIENT_CREDENTIALS_GRANT),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager);let r=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(r),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret);let n=e.clientAssertion||this.config.clientCredentials.clientAssertion;return n&&(t.addClientAssertion(await rD(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)),(!tv.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}}class nB extends rd{constructor(e){super(e)}async acquireToken(e){if(this.scopeSet=new tb(e.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(e.oboAssertion),e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(e)}catch(t){return await this.executeTokenRequest(e,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(e){let t;let r=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,e);if(r){if(ez(r.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(U.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),ex(eb)}else throw this.serverTelemetryManager?.setCacheOutcome(U.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),ex(eb);let n=this.readIdTokenFromCacheForOBO(r.homeAccountId),i=null;if(n){let e=(t=eY(n.secret,nw.base64Decode)).oid||t.sub,r={homeAccountId:n.homeAccountId,environment:n.environment,tenantId:n.realm,username:d.EMPTY_STRING,localAccountId:e||d.EMPTY_STRING};i=this.cacheManager.readAccountFromCache(r)}return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),rP.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:i,accessToken:r,idToken:n,refreshToken:null,appMetadata:null},!0,e,t)}readIdTokenFromCacheForOBO(e){let t={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:S.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},r=this.cacheManager.getIdTokensByFilter(t);return Object.values(r).length<1?null:Object.values(r)[0]}readAccessTokenFromCacheForOBO(e,t){let r=t.authenticationScheme||N.BEARER,n={credentialType:r.toLowerCase()!==N.BEARER.toLowerCase()?S.ACCESS_TOKEN_WITH_AUTH_SCHEME:S.ACCESS_TOKEN,clientId:e,target:tb.createSearchScopes(this.scopeSet.asArray()),tokenType:r,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash,userAssertionHash:this.userAssertionHash},i=this.cacheManager.getAccessTokensByFilter(n),o=i.length;if(o<1)return null;if(o>1)throw ex(en);return i[0]}async executeTokenRequest(e,t,r){let n=this.createTokenQueryParameters(e),i=tD.appendQueryString(t.tokenEndpoint,n),o=await this.createTokenRequestBody(e),s=this.createTokenRequestHeaders(),a={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},l=e$(),c=await this.executePostToTokenEndpoint(i,o,s,a,e.correlationId),u=new rP(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return u.validateTokenResponse(c.body),await u.handleServerTokenResponse(c.body,this.authority,l,e,void 0,r)}async createTokenRequestBody(e){let t=new re;t.addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes),t.addGrantType(b.JWT_BEARER),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager);let r=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(r),t.addRequestTokenUse("on_behalf_of"),t.addOboAssertion(e.oboAssertion),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret);let n=this.config.clientCredentials.clientAssertion;return n&&(t.addClientAssertion(await rD(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}}class nj extends nk{constructor(e){super(e);let t=!!this.config.auth.clientSecret,r=!!this.config.auth.clientAssertion,n=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(this.appTokenProvider)return;if(t&&r||r&&n||t&&n)throw ex(ev);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(n)this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?nR.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):nR.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);else throw ex(ev);this.appTokenProvider=void 0}SetAppTokenProvider(e){this.appTokenProvider=e}async acquireTokenByClientCredential(e){let t,r;this.logger.info("acquireTokenByClientCredential called",e.correlationId),e.clientAssertion&&(t={assertion:await rD(e.clientAssertion,this.config.auth.clientId),assertionType:rX.JWT_BEARER_ASSERTION_TYPE});let n=await this.initializeBaseRequest(e),i={...n,scopes:n.scopes.filter(e=>!f.includes(e))},o={...e,...i,clientAssertion:t},s=new tD(o.authority).getUrlComponents().PathSegments[0];if(Object.values(g).includes(s))throw ex(eR);let a=process.env.MSAL_FORCE_REGION;"DisableMsalForceRegion"!==o.azureRegion&&(r=!o.azureRegion&&a?a:o.azureRegion);let l={azureRegion:r,environmentRegion:process.env.REGION_NAME},c=this.initializeServerTelemetryManager(rQ.acquireTokenByClientCredential,o.correlationId,o.skipCache);try{let t=await this.buildOauthClientConfiguration(o.authority,o.correlationId,"",c,l,e.azureCloudOptions),r=new nF(t,this.appTokenProvider);return this.logger.verbose("Client credential client created",o.correlationId),await r.acquireToken(o)}catch(e){throw e instanceof H&&e.setCorrelationId(o.correlationId),c.cacheFailedRequest(e),e}}async acquireTokenOnBehalfOf(e){this.logger.info("acquireTokenOnBehalfOf called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e)};try{let r=await this.buildOauthClientConfiguration(t.authority,t.correlationId,"",void 0,void 0,e.azureCloudOptions),n=new nB(r);return this.logger.verbose("On behalf of client created",t.correlationId),await n.acquireToken(t)}catch(e){throw e instanceof H&&e.setCorrelationId(t.correlationId),e}}}let nq={MANAGED_IDENTITY_CLIENT_ID:"client_id",MANAGED_IDENTITY_OBJECT_ID:"object_id",MANAGED_IDENTITY_RESOURCE_ID_IMDS:"msi_res_id",MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS:"mi_res_id"};class nH{constructor(e,t,r,n){this.logger=e,this.nodeStorage=t,this.networkClient=r,this.cryptoProvider=n}async getServerTokenResponseAsync(e,t,r,n){return this.getServerTokenResponse(e)}getServerTokenResponse(e){let t,r;return e.body.expires_on&&(function(e){if("string"!=typeof e)return!1;let t=new Date(e);return!isNaN(t.getTime())&&t.toISOString()===e}(e.body.expires_on)&&(e.body.expires_on=new Date(e.body.expires_on).getTime()/1e3),(r=e.body.expires_on-e$())>7200&&(t=r/2)),{status:e.status,access_token:e.body.access_token,expires_in:r,scope:e.body.resource,token_type:e.body.token_type,refresh_in:t,correlation_id:e.body.correlation_id||e.body.correlationId,error:"string"==typeof e.body.error?e.body.error:e.body.error?.code,error_description:e.body.message||("string"==typeof e.body.error?e.body.error_description:e.body.error?.message),error_codes:e.body.error_codes,timestamp:e.body.timestamp,trace_id:e.body.trace_id}}async acquireTokenWithManagedIdentity(e,t,r,n){let i;let o=this.createRequest(e.resource,t),s=o.headers;s[m.CONTENT_TYPE]=d.URL_FORM_CONTENT_TYPE;let a={headers:s};Object.keys(o.bodyParameters).length&&(a.body=o.computeParametersBodyString());let l=e$();try{i=o.httpMethod===rW.POST?await this.networkClient.sendPostRequestAsync(o.computeUri(),a):await this.networkClient.sendGetRequestAsync(o.computeUri(),a)}catch(e){if(e instanceof H)throw e;throw ex(G)}let c=new rP(t.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),u=await this.getServerTokenResponseAsync(i,this.networkClient,o,a);return c.validateTokenResponse(u,n),c.handleServerTokenResponse(u,r,l,e)}getManagedIdentityUserAssignedIdQueryParameterKey(e,t){switch(e){case rz.USER_ASSIGNED_CLIENT_ID:return this.logger.info("[Managed Identity] Adding user assigned client id to the request."),nq.MANAGED_IDENTITY_CLIENT_ID;case rz.USER_ASSIGNED_RESOURCE_ID:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),t?nq.MANAGED_IDENTITY_RESOURCE_ID_IMDS:nq.MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS;case rz.USER_ASSIGNED_OBJECT_ID:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),nq.MANAGED_IDENTITY_OBJECT_ID;default:throw nd(r7)}}}nH.getValidatedEnvVariableUrlString=(e,t,r,n)=>{try{return new tD(t).urlString}catch(t){throw n.info(`[Managed Identity] ${r} managed identity is unavailable because the '${e}' environment variable is malformed.`),nd(nl[e])}};class nY{constructor(e,t){this.httpMethod=e,this._baseEndpoint=t,this.headers={},this.bodyParameters={},this.queryParameters={}}computeUri(){let e=new re;this.queryParameters&&e.addExtraQueryParameters(this.queryParameters);let t=e.createQueryString();return tD.appendQueryString(this._baseEndpoint,t)}computeParametersBodyString(){let e=new re;return this.bodyParameters&&e.addExtraQueryParameters(this.bodyParameters),e.createQueryString()}}class nV extends nH{constructor(e,t,r,n,i,o){super(e,t,r,n),this.identityEndpoint=i,this.identityHeader=o}static getEnvironmentVariables(){return[process.env[rV.IDENTITY_ENDPOINT],process.env[rV.IDENTITY_HEADER]]}static tryCreate(e,t,r,n){let[i,o]=nV.getEnvironmentVariables();if(!i||!o)return e.info(`[Managed Identity] ${r$.APP_SERVICE} managed identity is unavailable because one or both of the '${rV.IDENTITY_HEADER}' and '${rV.IDENTITY_ENDPOINT}' environment variables are not defined.`),null;let s=nV.getValidatedEnvVariableUrlString(rV.IDENTITY_ENDPOINT,i,r$.APP_SERVICE,e);return e.info(`[Managed Identity] Environment variables validation passed for ${r$.APP_SERVICE} managed identity. Endpoint URI: ${s}. Creating ${r$.APP_SERVICE} managed identity.`),new nV(e,t,r,n,i,o)}createRequest(e,t){let r=new nY(rW.GET,this.identityEndpoint);return r.headers["X-IDENTITY-HEADER"]=this.identityHeader,r.queryParameters[rq]="2019-08-01",r.queryParameters[rH]=e,t.idType!==rz.SYSTEM_ASSIGNED&&(r.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(t.idType)]=t.id),r}}let n$="http://127.0.0.1:40342/metadata/identity/oauth2/token",nz="N/A: himds executable exists",nW={win32:`${process.env.ProgramData}\\AzureConnectedMachineAgent\\Tokens\\`,linux:"/var/opt/azcmagent/tokens/"},nG={win32:`${process.env.ProgramFiles}\\AzureConnectedMachineAgent\\himds.exe`,linux:"/opt/azcmagent/bin/himds"};class nK extends nH{constructor(e,t,r,n,i){super(e,t,r,n),this.identityEndpoint=i}static getEnvironmentVariables(){let e=process.env[rV.IDENTITY_ENDPOINT],t=process.env[rV.IMDS_ENDPOINT];if(!e||!t){let r=nG[process.platform];try{l.accessSync(r,l.constants.F_OK|l.constants.R_OK),e=n$,t=nz}catch(e){}}return[e,t]}static tryCreate(e,t,r,n,i){let[o,s]=nK.getEnvironmentVariables();if(!o||!s)return e.info(`[Managed Identity] ${r$.AZURE_ARC} managed identity is unavailable through environment variables because one or both of '${rV.IDENTITY_ENDPOINT}' and '${rV.IMDS_ENDPOINT}' are not defined. ${r$.AZURE_ARC} managed identity is also unavailable through file detection.`),null;if(s===nz)e.info(`[Managed Identity] ${r$.AZURE_ARC} managed identity is available through file detection. Defaulting to known ${r$.AZURE_ARC} endpoint: ${n$}. Creating ${r$.AZURE_ARC} managed identity.`);else{let t=nK.getValidatedEnvVariableUrlString(rV.IDENTITY_ENDPOINT,o,r$.AZURE_ARC,e);t.endsWith("/")&&t.slice(0,-1),nK.getValidatedEnvVariableUrlString(rV.IMDS_ENDPOINT,s,r$.AZURE_ARC,e),e.info(`[Managed Identity] Environment variables validation passed for ${r$.AZURE_ARC} managed identity. Endpoint URI: ${t}. Creating ${r$.AZURE_ARC} managed identity.`)}if(i.idType!==rz.SYSTEM_ASSIGNED)throw nd(nr);return new nK(e,t,r,n,o)}createRequest(e){let t=new nY(rW.GET,this.identityEndpoint.replace("localhost","127.0.0.1"));return t.headers[rB]="true",t.queryParameters[rq]="2019-11-01",t.queryParameters[rH]=e,t}async getServerTokenResponseAsync(e,t,r,n){let i;if(e.status===h.UNAUTHORIZED){let o,s;let a=e.headers["www-authenticate"];if(!a)throw nd(ns);if(!a.includes("Basic realm="))throw nd(na);let u=a.split("Basic realm=")[1];if(!nW.hasOwnProperty(process.platform))throw nd(nt);let d=nW[process.platform],h=c.basename(u);if(!h.endsWith(".key"))throw nd(r3);if(d+h!==u)throw nd(r9);try{o=await l.statSync(u).size}catch(e){throw nd(no)}if(o>4096)throw nd(ne);try{s=l.readFileSync(u,"utf-8")}catch(e){throw nd(no)}let f=`Basic ${s}`;this.logger.info("[Managed Identity] Adding authorization header to the request."),r.headers.Authorization=f;try{i=await t.sendGetRequestAsync(r.computeUri(),n)}catch(e){if(e instanceof H)throw e;throw ex(G)}}return this.getServerTokenResponse(i||e)}}class nZ extends nH{constructor(e,t,r,n,i){super(e,t,r,n),this.msiEndpoint=i}static getEnvironmentVariables(){return[process.env[rV.MSI_ENDPOINT]]}static tryCreate(e,t,r,n,i){let[o]=nZ.getEnvironmentVariables();if(!o)return e.info(`[Managed Identity] ${r$.CLOUD_SHELL} managed identity is unavailable because the '${rV.MSI_ENDPOINT} environment variable is not defined.`),null;let s=nZ.getValidatedEnvVariableUrlString(rV.MSI_ENDPOINT,o,r$.CLOUD_SHELL,e);if(e.info(`[Managed Identity] Environment variable validation passed for ${r$.CLOUD_SHELL} managed identity. Endpoint URI: ${s}. Creating ${r$.CLOUD_SHELL} managed identity.`),i.idType!==rz.SYSTEM_ASSIGNED)throw nd(nn);return new nZ(e,t,r,n,o)}createRequest(e){let t=new nY(rW.POST,this.msiEndpoint);return t.headers[rB]="true",t.bodyParameters[rH]=e,t}}let nX="/metadata/identity/oauth2/token",nQ=`http://169.254.169.254${nX}`;class nJ extends nH{constructor(e,t,r,n,i){super(e,t,r,n),this.identityEndpoint=i}static tryCreate(e,t,r,n){let i;return process.env[rV.AZURE_POD_IDENTITY_AUTHORITY_HOST]?(e.info(`[Managed Identity] Environment variable ${rV.AZURE_POD_IDENTITY_AUTHORITY_HOST} for ${r$.IMDS} returned endpoint: ${process.env[rV.AZURE_POD_IDENTITY_AUTHORITY_HOST]}`),i=nJ.getValidatedEnvVariableUrlString(rV.AZURE_POD_IDENTITY_AUTHORITY_HOST,`${process.env[rV.AZURE_POD_IDENTITY_AUTHORITY_HOST]}${nX}`,r$.IMDS,e)):(e.info(`[Managed Identity] Unable to find ${rV.AZURE_POD_IDENTITY_AUTHORITY_HOST} environment variable for ${r$.IMDS}, using the default endpoint.`),i=nQ),new nJ(e,t,r,n,i)}createRequest(e,t){let r=new nY(rW.GET,this.identityEndpoint);return r.headers[rB]="true",r.queryParameters[rq]="2018-02-01",r.queryParameters[rH]=e,t.idType!==rz.SYSTEM_ASSIGNED&&(r.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(t.idType,!0)]=t.id),r}}class n0 extends nH{constructor(e,t,r,n,i,o){super(e,t,r,n),this.identityEndpoint=i,this.identityHeader=o}static getEnvironmentVariables(){return[process.env[rV.IDENTITY_ENDPOINT],process.env[rV.IDENTITY_HEADER],process.env[rV.IDENTITY_SERVER_THUMBPRINT]]}static tryCreate(e,t,r,n,i){let[o,s,a]=n0.getEnvironmentVariables();if(!o||!s||!a)return e.info(`[Managed Identity] ${r$.SERVICE_FABRIC} managed identity is unavailable because one or all of the '${rV.IDENTITY_HEADER}', '${rV.IDENTITY_ENDPOINT}' or '${rV.IDENTITY_SERVER_THUMBPRINT}' environment variables are not defined.`),null;let l=n0.getValidatedEnvVariableUrlString(rV.IDENTITY_ENDPOINT,o,r$.SERVICE_FABRIC,e);return e.info(`[Managed Identity] Environment variables validation passed for ${r$.SERVICE_FABRIC} managed identity. Endpoint URI: ${l}. Creating ${r$.SERVICE_FABRIC} managed identity.`),i.idType!==rz.SYSTEM_ASSIGNED&&e.warning(`[Managed Identity] ${r$.SERVICE_FABRIC} user assigned managed identity is configured in the cluster, not during runtime. See also: https://learn.microsoft.com/en-us/azure/service-fabric/configure-existing-cluster-enable-managed-identity-token-service.`),new n0(e,t,r,n,o,s)}createRequest(e,t){let r=new nY(rW.GET,this.identityEndpoint);return r.headers[rj]=this.identityHeader,r.queryParameters[rq]="2019-07-01-preview",r.queryParameters[rH]=e,t.idType!==rz.SYSTEM_ASSIGNED&&(r.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(t.idType)]=t.id),r}}class n1 extends nH{constructor(e,t,r,n,i,o){super(e,t,r,n),this.msiEndpoint=i,this.secret=o}static getEnvironmentVariables(){return[process.env[rV.MSI_ENDPOINT],process.env[rV.MSI_SECRET]]}static tryCreate(e,t,r,n){let[i,o]=n1.getEnvironmentVariables();if(!i||!o)return e.info(`[Managed Identity] ${r$.MACHINE_LEARNING} managed identity is unavailable because one or both of the '${rV.MSI_ENDPOINT}' and '${rV.MSI_SECRET}' environment variables are not defined.`),null;let s=n1.getValidatedEnvVariableUrlString(rV.MSI_ENDPOINT,i,r$.MACHINE_LEARNING,e);return e.info(`[Managed Identity] Environment variables validation passed for ${r$.MACHINE_LEARNING} managed identity. Endpoint URI: ${s}. Creating ${r$.MACHINE_LEARNING} managed identity.`),new n1(e,t,r,n,i,o)}createRequest(e,t){let r=new nY(rW.GET,this.msiEndpoint);return r.headers[rB]="true",r.headers[rj]=this.secret,r.queryParameters[rq]="2017-09-01",r.queryParameters[rH]=e,t.idType!==rz.SYSTEM_ASSIGNED&&(r.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(t.idType)]=t.id),r}}class n2{constructor(e,t,r,n){this.logger=e,this.nodeStorage=t,this.networkClient=r,this.cryptoProvider=n}async sendManagedIdentityTokenRequest(e,t,r,n){return n2.identitySource||(n2.identitySource=this.selectManagedIdentitySource(this.logger,this.nodeStorage,this.networkClient,this.cryptoProvider,t)),n2.identitySource.acquireTokenWithManagedIdentity(e,t,r,n)}allEnvironmentVariablesAreDefined(e){return Object.values(e).every(e=>void 0!==e)}getManagedIdentitySource(){return n2.sourceName=this.allEnvironmentVariablesAreDefined(n0.getEnvironmentVariables())?r$.SERVICE_FABRIC:this.allEnvironmentVariablesAreDefined(nV.getEnvironmentVariables())?r$.APP_SERVICE:this.allEnvironmentVariablesAreDefined(n1.getEnvironmentVariables())?r$.MACHINE_LEARNING:this.allEnvironmentVariablesAreDefined(nZ.getEnvironmentVariables())?r$.CLOUD_SHELL:this.allEnvironmentVariablesAreDefined(nK.getEnvironmentVariables())?r$.AZURE_ARC:r$.DEFAULT_TO_IMDS,n2.sourceName}selectManagedIdentitySource(e,t,r,n,i){let o=n0.tryCreate(e,t,r,n,i)||nV.tryCreate(e,t,r,n)||n1.tryCreate(e,t,r,n)||nZ.tryCreate(e,t,r,n,i)||nK.tryCreate(e,t,r,n,i)||nJ.tryCreate(e,t,r,n);if(!o)throw nd(ni);return o}}class n8{constructor(e){this.config=function({managedIdentityIdParams:e,system:t}){let r;let n=new nh(e),i=t?.loggerOptions||nE;return r=t?.networkClient?t.networkClient:new r8(t?.proxyUrl,t?.customAgentOptions),t?.disableInternalRetries||(r=new np(r,new nf(3,1e3,r1))),{managedIdentityId:n,system:{loggerOptions:i,networkClient:r}}}(e||{}),this.logger=new eB(this.config.system.loggerOptions,nP,nD);let t={canonicalAuthority:d.DEFAULT_AUTHORITY};n8.nodeStorage||(n8.nodeStorage=new nO(this.logger,this.config.managedIdentityId.id,eF,t)),this.networkClient=this.config.system.networkClient,this.cryptoProvider=new nC;let r={protocolMode:tN.AAD,knownAuthorities:[rY],cloudDiscoveryMetadata:"",authorityMetadata:""};this.fakeAuthority=new ro(rY,this.networkClient,n8.nodeStorage,r,this.logger,this.cryptoProvider.createNewGuid(),void 0,!0),this.fakeClientCredentialClient=new nF({authOptions:{clientId:this.config.managedIdentityId.id,authority:this.fakeAuthority}}),this.managedIdentityClient=new n2(this.logger,n8.nodeStorage,this.networkClient,this.cryptoProvider)}async acquireToken(e){if(!e.resource)throw tE(e3);let t={forceRefresh:e.forceRefresh,resource:e.resource.replace("/.default",""),scopes:[e.resource.replace("/.default","")],authority:this.fakeAuthority.canonicalAuthority,correlationId:this.cryptoProvider.createNewGuid()};if(e.claims||t.forceRefresh)return this.managedIdentityClient.sendManagedIdentityTokenRequest(t,this.config.managedIdentityId,this.fakeAuthority);let[r,n]=await this.fakeClientCredentialClient.getCachedAuthenticationResult(t,this.config,this.cryptoProvider,this.fakeAuthority,n8.nodeStorage);return r?(n===U.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.managedIdentityClient.sendManagedIdentityTokenRequest(t,this.config.managedIdentityId,this.fakeAuthority,!0)),r):this.managedIdentityClient.sendManagedIdentityTokenRequest(t,this.config.managedIdentityId,this.fakeAuthority)}getManagedIdentitySource(){return n2.sourceName||this.managedIdentityClient.getManagedIdentitySource()}}class n5{constructor(e,t){this.client=e,this.partitionManager=t}async beforeCacheAccess(e){let t=await this.partitionManager.getKey(),r=await this.client.get(t);e.tokenCache.deserialize(r)}async afterCacheAccess(e){if(e.cacheHasChanged){let t;let r=Object.values(e.tokenCache.getKVStore()).filter(e=>tR.isAccountEntity(e));if(r.length>0){let e=r[0];t=await this.partitionManager.extractKey(e)}else t=await this.partitionManager.getKey();await this.client.set(t,e.tokenCache.serialize())}}}t.AuthError=H,t.AuthErrorCodes=B,t.AuthErrorMessage=q,t.AzureCloudInstance=eH,t.ClientApplication=nk,t.ClientAssertion=nR,t.ClientAuthError=eU,t.ClientAuthErrorCodes=eM,t.ClientAuthErrorMessage=eL,t.ClientConfigurationError=t_,t.ClientConfigurationErrorCodes=tm,t.ClientConfigurationErrorMessage=ty,t.ClientCredentialClient=nF,t.ConfidentialClientApplication=nj,t.CryptoProvider=nC,t.DeviceCodeClient=nU,t.DistributedCachePlugin=n5,t.InteractionRequiredAuthError=rS,t.InteractionRequiredAuthErrorCodes=rE,t.InteractionRequiredAuthErrorMessage=rw,t.Logger=eB,t.ManagedIdentityApplication=n8,t.ManagedIdentitySourceNames=r$,t.OnBehalfOfClient=nB,t.PromptValue=_,t.ProtocolMode=tN,t.PublicClientApplication=nx,t.ResponseMode=v,t.ServerError=rl,t.TokenCache=nN,t.TokenCacheContext=rR,t.UsernamePasswordClient=nM,t.internals=rF,t.version=nD},99947:(e,t,r)=>{e.exports=r(68337)},60436:(e,t,r)=>{"use strict";let{EventEmitter:n}=r(78474),i=r(23481)("mssql:base"),{parseSqlConnectionString:o}=r(87822),s=r(43092),{IDS:a}=r(69942),l=r(74643),c=r(57622),u=r(23861),{MSSQLError:d}=r(47722);class h extends n{constructor(e,t){if(super(),a.add(this,"ConnectionPool"),i("pool(%d): created",a.get(this)),this._connectStack=[],this._closeStack=[],this._connected=!1,this._connecting=!1,this._healthy=!1,"string"==typeof e)try{this.config=this.constructor.parseConnectionString(e)}catch(e){if("function"==typeof t)return setImmediate(t,e);throw e}else this.config=u(e);this.config.port=this.config.port||1433,this.config.options=this.config.options||{},this.config.stream=this.config.stream||!1,this.config.parseJSON=this.config.parseJSON||!1,this.config.arrayRowMode=this.config.arrayRowMode||!1,this.config.validateConnection=!("validateConnection"in this.config)||this.config.validateConnection;let r=/^(.*)\\(.*)$/.exec(this.config.server);if(r&&(this.config.server=r[1],this.config.options.instanceName=r[2]),void 0!==this.config.options.useColumnNames&&!0!==this.config.options.useColumnNames){let e=new d("Invalid options `useColumnNames`, use `arrayRowMode` instead");if("function"==typeof t)return setImmediate(t,e);throw e}"function"==typeof t&&this.connect(t)}get connected(){return this._connected}get connecting(){return this._connecting}get healthy(){return this._healthy}static parseConnectionString(e){return this._parseConnectionString(e)}static _parseAuthenticationType(e,t){switch(e.toLowerCase()){case"active directory integrated":if(t.includes("token"))return"azure-active-directory-access-token";if(["client id","client secret","tenant id"].every(e=>t.includes(e)))return"azure-active-directory-service-principal-secret";if(["client id","msi endpoint","msi secret"].every(e=>t.includes(e)))return"azure-active-directory-msi-app-service";if(["client id","msi endpoint"].every(e=>t.includes(e)))return"azure-active-directory-msi-vm";return"azure-active-directory-default";case"active directory password":return"azure-active-directory-password";case"ntlm":return"ntlm";default:return"default"}}static _parseConnectionString(e){let t=o(e,!0,!0);return Object.entries(t).reduce((e,[r,n])=>{switch(r){case"application name":case"asynchronous processing":case"attachdbfilename":case"column encryption setting":case"connection lifetime":case"connectretrycount":case"context connection":case"enlist":case"failover partner":case"integrated security":case"multipleactiveresultsets":case"network library":case"persist security info":case"poolblockingperiod":case"pooling":case"replication":case"transparentnetworkipresolution":case"type system version":case"user instance":break;case"applicationintent":Object.assign(e.options,{readOnlyIntent:"readonly"===n});break;case"authentication":Object.assign(e,{authentication_type:this._parseAuthenticationType(n,Object.keys(t))});break;case"connection timeout":Object.assign(e,{connectionTimeout:1e3*n});break;case"connectretryinterval":Object.assign(e.options,{connectionRetryInterval:1e3*n});break;case"client id":Object.assign(e,{clientId:n});break;case"client secret":Object.assign(e,{clientSecret:n});break;case"current language":Object.assign(e.options,{language:n});break;case"data source":{let t,r=n,i=1433;if(/^np:/i.test(r))throw Error("Connection via Named Pipes is not supported.");/^tcp:/i.test(r)&&(r=r.substr(4));let o=/^(.*)\\(.*)$/.exec(r);o&&(r=o[1].trim(),t=o[2].trim());let s=/^(.*),(.*)$/.exec(r);if(s)r=s[1].trim(),i=parseInt(s[2].trim(),10);else{let e=/^(.*),(.*)$/.exec(t);e&&(t=e[1].trim(),i=parseInt(e[2].trim(),10))}("."===r||"(.)"===r||"(localdb)"===r.toLowerCase()||"(local)"===r.toLowerCase())&&(r="localhost"),Object.assign(e,{port:i,server:r}),t&&Object.assign(e.options,{instanceName:t});break}case"encrypt":Object.assign(e.options,{encrypt:!!n});break;case"initial catalog":Object.assign(e,{database:n});break;case"max pool size":Object.assign(e.pool,{max:n});break;case"min pool size":Object.assign(e.pool,{min:n});break;case"msi endpoint":Object.assign(e,{msiEndpoint:n});break;case"msi secret":Object.assign(e,{msiSecret:n});break;case"multisubnetfailover":Object.assign(e.options,{multiSubnetFailover:n});break;case"packet size":Object.assign(e.options,{packetSize:n});break;case"password":Object.assign(e,{password:n});break;case"tenant id":Object.assign(e,{tenantId:n});break;case"token":Object.assign(e,{token:n});break;case"transaction binding":Object.assign(e.options,{enableImplicitTransactions:"implicit unbind"===n.toLowerCase()});break;case"trustservercertificate":Object.assign(e.options,{trustServerCertificate:n});break;case"user id":{let t,r=n,i=/^(.*)\\(.*)$/.exec(r);i&&(t=i[1],r=i[2]),t&&Object.assign(e,{domain:t}),r&&Object.assign(e,{user:r});break}case"workstation id":Object.assign(e.options,{workstationId:n});break;case"request timeout":Object.assign(e,{requestTimeout:parseInt(n,10)});break;case"stream":Object.assign(e,{stream:!!n});break;case"useutc":Object.assign(e.options,{useUTC:!!n});break;case"parsejson":Object.assign(e,{parseJSON:!!n})}return e},{options:{},pool:{}})}acquire(e,t){let r=c.Promise.resolve(this._acquire()).catch(e=>{throw this.emit("error",e),e});return"function"==typeof t?(r.then(e=>t(null,e,this.config)).catch(t),this):r}_acquire(){return this.pool?this.pool.destroyed?c.Promise.reject(new l("Connection is closing","ENOTOPEN")):this.pool.acquire().promise:c.Promise.reject(new l("Connection not yet open.","ENOTOPEN"))}release(e){return i("connection(%d): released",a.get(e)),this.pool&&this.pool.release(e),this}connect(e){return"function"==typeof e?(this._connect(e),this):new c.Promise((e,t)=>this._connect(r=>{if(r)return t(r);e(this)}))}_connect(e){if(this._connected)return i("pool(%d): already connected, executing connect callback immediately",a.get(this)),setImmediate(e,null,this);this._connectStack.push(e),this._connecting||(this._connecting=!0,i("pool(%d): connecting",a.get(this)),this._poolCreate().then(e=>(i("pool(%d): connected",a.get(this)),this._healthy=!0,this._poolDestroy(e).then(()=>{this.pool=new s.Pool(Object.assign({create:()=>this._poolCreate().then(e=>(this._healthy=!0,e)).catch(e=>{throw this.pool.numUsed()+this.pool.numFree()<=0&&(this._healthy=!1),e}),validate:this._poolValidate.bind(this),destroy:this._poolDestroy.bind(this),max:10,min:0,idleTimeoutMillis:3e4,propagateCreateError:!0},this.config.pool)),this._connecting=!1,this._connected=!0}))).then(()=>{this._connectStack.forEach(e=>{setImmediate(e,null,this)})}).catch(e=>{this._connecting=!1,this._connectStack.forEach(t=>{setImmediate(t,e)})}).then(()=>{this._connectStack=[]}))}get size(){return this.pool.numFree()+this.pool.numUsed()+this.pool.numPendingCreates()}get available(){return this.pool.numFree()}get pending(){return this.pool.numPendingAcquires()}get borrowed(){return this.pool.numUsed()}close(e){return"function"==typeof e?(this._close(e),this):new c.Promise((e,t)=>{this._close(r=>{if(r)return t(r);e(this)})})}_close(e){if(this._connecting&&(i("pool(%d): close called while connecting",a.get(this)),setImmediate(e,new l("Cannot close a pool while it is connecting"))),!this.pool)return i("pool(%d): already closed, executing close callback immediately",a.get(this)),setImmediate(e,null);this._closeStack.push(e),this.pool.destroyed||(this._connecting=this._connected=this._healthy=!1,this.pool.destroy().then(()=>{i("pool(%d): pool closed, removing pool reference and executing close callbacks",a.get(this)),this.pool=null,this._closeStack.forEach(e=>{setImmediate(e,null)})}).catch(e=>{this.pool=null,this._closeStack.forEach(t=>{setImmediate(t,e)})}).then(()=>{this._closeStack=[]}))}request(){return new c.driver.Request(this)}transaction(){return new c.driver.Transaction(this)}query(){if("string"==typeof arguments[0])return new c.driver.Request(this).query(arguments[0],arguments[1]);let e=Array.prototype.slice.call(arguments),t=e.shift();return new c.driver.Request(this)._template(t,e,"query")}batch(){if("string"==typeof arguments[0])return new c.driver.Request(this).batch(arguments[0],arguments[1]);let e=Array.prototype.slice.call(arguments),t=e.shift();return new c.driver.Request(this)._template(t,e,"batch")}}e.exports=h},41937:(e,t,r)=>{"use strict";let n=r(60436),i=r(26188),o=r(42516),s=r(95385),{ConnectionError:a,TransactionError:l,RequestError:c,PreparedStatementError:u,MSSQLError:d}=r(47722),h=r(57622),f=r(86643),p=r(14629),{TYPES:m}=r(87586),{connect:g,close:y,on:_,off:E,removeListener:v,query:b,batch:T}=r(38921);for(let t in e.exports={ConnectionPool:n,Transaction:s,Request:o,PreparedStatement:i,ConnectionError:a,TransactionError:l,RequestError:c,PreparedStatementError:u,MSSQLError:d,driver:h.driver,exports:{ConnectionError:a,TransactionError:l,RequestError:c,PreparedStatementError:u,MSSQLError:d,Table:f,ISOLATION_LEVEL:p,TYPES:m,MAX:65535,map:h.map,getTypeByValue:h.getTypeByValue,connect:g,close:y,on:_,removeListener:v,off:E,query:b,batch:T}},Object.defineProperty(e.exports,"Promise",{enumerable:!0,get:()=>h.Promise,set:e=>{h.Promise=e}}),Object.defineProperty(e.exports,"valueHandler",{enumerable:!0,value:h.valueHandler,writable:!1,configurable:!1}),m){let r=m[t];e.exports.exports[t]=r,e.exports.exports[t.toUpperCase()]=r}},26188:(e,t,r)=>{"use strict";let n=r(23481)("mssql:base"),{EventEmitter:i}=r(78474),{IDS:o,objectHasProperty:s}=r(69942),a=r(38921),{TransactionError:l,PreparedStatementError:c}=r(47722),u=r(57622),{TYPES:d,declare:h}=r(87586);class f extends i{constructor(e){super(),o.add(this,"PreparedStatement"),n("ps(%d): created",o.get(this)),this.parent=e||a.pool,this._handle=0,this.prepared=!1,this.parameters={}}get config(){return this.parent.config}get connected(){return this.parent.connected}acquire(e,t){return this._acquiredConnection?this._activeRequest?setImmediate(t,new l("Can't acquire connection for the request. There is another request in progress.","EREQINPROG")):(this._activeRequest=e,setImmediate(t,null,this._acquiredConnection,this._acquiredConfig)):setImmediate(t,new c("Statement is not prepared. Call prepare() first.","ENOTPREPARED")),this}release(e){return e===this._acquiredConnection&&(this._activeRequest=null),this}input(e,t){if(/--| |\/\*|\*\/|'/.test(e))throw new c(`SQL injection warning for param '${e}'`,"EINJECT");if(arguments.length<2)throw new c("Invalid number of arguments. 2 arguments expected.","EARGS");if(t instanceof Function&&(t=t()),s(this.parameters,e))throw new c(`The parameter name ${e} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[e]={name:e,type:t.type,io:1,length:t.length,scale:t.scale,precision:t.precision,tvpType:t.tvpType},this}replaceInput(e,t,r){return delete this.parameters[e],this.input(e,t,r)}output(e,t){if(/--| |\/\*|\*\/|'/.test(e))throw new c(`SQL injection warning for param '${e}'`,"EINJECT");if(arguments.length<2)throw new c("Invalid number of arguments. 2 arguments expected.","EARGS");if(t instanceof Function&&(t=t()),s(this.parameters,e))throw new c(`The parameter name ${e} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[e]={name:e,type:t.type,io:2,length:t.length,scale:t.scale,precision:t.precision},this}replaceOutput(e,t){return delete this.parameters[e],this.output(e,t)}prepare(e,t){return"function"==typeof t?(this._prepare(e,t),this):new u.Promise((t,r)=>{this._prepare(e,e=>{if(e)return r(e);t(this)})})}_prepare(e,t){if(n("ps(%d): prepare",o.get(this)),"function"==typeof e&&(t=e,e=void 0),this.prepared)return setImmediate(t,new c("Statement is already prepared.","EALREADYPREPARED"));this.statement=e||this.statement,this.parent.acquire(this,(e,r,i)=>{if(e)return t(e);this._acquiredConnection=r,this._acquiredConfig=i;let a=new u.driver.Request(this);a.stream=!1,a.output("handle",d.Int),a.input("params",d.NVarChar,(()=>{let e=[];for(let t in this.parameters){if(!s(this.parameters,t))continue;let r=this.parameters[t];e.push(`@${t} ${h(r.type,r)}${2===r.io?" output":""}`)}return e})().join(",")),a.input("stmt",d.NVarChar,this.statement),a.execute("sp_prepare",(e,r)=>{if(e)return this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,t(e);n("ps(%d): prepared",o.get(this)),this._handle=r.output.handle,this.prepared=!0,t(null)})})}execute(e,t){return this.stream||"function"==typeof t?this._execute(e,t):new u.Promise((t,r)=>{this._execute(e,(e,n)=>{if(e)return r(e);t(n)})})}_execute(e,t){let r=new u.driver.Request(this);for(let t in r.stream=this.stream,r.arrayRowMode=this.arrayRowMode,r.input("handle",d.Int,this._handle),this.parameters){if(!s(this.parameters,t))continue;let n=this.parameters[t];r.parameters[t]={name:t,type:n.type,io:n.io,value:e[t],length:n.length,scale:n.scale,precision:n.precision}}return r.execute("sp_execute",(e,r)=>{if(e)return t(e);t(null,r)}),r}unprepare(e){return"function"==typeof e?(this._unprepare(e),this):new u.Promise((e,t)=>{this._unprepare(r=>{if(r)return t(r);e()})})}_unprepare(e){if(n("ps(%d): unprepare",o.get(this)),!this.prepared)return setImmediate(e,new c("Statement is not prepared. Call prepare() first.","ENOTPREPARED"));if(this._activeRequest)return setImmediate(e,new l("Can't unprepare the statement. There is a request in progress.","EREQINPROG"));let t=new u.driver.Request(this);t.stream=!1,t.input("handle",d.Int,this._handle),t.execute("sp_unprepare",t=>t?e(t):(this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,this._handle=0,this.prepared=!1,n("ps(%d): unprepared",o.get(this)),e(null)))}}e.exports=f},42516:(e,t,r)=>{"use strict";let n=r(23481)("mssql:base"),{EventEmitter:i}=r(78474),{Readable:o}=r(57075),{IDS:s,objectHasProperty:a}=r(69942),l=r(38921),{RequestError:c,ConnectionError:u}=r(47722),{TYPES:d}=r(87586),h=r(57622);class f extends i{constructor(e){super(),s.add(this,"Request"),n("request(%d): created",s.get(this)),this.canceled=!1,this._paused=!1,this.parent=e||l.pool,this.parameters={},this.stream=null,this.arrayRowMode=null}get paused(){return this._paused}template(){let e=Array.prototype.slice.call(arguments),t=e.shift();return this._template(t,e)}_template(e,t,r){let n=[e[0]];for(let r=0;r<t.length;r++){let i=t[r];if(Array.isArray(i)){for(let e=0;e<i.length;e++)this.input(`param${r+1}_${e}`,i[e]),n.push(`@param${r+1}_${e}`),e<i.length-1&&n.push(", ");n.push(e[r+1])}else this.input(`param${r+1}`,i),n.push(`@param${r+1}`,e[r+1])}return r?this[r](n.join("")):n.join("")}input(e,t,r){if(/--| |\/\*|\*\/|'/.test(e))throw new c(`SQL injection warning for param '${e}'`,"EINJECT");if(arguments.length<2)throw new c("Invalid number of arguments. At least 2 arguments expected.","EARGS");if(2==arguments.length&&(r=t,t=h.getTypeByValue(r)),!r||"function"!=typeof r.valueOf||r instanceof Date||(r=r.valueOf()),void 0===r&&(r=null),"number"==typeof r&&isNaN(r)&&(r=null),t instanceof Function&&(t=t()),a(this.parameters,e))throw new c(`The parameter name ${e} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[e]={name:e,type:t.type,io:1,value:r,length:t.length,scale:t.scale,precision:t.precision,tvpType:t.tvpType},this}replaceInput(e,t,r){return delete this.parameters[e],this.input(e,t,r)}output(e,t,r){if(t||(t=d.NVarChar),/--| |\/\*|\*\/|'/.test(e))throw new c(`SQL injection warning for param '${e}'`,"EINJECT");if(t===d.Text||t===d.NText||t===d.Image)throw new c("Deprecated types (Text, NText, Image) are not supported as OUTPUT parameters.","EDEPRECATED");if(!r||"function"!=typeof r.valueOf||r instanceof Date||(r=r.valueOf()),void 0===r&&(r=null),"number"==typeof r&&isNaN(r)&&(r=null),t instanceof Function&&(t=t()),a(this.parameters,e))throw new c(`The parameter name ${e} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[e]={name:e,type:t.type,io:2,value:r,length:t.length,scale:t.scale,precision:t.precision},this}replaceOutput(e,t,r){return delete this.parameters[e],this.output(e,t,r)}batch(e,t){if(null===this.stream&&this.parent&&(this.stream=this.parent.config.stream),null===this.arrayRowMode&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.rowsAffected=0,"function"==typeof t)return this._batch(e,(e,r,n,i)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:n,rowsAffected:i})),e)return t(e);t(null,{recordsets:r,recordset:r&&r[0],output:n,rowsAffected:i})}),this;if("object"==typeof e){let t=Array.prototype.slice.call(arguments),r=t.shift();e=this._template(r,t)}return new h.Promise((t,r)=>{this._batch(e,(e,n,i,o)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:i,rowsAffected:o})),e)return r(e);t({recordsets:n,recordset:n&&n[0],output:i,rowsAffected:o})})})}_batch(e,t){return this.parent?this.parent.connected?void(this.canceled=!1,setImmediate(t)):setImmediate(t,new u("Connection is closed.","ECONNCLOSED")):setImmediate(t,new c("No connection is specified for that request.","ENOCONN"))}bulk(e,t,r){return("function"==typeof t?(r=t,t={}):void 0===t&&(t={}),null===this.stream&&this.parent&&(this.stream=this.parent.config.stream),null===this.arrayRowMode&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.stream||"function"==typeof r)?(this._bulk(e,t,(e,t)=>this.stream?(e&&this.emit("error",e),this.emit("done",{rowsAffected:t})):e?r(e):void r(null,{rowsAffected:t})),this):new h.Promise((r,n)=>{this._bulk(e,t,(e,t)=>{if(e)return n(e);r({rowsAffected:t})})})}_bulk(e,t,r){return this.parent?this.parent.connected?void(this.canceled=!1,setImmediate(r)):setImmediate(r,new u("Connection is closed.","ECONNCLOSED")):setImmediate(r,new c("No connection is specified for that request.","ENOCONN"))}toReadableStream(e={}){this.stream=!0,this.pause();let t=new o({...e,objectMode:!0,read:()=>{this.resume()}});return this.on("row",e=>{t.push(e)||this.pause()}),this.on("error",e=>{t.emit("error",e)}),this.on("done",()=>{t.push(null)}),t}pipe(e){return this.toReadableStream().pipe(e)}query(e,t){if(null===this.stream&&this.parent&&(this.stream=this.parent.config.stream),null===this.arrayRowMode&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.rowsAffected=0,"function"==typeof t)return this._query(e,(e,r,n,i,o)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:n,rowsAffected:i})),e)return t(e);let s={recordsets:r,recordset:r&&r[0],output:n,rowsAffected:i};this.arrayRowMode&&(s.columns=o),t(null,s)}),this;if("object"==typeof e){let t=Array.prototype.slice.call(arguments),r=t.shift();e=this._template(r,t)}return new h.Promise((t,r)=>{this._query(e,(e,n,i,o,s)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:i,rowsAffected:o})),e)return r(e);let a={recordsets:n,recordset:n&&n[0],output:i,rowsAffected:o};this.arrayRowMode&&(a.columns=s),t(a)})})}_query(e,t){return this.parent?this.parent.connected?void(this.canceled=!1,setImmediate(t)):setImmediate(t,new u("Connection is closed.","ECONNCLOSED")):setImmediate(t,new c("No connection is specified for that request.","ENOCONN"))}execute(e,t){return(null===this.stream&&this.parent&&(this.stream=this.parent.config.stream),null===this.arrayRowMode&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.rowsAffected=0,"function"==typeof t)?(this._execute(e,(e,r,n,i,o,s)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:n,rowsAffected:o,returnValue:i})),e)return t(e);let a={recordsets:r,recordset:r&&r[0],output:n,rowsAffected:o,returnValue:i};this.arrayRowMode&&(a.columns=s),t(null,a)}),this):new h.Promise((t,r)=>{this._execute(e,(e,n,i,o,s,a)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:i,rowsAffected:s,returnValue:o})),e)return r(e);let l={recordsets:n,recordset:n&&n[0],output:i,rowsAffected:s,returnValue:o};this.arrayRowMode&&(l.columns=a),t(l)})})}_execute(e,t){return this.parent?this.parent.connected?void(this.canceled=!1,setImmediate(t)):setImmediate(t,new u("Connection is closed.","ECONNCLOSED")):setImmediate(t,new c("No connection is specified for that request.","ENOCONN"))}cancel(){return this._cancel(),!0}_cancel(){this.canceled=!0}pause(){return!!this.stream&&(this._pause(),!0)}_pause(){this._paused=!0}resume(){return!!this.stream&&(this._resume(),!0)}_resume(){this._paused=!1}_setCurrentRequest(e){return this._currentRequest=e,this._paused&&this.pause(),this}}e.exports=f},95385:(e,t,r)=>{"use strict";let n=r(23481)("mssql:base"),{EventEmitter:i}=r(78474),{IDS:o}=r(69942),s=r(38921),{TransactionError:a}=r(47722),l=r(57622),c=r(14629);class u extends i{constructor(e){super(),o.add(this,"Transaction"),n("transaction(%d): created",o.get(this)),this.parent=e||s.pool,this.isolationLevel=u.defaultIsolationLevel,this.name=""}get config(){return this.parent.config}get connected(){return this.parent.connected}acquire(e,t){return this._acquiredConnection?this._activeRequest?setImmediate(t,new a("Can't acquire connection for the request. There is another request in progress.","EREQINPROG")):(this._activeRequest=e,setImmediate(t,null,this._acquiredConnection,this._acquiredConfig)):setImmediate(t,new a("Transaction has not begun. Call begin() first.","ENOTBEGUN")),this}release(e){return e===this._acquiredConnection&&(this._activeRequest=null),this}begin(e,t){return(e instanceof Function&&(t=e,e=void 0),"function"==typeof t)?(this._begin(e,e=>{e||this.emit("begin"),t(e)}),this):new l.Promise((t,r)=>{this._begin(e,e=>{if(e)return r(e);this.emit("begin"),t(this)})})}_begin(e,t){if(this._acquiredConnection)return setImmediate(t,new a("Transaction has already begun.","EALREADYBEGUN"));if(this._aborted=!1,this._rollbackRequested=!1,e){if(Object.keys(c).some(t=>c[t]===e))this.isolationLevel=e;else throw new a("Invalid isolation level.")}setImmediate(t)}commit(e){return"function"==typeof e?(this._commit(t=>{t||this.emit("commit"),e(t)}),this):new l.Promise((e,t)=>{this._commit(r=>{if(r)return t(r);this.emit("commit"),e()})})}_commit(e){return this._aborted?setImmediate(e,new a("Transaction has been aborted.","EABORT")):this._acquiredConnection?this._activeRequest?setImmediate(e,new a("Can't commit transaction. There is a request in progress.","EREQINPROG")):void setImmediate(e):setImmediate(e,new a("Transaction has not begun. Call begin() first.","ENOTBEGUN"))}request(){return new l.driver.Request(this)}rollback(e){return"function"==typeof e?(this._rollback(t=>{t||this.emit("rollback",this._aborted),e(t)}),this):new l.Promise((e,t)=>this._rollback(r=>{if(r)return t(r);this.emit("rollback",this._aborted),e()}))}_rollback(e){return this._aborted?setImmediate(e,new a("Transaction has been aborted.","EABORT")):this._acquiredConnection?this._activeRequest?setImmediate(e,new a("Can't rollback transaction. There is a request in progress.","EREQINPROG")):void(this._rollbackRequested=!0,setImmediate(e)):setImmediate(e,new a("Transaction has not begun. Call begin() first.","ENOTBEGUN"))}}u.defaultIsolationLevel=c.READ_COMMITTED,e.exports=u},87586:(e,t,r)=>{"use strict";let n=r(69942).objectHasProperty,i=Symbol.for("nodejs.util.inspect.custom"),o={VarChar:e=>({type:o.VarChar,length:e}),NVarChar:e=>({type:o.NVarChar,length:e}),Text:()=>({type:o.Text}),Int:()=>({type:o.Int}),BigInt:()=>({type:o.BigInt}),TinyInt:()=>({type:o.TinyInt}),SmallInt:()=>({type:o.SmallInt}),Bit:()=>({type:o.Bit}),Float:()=>({type:o.Float}),Numeric:(e,t)=>({type:o.Numeric,precision:e,scale:t}),Decimal:(e,t)=>({type:o.Decimal,precision:e,scale:t}),Real:()=>({type:o.Real}),Date:()=>({type:o.Date}),DateTime:()=>({type:o.DateTime}),DateTime2:e=>({type:o.DateTime2,scale:e}),DateTimeOffset:e=>({type:o.DateTimeOffset,scale:e}),SmallDateTime:()=>({type:o.SmallDateTime}),Time:e=>({type:o.Time,scale:e}),UniqueIdentifier:()=>({type:o.UniqueIdentifier}),SmallMoney:()=>({type:o.SmallMoney}),Money:()=>({type:o.Money}),Binary:e=>({type:o.Binary,length:e}),VarBinary:e=>({type:o.VarBinary,length:e}),Image:()=>({type:o.Image}),Xml:()=>({type:o.Xml}),Char:e=>({type:o.Char,length:e}),NChar:e=>({type:o.NChar,length:e}),NText:()=>({type:o.NText}),TVP:e=>({type:o.TVP,tvpType:e}),UDT:()=>({type:o.UDT}),Geography:()=>({type:o.Geography}),Geometry:()=>({type:o.Geometry}),Variant:()=>({type:o.Variant})};e.exports.TYPES=o,e.exports.DECLARATIONS={};let s=function(e,t){if(null==t&&(t=2),(e=String(e)).length<t)for(let r=1;r<=t-e.length;r++)e=`0${e}`;return e};for(let t in o)if(n(o,t)){let r=o[t];r.declaration=t.toLowerCase(),e.exports.DECLARATIONS[r.declaration]=r,((e,t)=>{t[i]=()=>`[sql.${e}]`})(t,r)}e.exports.declare=(e,t)=>{switch(e){case o.VarChar:case o.VarBinary:return`${e.declaration} (${t.length>8e3?"MAX":null==t.length?"MAX":t.length})`;case o.NVarChar:return`${e.declaration} (${t.length>4e3?"MAX":null==t.length?"MAX":t.length})`;case o.Char:case o.NChar:case o.Binary:return`${e.declaration} (${null==t.length?1:t.length})`;case o.Decimal:case o.Numeric:return`${e.declaration} (${null==t.precision?18:t.precision}, ${null==t.scale?0:t.scale})`;case o.Time:case o.DateTime2:case o.DateTimeOffset:return`${e.declaration} (${null==t.scale?7:t.scale})`;case o.TVP:return`${t.tvpType} readonly`;default:return e.declaration}},e.exports.cast=(e,t,r)=>{if(null==e)return null;switch(typeof e){case"string":return`N'${e.replace(/'/g,"''")}'`;case"number":case"bigint":return e;case"boolean":return e?1:0;case"object":if(e instanceof Date){let t=e.getUTCMilliseconds()/1e3;null!=e.nanosecondDelta&&(t+=e.nanosecondDelta);let n=null==r.scale?7:r.scale;return t=n>0?String(t).substr(1,n+1):"",`N'${e.getUTCFullYear()}-${s(e.getUTCMonth()+1)}-${s(e.getUTCDate())} ${s(e.getUTCHours())}:${s(e.getUTCMinutes())}:${s(e.getUTCSeconds())}${t}'`}if(Buffer.isBuffer(e))return`0x${e.toString("hex")}`;return null;default:return null}}},74643:(e,t,r)=>{"use strict";let n=r(34629);class i extends n{constructor(e,t){super(e,t),this.name="ConnectionError"}}e.exports=i},47722:(e,t,r)=>{"use strict";let n=r(74643),i=r(34629),o=r(10314),s=r(93220),a=r(99573);e.exports={ConnectionError:n,MSSQLError:i,PreparedStatementError:o,RequestError:s,TransactionError:a}},34629:e=>{"use strict";class t extends Error{constructor(e,t){e instanceof Error?(super(e.message),this.code=e.code||t,Error.captureStackTrace(this,this.constructor),Object.defineProperty(this,"originalError",{enumerable:!0,value:e})):(super(e),this.code=t),this.name="MSSQLError"}}e.exports=t},10314:(e,t,r)=>{"use strict";let n=r(34629);class i extends n{constructor(e,t){super(e,t),this.name="PreparedStatementError"}}e.exports=i},93220:(e,t,r)=>{"use strict";let n=r(34629);class i extends n{constructor(e,t){super(e,t),e instanceof Error&&(e.info?(this.number=e.info.number||e.code,this.lineNumber=e.info.lineNumber,this.state=e.info.state||e.sqlstate,this.class=e.info.class,this.serverName=e.info.serverName,this.procName=e.info.procName):(this.number=e.code,this.lineNumber=e.lineNumber,this.state=e.sqlstate,this.class=e.severity,this.serverName=e.serverName,this.procName=e.procName)),this.name="RequestError";let r=/^\[Microsoft\]\[SQL Server Native Client 11\.0\](?:\[SQL Server\])?([\s\S]*)$/.exec(this.message);r&&(this.message=r[1])}}e.exports=i},99573:(e,t,r)=>{"use strict";let n=r(34629);class i extends n{constructor(e,t){super(e,t),this.name="TransactionError"}}e.exports=i},38921:(e,t,r)=>{"use strict";let n=r(57622),i=null,o={};function s(e,t){if(!o[e])return i;let r=o[e].indexOf(t);return -1===r||(o[e].splice(r,1),0===o[e].length&&(o[e]=void 0),i&&i.removeListener(e,t)),i}e.exports={batch:function(){if("string"==typeof arguments[0])return new n.driver.Request().batch(arguments[0],arguments[1]);let e=Array.prototype.slice.call(arguments),t=e.shift();return new n.driver.Request()._template(t,e,"batch")},close:function(e){if(i){let t=i;return i=null,t.close(e)}return"function"==typeof e?(setImmediate(e),null):new n.Promise(e=>{e(i)})},connect:function(e,t){if(!i){for(let t in i=new n.driver.ConnectionPool(e),o)for(let e=0,r=o[t].length;e<r;e++)i.on(t,o[t][e]);let t=i.close;i.close=(function(e){for(let e in o)for(let t=0,r=o[e].length;t<r;t++)this.removeListener(e,o[e][t]);return this.on("error",e=>{if(o.error)for(let t=0,r=o.error.length;t<r;t++)o.error[t].call(this,e)}),i=null,t.call(this,e)}).bind(i)}return"function"==typeof t?i.connect((e,r)=>{e&&(i=null),t(e,r)}):i.connect().catch(e=>(i=null,n.Promise.reject(e)))},off:s,on:function(e,t){return o[e]||(o[e]=[]),o[e].push(t),i&&i.on(e,t),i},query:function(){if("string"==typeof arguments[0])return new n.driver.Request().query(arguments[0],arguments[1]);let e=Array.prototype.slice.call(arguments),t=e.shift();return new n.driver.Request()._template(t,e,"query")},removeListener:s},Object.defineProperty(e.exports,"pool",{get:()=>i,set:()=>{}})},14629:e=>{"use strict";e.exports={READ_UNCOMMITTED:1,READ_COMMITTED:2,REPEATABLE_READ:3,SERIALIZABLE:4,SNAPSHOT:5}},57622:(e,t,r)=>{"use strict";let n=r(87586).TYPES,i=r(86643),o=Promise,s=[];s.register=function(e,t){for(let t=0;t<this.length;t++)if(this[t].js===e){this.splice(t,1);break}return this.push({js:e,sql:t}),null},s.register(String,n.NVarChar),s.register(Number,n.Int),s.register(Boolean,n.Bit),s.register(Date,n.DateTime),s.register(Buffer,n.VarBinary),s.register(i,n.TVP),e.exports={driver:{},getTypeByValue:function(e){if(null==e)return n.NVarChar;switch(typeof e){case"string":for(let e of Array.from(s))if(e.js===String)return e.sql;return n.NVarChar;case"number":if(e%1!=0)return n.Float;if(e<-0x80000000||e>0x7fffffff)return n.BigInt;return n.Int;case"bigint":if(e<-2147483648n||e>2147483647n)return n.BigInt;return n.Int;case"boolean":for(let e of Array.from(s))if(e.js===Boolean)return e.sql;return n.Bit;case"object":for(let t of Array.from(s))if(e instanceof t.js)return t.sql;return n.NVarChar;default:return n.NVarChar}},map:s},Object.defineProperty(e.exports,"Promise",{get:()=>o,set:e=>{o=e}}),Object.defineProperty(e.exports,"valueHandler",{enumerable:!0,value:new Map,writable:!1,configurable:!1})},86643:(e,t,r)=>{"use strict";let n=r(87586).TYPES,i=r(87586).declare,o=r(69942).objectHasProperty;function s(e){if(e){let t=s.parseName(e);this.name=t.name,this.schema=t.schema,this.database=t.database,this.path=(this.database?`[${this.database}].`:"")+(this.schema?`[${this.schema}].`:"")+`[${this.name}]`,this.temporary="#"===this.name.charAt(0)}this.columns=[],this.rows=[],Object.defineProperty(this.columns,"add",{value(e,t,r){if(null==t)throw Error("Column data type is not defined.");return t instanceof Function&&(t=t()),r=r||{},t.name=e,["nullable","primary","identity","readOnly","length"].forEach(e=>{o(r,e)&&(t[e]=r[e])}),this.push(t)}}),Object.defineProperty(this.rows,"add",{value(){return this.push(Array.prototype.slice.call(arguments))}}),Object.defineProperty(this.rows,"clear",{value(){return this.splice(0,this.length)}})}s.prototype._makeBulk=function(){for(let e=0;e<this.columns.length;e++){let t=this.columns[e];switch(t.type){case n.Date:case n.DateTime:case n.DateTime2:for(let t=0;t<this.rows.length;t++){let r=this.rows[t][e];if("string"==typeof r||"number"==typeof r){let n=new Date(r);if(isNaN(n.getDate()))throw TypeError("Invalid date value passed to bulk rows");this.rows[t][e]=n}}break;case n.Xml:t.type=n.NVarChar(65535).type;break;case n.UDT:case n.Geography:case n.Geometry:t.type=n.VarBinary(65535).type}}return this},s.prototype.declare=function(){let e=this.columns.filter(e=>!0===e.primary).map(e=>`[${e.name}]`),t=this.columns.map(t=>{let r=[`[${t.name}] ${i(t.type,t)}`];return!0===t.nullable?r.push("null"):!1===t.nullable&&r.push("not null"),!0===t.primary&&1===e.length&&r.push("primary key"),r.join(" ")}),r=e.length>1?`, constraint [PK_${this.temporary?this.name.substr(1):this.name}] primary key (${e.join(", ")})`:"";return`create table ${this.path} (${t.join(", ")}${r})`},s.fromRecordset=function(e,t){let r=new this(t);for(let t in e.columns)if(o(e.columns,t)){let n=e.columns[t];r.columns.add(t,{type:n.type,length:n.length,scale:n.scale,precision:n.precision},{nullable:n.nullable,identity:n.identity,readOnly:n.readOnly})}if(1===r.columns.length&&"JSON_F52E2B61-18A1-11d1-B105-00805F49916B"===r.columns[0].name)for(let t=0;t<e.length;t++)r.rows.add(JSON.stringify(e[t]));else for(let t=0;t<e.length;t++)r.rows.add.apply(r.rows,r.columns.map(r=>e[t][r.name]));return r},s.parseName=function(e){let t=e.length,r=-1,n="",i=!1,o=[];for(;++r<t;){let t=e.charAt(r);if("["===t)i?n+=t:i=!0;else if("]"===t){if(i)i=!1;else throw Error("Invalid table name.")}else"."===t?i?n+=t:(o.push(n),n=""):n+=t}switch(n&&o.push(n),o.length){case 1:return{name:o[0],schema:null,database:null};case 2:return{name:o[1],schema:o[0],database:null};case 3:return{name:o[2],schema:o[1],database:o[0]};default:throw Error("Invalid table name.")}},e.exports=s},39700:(e,t,r)=>{"use strict";let n=r(34143),i=r(23481)("mssql:tedi"),o=r(60436),{IDS:s}=r(69942),a=r(57622),l=r(74643);class c extends o{_config(){let e={server:this.config.server,options:Object.assign({encrypt:"boolean"!=typeof this.config.encrypt||this.config.encrypt,trustServerCertificate:"boolean"==typeof this.config.trustServerCertificate&&this.config.trustServerCertificate},this.config.options),authentication:Object.assign({type:void 0!==this.config.domain?"ntlm":void 0!==this.config.authentication_type?this.config.authentication_type:"default",options:Object.entries({userName:this.config.user,password:this.config.password,domain:this.config.domain,clientId:this.config.clientId,clientSecret:this.config.clientSecret,tenantId:this.config.tenantId,token:this.config.token,msiEndpoint:this.config.msiEndpoint,msiSecret:this.config.msiSecret}).reduce((e,[t,r])=>void 0!==r?{...e,[t]:r}:e,{})},this.config.authentication)};return e.options.database=e.options.database||this.config.database,e.options.port=e.options.port||this.config.port,e.options.connectTimeout=e.options.connectTimeout??this.config.connectionTimeout??this.config.timeout??15e3,e.options.requestTimeout=e.options.requestTimeout??this.config.requestTimeout??this.config.timeout??15e3,e.options.tdsVersion=e.options.tdsVersion||"7_4",e.options.rowCollectionOnDone=e.options.rowCollectionOnDone||!1,e.options.rowCollectionOnRequestCompletion=e.options.rowCollectionOnRequestCompletion||!1,e.options.useColumnNames=e.options.useColumnNames||!1,e.options.appName=e.options.appName||"node-mssql",e.options.instanceName&&delete e.options.port,isNaN(e.options.requestTimeout)&&(e.options.requestTimeout=15e3),(e.options.requestTimeout===1/0||e.options.requestTimeout<0)&&(e.options.requestTimeout=0),!e.options.debug&&this.config.debug&&(e.options.debug={packet:!0,token:!0,data:!0,payload:!0}),e}_poolCreate(){return new a.Promise((e,t)=>{let r;let o=r=>{e(r),e=t=()=>{}},a=r=>{t(r),e=t=()=>{}};try{r=new n.Connection(this._config())}catch(e){a(e);return}r.connect(e=>{if(e)return a(e=new l(e));i("connection(%d): established",s.get(r)),this.collation=r.databaseCollation,o(r)}),s.add(r,"Connection"),i("pool(%d): connection #%d created",s.get(this),s.get(r)),i("connection(%d): establishing",s.get(r)),r.on("end",()=>{a(new l("The connection ended without ever completing the connection"))}),r.on("error",e=>{"ESOCKET"===e.code?r.hasError=!0:this.emit("error",e),a(e)}),this.config.debug&&r.on("debug",this.emit.bind(this,"debug",r)),"function"==typeof this.config.beforeConnect&&this.config.beforeConnect(r)})}_poolValidate(e){return!!e&&!e.closed&&!e.hasError&&(!this.config.validateConnection||new a.Promise(t=>{let r=new n.Request("SELECT 1;",e=>{t(!e)});e.execSql(r)}))}_poolDestroy(e){return new a.Promise((t,r)=>{if(!e){t();return}i("connection(%d): destroying",s.get(e)),e.closed?(i("connection(%d): already closed",s.get(e)),t()):(e.once("end",()=>{i("connection(%d): destroyed",s.get(e)),t()}),e.close())})}}e.exports=c},68337:(e,t,r)=>{"use strict";let n=r(41937),i=r(39700),o=r(43545),s=r(63892);e.exports=Object.assign({ConnectionPool:i,Transaction:o,Request:s,PreparedStatement:n.PreparedStatement},n.exports),Object.defineProperty(e.exports,"Promise",{enumerable:!0,get:()=>n.Promise,set:e=>{n.Promise=e}}),Object.defineProperty(e.exports,"valueHandler",{enumerable:!0,value:n.valueHandler,writable:!1,configurable:!1}),n.driver.name="tedious",n.driver.ConnectionPool=i,n.driver.Transaction=o,n.driver.Request=s},63892:(e,t,r)=>{"use strict";let n=r(34143),i=r(23481)("mssql:tedi"),o=r(42516),s=r(93220),{IDS:a,objectHasProperty:l}=r(69942),{TYPES:c,DECLARATIONS:u,declare:d,cast:h}=r(87586),f=r(86643),{PARSERS:p}=r(76448),{valueHandler:m}=r(57622),g="JSON_F52E2B61-18A1-11d1-B105-00805F49916B",y="XML_F52E2B61-18A1-11d1-B105-00805F49916B",_={BitN:104,DateTimeN:111,DecimalN:106,FloatN:109,IntN:38,MoneyN:110,NumericN:108},E=function(e){switch(e){case c.VarChar:return n.TYPES.VarChar;case c.NVarChar:return n.TYPES.NVarChar;case c.Text:return n.TYPES.Text;case c.Int:return n.TYPES.Int;case c.BigInt:return n.TYPES.BigInt;case c.TinyInt:return n.TYPES.TinyInt;case c.SmallInt:return n.TYPES.SmallInt;case c.Bit:return n.TYPES.Bit;case c.Float:return n.TYPES.Float;case c.Decimal:return n.TYPES.Decimal;case c.Numeric:return n.TYPES.Numeric;case c.Real:return n.TYPES.Real;case c.Money:return n.TYPES.Money;case c.SmallMoney:return n.TYPES.SmallMoney;case c.Time:return n.TYPES.Time;case c.Date:return n.TYPES.Date;case c.DateTime:return n.TYPES.DateTime;case c.DateTime2:return n.TYPES.DateTime2;case c.DateTimeOffset:return n.TYPES.DateTimeOffset;case c.SmallDateTime:return n.TYPES.SmallDateTime;case c.UniqueIdentifier:return n.TYPES.UniqueIdentifier;case c.Xml:return n.TYPES.NVarChar;case c.Char:return n.TYPES.Char;case c.NChar:return n.TYPES.NChar;case c.NText:return n.TYPES.NVarChar;case c.Image:return n.TYPES.Image;case c.Binary:return n.TYPES.Binary;case c.VarBinary:return n.TYPES.VarBinary;case c.UDT:case c.Geography:case c.Geometry:return n.TYPES.UDT;case c.TVP:return n.TYPES.TVP;case c.Variant:return n.TYPES.Variant;default:return e}},v=function(e,t){if("object"==typeof e)switch(e){case n.TYPES.Char:return c.Char;case n.TYPES.NChar:return c.NChar;case n.TYPES.VarChar:return c.VarChar;case n.TYPES.NVarChar:return c.NVarChar;case n.TYPES.Text:return c.Text;case n.TYPES.NText:return c.NText;case n.TYPES.Int:return c.Int;case n.TYPES.BigInt:return c.BigInt;case n.TYPES.TinyInt:return c.TinyInt;case n.TYPES.SmallInt:return c.SmallInt;case n.TYPES.Bit:return c.Bit;case n.TYPES.Float:return c.Float;case n.TYPES.Real:return c.Real;case n.TYPES.Money:return c.Money;case n.TYPES.SmallMoney:return c.SmallMoney;case n.TYPES.Numeric:return c.Numeric;case n.TYPES.Decimal:return c.Decimal;case n.TYPES.DateTime:return c.DateTime;case n.TYPES.Time:return c.Time;case n.TYPES.Date:return c.Date;case n.TYPES.DateTime2:return c.DateTime2;case n.TYPES.DateTimeOffset:return c.DateTimeOffset;case n.TYPES.SmallDateTime:return c.SmallDateTime;case n.TYPES.UniqueIdentifier:return c.UniqueIdentifier;case n.TYPES.Image:return c.Image;case n.TYPES.Binary:return c.Binary;case n.TYPES.VarBinary:return c.VarBinary;case n.TYPES.Xml:return c.Xml;case n.TYPES.UDT:return c.UDT;case n.TYPES.TVP:return c.TVP;case n.TYPES.Variant:return c.Variant;default:switch(e.id){case _.BitN:return c.Bit;case _.NumericN:return c.Numeric;case _.DecimalN:return c.Decimal;case _.IntN:if(8===t)return c.BigInt;if(4===t)return c.Int;if(2===t)return c.SmallInt;return c.TinyInt;case _.FloatN:if(8===t)return c.Float;return c.Real;case _.MoneyN:if(8===t)return c.Money;return c.SmallMoney;case _.DateTimeN:if(8===t)return c.DateTime;return c.SmallDateTime}}},b=function(e,t){let r={};t&&(r=[]);for(let n=0,i=e.length;n<i;n++){let i=e[n],o={index:n,name:i.colName,length:i.dataLength,type:v(i.type,i.dataLength),scale:i.scale,precision:i.precision,nullable:!!(1&i.flags),caseSensitive:!!(2&i.flags),identity:!!(16&i.flags),readOnly:!(12&i.flags)};i.udtInfo&&(o.udt={name:i.udtInfo.typeName,database:i.udtInfo.dbname,schema:i.udtInfo.owningSchema,assembly:i.udtInfo.assemblyName},u[i.udtInfo.typeName]&&(o.type=u[i.udtInfo.typeName])),t?r.push(o):r[i.colName]=o}return r},T=function(e,t){let r=v(t.type);return m.has(r)?m.get(r)(e):t.type!==n.TYPES.UDT||null==e?e:p[t.udtInfo.typeName]?p[t.udtInfo.typeName](e):e},w=function(e){if(!(e instanceof f))return e;{let t={name:e.name,schema:e.schema,columns:[],rows:e.rows};for(let r of e.columns)t.columns.push({name:r.name,type:E(r.type),length:r.length,scale:r.scale,precision:r.precision});return t}};class S extends o{_batch(e,t){this._isBatch=!0,this._query(e,t)}_bulk(e,t,r){super._bulk(e,t,o=>{if(o)return r(o);try{e._makeBulk()}catch(e){return r(new s(e,"EREQUEST"))}if(!e.name)return r(new s("Table name must be specified for bulk insert.","ENAME"));if("@"===e.name.charAt(0))return r(new s("You can't use table variables for bulk insert.","ENAME"));let l=[],c={},u=!1,d=(e,t,n)=>{let i=Error(n.message);if(i.info=n,i=new s(i,"EREQUEST"),this.stream)this.emit("error",i);else if(e&&!u){if(t){for(let e in c)t.removeListener(e,c[e]);this.parent.release(t)}u=!0,r(i)}l.push(i)},h=e=>{this.emit("info",{message:e.message,number:e.number,state:e.state,class:e.class,lineNumber:e.lineNumber,serverName:e.serverName,procName:e.procName})};this.parent.acquire(this,(o,f)=>{let p=(e,...t)=>{try{this.parent.release(f)}catch(e){}r(e,...t)};if(o)return p(o);if(i("connection(%d): borrowed to request #%d",a.get(f),a.get(this)),this.canceled)return i("request(%d): canceled",a.get(this)),p(new s("Canceled.","ECANCEL"));this._cancel=()=>{i("request(%d): cancel",a.get(this)),f.cancel()},f.on("infoMessage",c.infoMessage=h),f.on("errorMessage",c.errorMessage=d.bind(null,!1,f)),f.on("error",c.error=d.bind(null,!0,f));let m=(e,t)=>{let r;if(e&&(!l.length||l.length&&e.message!==l[l.length-1].message)&&(e=new s(e,"EREQUEST"),this.stream&&this.emit("error",e),l.push(e)),delete this._cancel,l.length&&!this.stream&&((r=l.pop()).precedingErrors=l),!u){for(let e in c)f.removeListener(e,c[e]);u=!0,this.stream?p(null,t):p(r,t)}},g=f.newBulkLoad(e.path,t,m);for(let t of e.columns)g.addColumn(t.name,E(t.type),{nullable:t.nullable,length:t.length,scale:t.scale,precision:t.precision});if(e.create){let t=e.temporary?`tempdb..[${e.name}]`:e.path,r=new n.Request(`if object_id('${t.replace(/'/g,"''")}') is null ${e.declare()}`,t=>{if(t)return m(t);f.execBulkLoad(g,e.rows)});this._setCurrentRequest(r),f.execSqlBatch(r)}else f.execBulkLoad(g,e.rows)})})}_query(e,t){super._query(e,r=>{if(r)return t(r);let o=[],c=[],u=[],p={},m={},_=[],v={},S=[],A=null,C=!1,O=!1,I=null,N=!1,R=(e,r,n)=>{let i=Error(n.message);if(i.info=n,i=new s(i,"EREQUEST"),this.stream)this.emit("error",i);else if(e&&!N){if(r){for(let e in p)r.removeListener(e,p[e]);this.parent.release(r)}N=!0,t(i)}u.push(i)},P=e=>{this.emit("info",{message:e.message,number:e.number,state:e.state,class:e.class,lineNumber:e.lineNumber,serverName:e.serverName,procName:e.procName})};this.parent.acquire(this,(r,D,M)=>{let k;if(r)return t(r);if(i("connection(%d): borrowed to request #%d",a.get(D),a.get(this)),this.canceled)return i("request(%d): canceled",a.get(this)),this.parent.release(D),t(new s("Canceled.","ECANCEL"));this._cancel=()=>{i("request(%d): cancel",a.get(this)),D.cancel()},D.on("infoMessage",p.infoMessage=P),D.on("errorMessage",p.errorMessage=R.bind(null,!1,D)),D.on("error",p.error=R.bind(null,!0,D)),i("request(%d): query",a.get(this),e);let L=new n.Request(e,e=>{let r;if((e?.errors?e.errors:[e]).forEach((e,t,{length:r})=>{e&&(!u.length||u.length&&u.length>=r&&e.message!==u[u.length-r+t].message)&&(e=new s(e,"EREQUEST"),this.stream&&this.emit("error",e),u.push(e))}),C)for(let e in this.stream||(A=o.pop()[0]),A){let t=A[e];"___return___"!==e&&(m[e]=t)}if(delete this._cancel,u.length&&!this.stream&&((r=u.pop()).precedingErrors=u),!N){for(let e in p)D.removeListener(e,p[e]);this.parent.release(D),N=!0,r?i("request(%d): failed",a.get(this),r):i("request(%d): completed",a.get(this)),this.stream?t(null,null,m,_,c):t(r,o,m,_,c)}});this._setCurrentRequest(L),L.on("columnMetadata",e=>{v=b(e,this.arrayRowMode),O=!1,1===e.length&&(e[0].colName===g||e[0].colName===y)&&(O=!0,I=[]),this.stream&&(this._isBatch&&v.___return___||this.emit("recordset",v)),this.arrayRowMode&&c.push(v)});let U=(e,t)=>{if(null!=e&&(_.push(e),this.stream&&this.emit("rowsaffected",e)),0!==Object.keys(v).length){if(O){let e=I.join("");if(v[g]&&!0===M.parseJSON)try{k=""===e?null:JSON.parse(e)}catch(t){k=null;let e=new s(Error(`Failed to parse incoming JSON. ${t.message}`),"EJSON");this.stream&&this.emit("error",e),u.push(e)}else(k={})[Object.keys(v)[0]]=e;I=null,this.stream?this.emit("row",k):S.push(k)}this.stream||(Object.defineProperty(S,"columns",{enumerable:!1,configurable:!0,value:v}),Object.defineProperty(S,"toTable",{enumerable:!1,configurable:!0,value(e){return f.fromRecordset(this,e)}}),o.push(S)),S=[],v={}}};if(L.on("doneInProc",U),L.on("done",U),L.on("returnValue",(e,t,r)=>{m[e]=t}),L.on("row",e=>{if(S||(S=[]),O)return I.push(e[0].value);for(let t of(k=this.arrayRowMode?[]:{},e))if(t.value=T(t.value,t.metadata),this.arrayRowMode)k.push(t.value);else{let e=k[t.metadata.colName];void 0!==e?e instanceof Array?e.push(t.value):k[t.metadata.colName]=[e,t.value]:k[t.metadata.colName]=t.value}this.stream?this._isBatch&&k.___return___?A=k:this.emit("row",k):S.push(k)}),this._isBatch){if(Object.keys(this.parameters).length){for(let e in this.parameters){if(!l(this.parameters,e))continue;let r=this.parameters[e];try{r.value=E(r.type).validate(r.value,this.parent.collation)}catch(n){n.message=`Validation failed for parameter '${e}'. ${n.message}`;let r=new s(n,"EPARAM");return this.parent.release(D),t(r)}}let e=[];for(let t in this.parameters){if(!l(this.parameters,t))continue;let r=this.parameters[t];e.push(`@${t} ${d(r.type,r)}`)}let r=[];for(let e in this.parameters){if(!l(this.parameters,e))continue;let t=this.parameters[e];r.push(`@${e} = ${h(t.value,t.type,t)}`)}let n=[];for(let e in this.parameters)l(this.parameters,e)&&2===this.parameters[e].io&&n.push(`@${e} as [${e}]`);C=n.length>0,L.sqlTextOrProcedure=`declare ${e.join(", ")};select ${r.join(", ")};${L.sqlTextOrProcedure};${C?`select 1 as [___return___], ${n.join(", ")}`:""}`}}else for(let e in this.parameters){if(!l(this.parameters,e))continue;let t=this.parameters[e];1===t.io?L.addParameter(t.name,E(t.type),w(t.value),{length:t.length,scale:t.scale,precision:t.precision}):L.addOutputParameter(t.name,E(t.type),w(t.value),{length:t.length,scale:t.scale,precision:t.precision})}try{D[this._isBatch?"execSqlBatch":"execSql"](L)}catch(e){R(!0,D,e)}})})}_execute(e,t){super._execute(e,r=>{if(r)return t(r);let o=[],c=[],u=[],d={},h={},p=[],m={},_=[],v=0,S=!1,A=null,C=!1,O=(e,r,n)=>{let i=Error(n.message);if(i.info=n,i=new s(i,"EREQUEST"),this.stream)this.emit("error",i);else if(e&&!C){if(r){for(let e in d)r.removeListener(e,d[e]);this.parent.release(r)}C=!0,t(i)}u.push(i)},I=e=>{this.emit("info",{message:e.message,number:e.number,state:e.state,class:e.class,lineNumber:e.lineNumber,serverName:e.serverName,procName:e.procName})};this.parent.acquire(this,(r,N,R)=>{let P;if(r)return t(r);if(i("connection(%d): borrowed to request #%d",a.get(N),a.get(this)),this.canceled)return i("request(%d): canceled",a.get(this)),this.parent.release(N),t(new s("Canceled.","ECANCEL"));if(this._cancel=()=>{i("request(%d): cancel",a.get(this)),N.cancel()},N.on("infoMessage",d.infoMessage=I),N.on("errorMessage",d.errorMessage=O.bind(null,!1,N)),N.on("error",d.error=O.bind(null,!0,N)),i.enabled){let t=Object.keys(this.parameters).map(e=>this.parameters[e]),r=e=>"string"==typeof e&&e.length>50?e.substring(0,47)+"...":e,n=e=>e.name+" [sql."+e.type.name+"]",o={};t.forEach(e=>{o[n(e)]=r(e.value)}),i("request(%d): execute %s %O",a.get(this),e,o)}let D=new n.Request(e,e=>{let r;if(e&&(!u.length||u.length&&e.message!==u[u.length-1].message)&&(e=new s(e,"EREQUEST"),this.stream&&this.emit("error",e),u.push(e)),delete this._cancel,u.length&&!this.stream&&((r=u.pop()).precedingErrors=u),!C){for(let e in d)N.removeListener(e,d[e]);this.parent.release(N),C=!0,r?i("request(%d): failed",a.get(this),r):i("request(%d): complete",a.get(this)),this.stream?t(null,null,h,v,p,c):t(r,o,h,v,p,c)}});for(let e in this._setCurrentRequest(D),D.on("columnMetadata",e=>{m=b(e,this.arrayRowMode),S=!1,1===e.length&&(e[0].colName===g||e[0].colName===y)&&(S=!0,A=[]),this.stream&&this.emit("recordset",m),this.arrayRowMode&&c.push(m)}),D.on("row",e=>{if(_||(_=[]),S)return A.push(e[0].value);for(let t of(P=this.arrayRowMode?[]:{},e))if(t.value=T(t.value,t.metadata),this.arrayRowMode)P.push(t.value);else{let e=P[t.metadata.colName];null!=e?e instanceof Array?e.push(t.value):P[t.metadata.colName]=[e,t.value]:P[t.metadata.colName]=t.value}this.stream?this.emit("row",P):_.push(P)}),D.on("doneInProc",(e,t)=>{if(null!=e&&(p.push(e),this.stream&&this.emit("rowsaffected",e)),0!==Object.keys(m).length){if(S){if(m[g]&&!0===R.parseJSON)try{P=0===A.length?null:JSON.parse(A.join(""))}catch(t){P=null;let e=new s(Error(`Failed to parse incoming JSON. ${t.message}`),"EJSON");this.stream&&this.emit("error",e),u.push(e)}else(P={})[Object.keys(m)[0]]=A.join("");A=null,this.stream?this.emit("row",P):_.push(P)}this.stream||(Object.defineProperty(_,"columns",{enumerable:!1,configurable:!0,value:m}),Object.defineProperty(_,"toTable",{enumerable:!1,configurable:!0,value(e){return f.fromRecordset(this,e)}}),o.push(_)),_=[],m={}}}),D.on("doneProc",(e,t,r)=>{v=r}),D.on("returnValue",(e,t,r)=>{h[e]=t}),this.parameters){if(!l(this.parameters,e))continue;let t=this.parameters[e];1===t.io?D.addParameter(t.name,E(t.type),w(t.value),{length:t.length,scale:t.scale,precision:t.precision}):D.addOutputParameter(t.name,E(t.type),w(t.value),{length:t.length,scale:t.scale,precision:t.precision})}N.callProcedure(D)})})}_pause(){super._pause(),this._currentRequest&&this._currentRequest.pause()}_resume(){super._resume(),this._currentRequest&&this._currentRequest.resume()}}e.exports=S},43545:(e,t,r)=>{"use strict";let n=r(23481)("mssql:tedi"),i=r(95385),{IDS:o}=r(69942),s=r(99573);class a extends i{constructor(e){super(e),this._abort=()=>{if(!this._rollbackRequested){let e=this._acquiredConnection;setImmediate(this.parent.release.bind(this.parent),e),this._acquiredConnection.removeListener("rollbackTransaction",this._abort),this._acquiredConnection=null,this._acquiredConfig=null,this._aborted=!0,this.emit("rollback",!0)}}}_begin(e,t){super._begin(e,e=>{if(e)return t(e);n("transaction(%d): begin",o.get(this)),this.parent.acquire(this,(e,r,i)=>{if(e)return t(e);this._acquiredConnection=r,this._acquiredConnection.on("rollbackTransaction",this._abort),this._acquiredConfig=i,r.beginTransaction(e=>{e&&(e=new s(e)),n("transaction(%d): begun",o.get(this)),t(e)},this.name,this.isolationLevel)})})}_commit(e){super._commit(t=>{if(t)return e(t);n("transaction(%d): commit",o.get(this)),this._acquiredConnection.commitTransaction(t=>{t&&(t=new s(t)),this._acquiredConnection.removeListener("rollbackTransaction",this._abort),this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,t||n("transaction(%d): commited",o.get(this)),e(t)})})}_rollback(e){super._rollback(t=>{if(t)return e(t);n("transaction(%d): rollback",o.get(this)),this._acquiredConnection.rollbackTransaction(t=>{t&&(t=new s(t)),this._acquiredConnection.removeListener("rollbackTransaction",this._abort),this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,t||n("transaction(%d): rolled back",o.get(this)),e(t)})})}}e.exports=a},76448:e=>{"use strict";class t{constructor(){this.x=0,this.y=0,this.z=null,this.m=null}}let r=(e,r,n)=>{let i=[];if(r<1)return i;if(n)for(let n=1;n<=r;n++){let r=new t;i.push(r),r.x=e.readDoubleLE(e.position),r.y=e.readDoubleLE(e.position+8),e.position+=16}else for(let n=1;n<=r;n++){let r=new t;i.push(r),r.lat=e.readDoubleLE(e.position),r.lng=e.readDoubleLE(e.position+8),r.x=r.lat,r.y=r.lng,e.position+=16}return i},n=(e,t)=>{t<1||t.forEach(t=>{t.z=e.readDoubleLE(e.position),e.position+=8})},i=(e,t)=>{t<1||t.forEach(t=>{t.m=e.readDoubleLE(e.position),e.position+=8})},o=(e,t,r)=>{let n=[];if(t<1)return n;if(r.P)n.push({attribute:1,pointOffset:0});else if(r.L)n.push({attribute:1,pointOffset:0});else for(let r=1;r<=t;r++)n.push({attribute:e.readUInt8(e.position),pointOffset:e.readInt32LE(e.position+1)}),e.position+=5;return n},s=(e,t,r)=>{let n=[];if(t<1)return n;if(r.P)n.push({parentOffset:-1,figureOffset:0,type:1});else if(r.L)n.push({parentOffset:-1,figureOffset:0,type:2});else for(let r=1;r<=t;r++)n.push({parentOffset:e.readInt32LE(e.position),figureOffset:e.readInt32LE(e.position+4),type:e.readUInt8(e.position+8)}),e.position+=9;return n},a=(e,t)=>{let r=[];if(t<1)return r;for(let n=1;n<=t;n++)r.push({type:e.readUInt8(e.position)}),e.position++;return r},l=(e,t)=>{let l,c,u;let d=e.readInt32LE(0);if(-1===d)return null;let h={srid:d,version:e.readUInt8(4)},f=e.readUInt8(5);e.position=6;let p={Z:(1&f)>0,M:(2&f)>0,V:(4&f)>0,P:(8&f)>0,L:(16&f)>0};if(2===h.version&&(p.H=(8&f)>0),p.P?l=1:p.L?l=2:(l=e.readUInt32LE(e.position),e.position+=4),h.points=r(e,l,t),p.Z&&n(e,h.points),p.M&&i(e,h.points),p.P?c=1:p.L?c=1:(c=e.readUInt32LE(e.position),e.position+=4),h.figures=o(e,c,p),p.P?u=1:p.L?u=1:(u=e.readUInt32LE(e.position),e.position+=4),h.shapes=s(e,u,p),2===h.version&&e.position<e.length){let t=e.readUInt32LE(e.position);e.position+=4,h.segments=a(e,t)}else h.segments=[];return h};e.exports.PARSERS={geography:e=>l(e,!1),geometry:e=>l(e,!0)}},69942:e=>{let t=new WeakMap,r={Connection:1,ConnectionPool:1,Request:1,Transaction:1,PreparedStatement:1};e.exports={objectHasProperty:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),INCREMENT:r,IDS:{get:t.get.bind(t),add:(e,n,i)=>{if(i)return t.set(e,i);t.set(e,r[n]++)}}}},78372:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__addDisposableResource:()=>L,__assign:()=>o,__asyncDelegator:()=>A,__asyncGenerator:()=>S,__asyncValues:()=>C,__await:()=>w,__awaiter:()=>p,__classPrivateFieldGet:()=>D,__classPrivateFieldIn:()=>k,__classPrivateFieldSet:()=>M,__createBinding:()=>g,__decorate:()=>a,__disposeResources:()=>x,__esDecorate:()=>c,__exportStar:()=>y,__extends:()=>i,__generator:()=>m,__importDefault:()=>P,__importStar:()=>R,__makeTemplateObject:()=>O,__metadata:()=>f,__param:()=>l,__propKey:()=>d,__read:()=>E,__rest:()=>s,__rewriteRelativeImportExtension:()=>F,__runInitializers:()=>u,__setFunctionName:()=>h,__spread:()=>v,__spreadArray:()=>T,__spreadArrays:()=>b,__values:()=>_,default:()=>B});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function l(e,t){return function(r,n){t(r,n,e)}}function c(e,t,r,n,i,o){function s(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var a,l=n.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h=!1,f=r.length-1;f>=0;f--){var p={};for(var m in n)p[m]="access"===m?{}:n[m];for(var m in n.access)p.access[m]=n.access[m];p.addInitializer=function(e){if(h)throw TypeError("Cannot add initializers after decoration has completed");o.push(s(e||null))};var g=(0,r[f])("accessor"===l?{get:d.get,set:d.set}:d[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw TypeError("Object expected");(a=s(g.get))&&(d.get=a),(a=s(g.set))&&(d.set=a),(a=s(g.init))&&i.unshift(a)}else(a=s(g))&&("field"===l?i.unshift(a):d[c]=a)}u&&Object.defineProperty(u,n.name,d),h=!0}function u(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function h(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})}function m(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var g=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function y(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||g(t,e,r)}function _(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function E(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(E(arguments[t]));return e}function b(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function T(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function S(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),n[Symbol.asyncIterator]=function(){return this},n;function s(e,t){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})},t&&(n[e]=t(n[e])))}function a(e,t){try{var r;(r=i[e](t)).value instanceof w?Promise.resolve(r.value.v).then(l,c):u(o[0][2],r)}catch(e){u(o[0][3],e)}}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function A(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:w(e[n](t)),done:!1}:i?i(t):t}:i}}function C(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=_(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,i,(t=e[r](t)).done,t.value)})}}}function O(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var I=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},N=function(e){return(N=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)};function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=N(e),n=0;n<r.length;n++)"default"!==r[n]&&g(t,e,r[n]);return I(t,e),t}function P(e){return e&&e.__esModule?e:{default:e}}function D(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function M(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}function k(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function L(e,t,r){if(null!=t){var n,i;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var U="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function x(e){function t(t){e.error=e.hasError?new U(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function i(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(i,function(e){return t(e),i()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function F(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,i,o){return r?t?".jsx":".js":!n||i&&o?n+i+"."+o.toLowerCase()+"js":e}):e}let B={__extends:i,__assign:o,__rest:s,__decorate:a,__param:l,__esDecorate:c,__runInitializers:u,__propKey:d,__setFunctionName:h,__metadata:f,__awaiter:p,__generator:m,__createBinding:g,__exportStar:y,__values:_,__read:E,__spread:v,__spreadArrays:b,__spreadArray:T,__await:w,__asyncGenerator:S,__asyncDelegator:A,__asyncValues:C,__makeTemplateObject:O,__importStar:R,__importDefault:P,__classPrivateFieldGet:D,__classPrivateFieldSet:M,__classPrivateFieldIn:k,__addDisposableResource:L,__disposeResources:x,__rewriteRelativeImportExtension:F}},19935:e=>{"use strict";e.exports=JSON.parse('[["8740","\uD85C\uDE67\uD85F\uDCB1\uD85F\uDCC5\uD850\uDEBF\uD84D\uDE17\uD85C\uDF52\uD85B\uDE8B\uD85C\uDCD2\uD868\uDF51\uD85F\uDC6C\uD85A\uDF23\uD856\uDE54\uD846\uDE63\uD84F\uDE06\uD84F\uDF61"],["8767","\uD862\uDFB9\uD85E\uDFEF\uD847\uDD5E\uD867\uDEB0\uD866\uDD45\uD847\uDD53\uD84D\uDE9E\uD858\uDC21"],["87a1","\uD856\uDCDE\uD850\uDD61\uD862\uDD0D\uD84C\uDDEA\uD842\uDE8A\uD84C\uDE5E\uD857\uDDB9\uD84D\uDE8E\uD85E\uDF65\uD85B\uDE88\uD857\uDD99\uD849\uDCBC\uD849\uDCC1\uD849\uDCC9\uD849\uDCCC\uD84D\uDDBB\uD86B\uDDFF"],["8840","",4,"\uD840\uDD0C\uD840\uDCD1\uD840\uDCCD\uD840\uDCCB\uD847\uDFE8\uD840\uDCCA\uD840\uDD0E\xc1\xc0\xc9\xc8\xd3\xd2\xca\xca\xca\xe1\xe0\xe9\xe8\xed\xec\xf3\xf2\xfa\xf9"],["88a1","\xfc\xea\xea\xea"],["8940","\uD868\uDFA9\uD844\uDD45"],["8943",""],["8946",""],["894c","\uD85D\uDF35"],["89a1",""],["89ab",""],["89b0","\uD842\uDDE7"],["89b5","\uD867\uDDF6\uD85C\uDC0E\uD868\uDD33"],["89c1",""],["89c5","\uD861\uDC6C\uD847\uDDCA\uD841\uDDD0\uD84A\uDEE6"],["8a40","\uD85F\uDD84"],["8a43","\uD843\uDC42\uD843\uDD15\uD854\uDD2B\uD84B\uDCC6\uD840\uDF41\uD853\uDDB8\uD865\uDCE5\uD860\uDCBE\uD84B\uDC38\uD860\uDD5D\uD85A\uDDF2\uD853\uDDEA\uD843\uDD7C\uD843\uDFB4\uD843\uDCD5\uD844\uDCF4\uD843\uDE96\uD843\uDC0B\uD843\uDF64\uD84B\uDCA9\uD860\uDE56\uD851\uDCD3"],["8a64","\uD843\uDD46\uD866\uDE4D\uD860\uDCE9\uD853\uDEA7\uD84B\uDCC2\uD865\uDDF4\uD854\uDEC7\uD865\uDFD4\uD85E\uDCC8\uD84B\uDD44"],["8a76","\uD858\uDCA5\uD84B\uDD4C\uD84A\uDFCA\uD844\uDC77\uD844\uDC6F"],["8aa1","\uD859\uDEDA\uD859\uDF16\uD85E\uDDA0\uD854\uDC52\uD843\uDC43\uD848\uDDA1\uD862\uDF4C\uD841\uDF31"],["8aac","\uD840\uDDA9\uD84B\uDD8D"],["8ab2","\uD851\uDDC8\uD841\uDCFC\uD858\uDC97\uD843\uDF4C\uD843\uDD96"],["8abb","\uD84A\uDE66\uD844\uDC9D\uD843\uDD9C\uD849\uDF75"],["8ac9","\uD869\uDE01\uD843\uDE09\uD84A\uDECF\uD84B\uDCC9"],["8ace","\uD844\uDCC8\uD84E\uDDC2\uD860\uDE9B\uD857\uDE49\uD848\uDCC7\uD843\uDF31\uD84B\uDCB2\uD865\uDF20\uD853\uDE3B"],["8adf","\uD85D\uDD74\uD84B\uDE8B\uD848\uDE08\uD869\uDE5B\uD863\uDCCD\uD843\uDE7A\uD843\uDC34\uD85A\uDC1C\uD844\uDCCF\uD84A\uDC03\uD84A\uDD39\uD854\uDDE3\uD843\uDE8C\uD843\uDF8D\uD843\uDEAA\uD843\uDF30\uD843\uDD47\uD844\uDD4F\uD843\uDE4C"],["8af6","\uD843\uDEAB\uD842\uDFA9\uD843\uDD48\uD844\uDCC0\uD844\uDD3D\uD849\uDE96\uD843\uDFAD"],["8b40","\uD84C\uDFF4\uD85D\uDE39\uD84A\uDFCE\uD843\uDD7E\uD843\uDD7F\uD84B\uDC51\uD84B\uDC55\uD843\uDE98\uD844\uDCC7\uD843\uDF2E\uD869\uDE32\uD85A\uDF50\uD863\uDCD2\uD863\uDD99\uD863\uDCCA"],["8b55","\uD867\uDEC3\uD85D\uDF5E\uD84B\uDDEE\uD859\uDD72\uD860\uDCBD\uD843\uDEFA\uD843\uDE0F\uD843\uDE77\uD843\uDEFB\uD853\uDDEB\uD843\uDCD6\uD849\uDFB5\uD844\uDCC9\uD843\uDE10\uD843\uDE78\uD844\uDC78\uD844\uDD48\uD860\uDE07\uD845\uDC55\uD843\uDE79\uD853\uDE50\uD84B\uDDA4\uD844\uDC1D\uD844\uDC1E\uD844\uDCF5\uD844\uDCF6\uD843\uDE11"],["8ba1","\uD85D\uDE94\uD860\uDECD\uD843\uDFB5\uD843\uDE7B\uD854\uDD7E\uD843\uDFB6\uD844\uDD80\uD854\uDED8\uD868\uDEBD\uD852\uDDDA\uD846\uDC3A\uD850\uDD77\uD860\uDE7C\uD855\uDF3D\uD856\uDF74\uD84C\uDD3D\uD846\uDFC1\uD87E\uDC78\uD840\uDC86\uD852\uDCE9\uD858\uDE6A"],["8bde","\uD858\uDF4B\uD859\uDE12\uD85A\uDD51\uD85E\uDCB2\uD863\uDE0F\uD866\uDC10\uD840\uDC87"],["8c40","\uD867\uDC73\uD850\uDD4E\uD854\uDDCD\uD857\uDD30\uD862\uDE32\uD84C\uDE81\uD868\uDD07\uD846\uDD80\uD861\uDF0F\uD868\uDEBA\uD842\uDE6F\uD866\uDD47\uD862\uDEEA\uD848\uDC7E\uD862\uDDE3\uD847\uDDB6\uD849\uDF12"],["8ca1","\uD84C\uDFF9\uD84F\uDC63"],["8ca7","\uD851\uDD05\uD852\uDE13\uD857\uDCA4\uD855\uDE95\uD863\uDDB9\uD845\uDC3F"],["8cc9",""],["8cce","\uD852\uDD7B\uD85C\uDD0D\uD85B\uDD74\uD85A\uDF15\uD85B\uDFBE\uD84C\uDE56\uD849\uDF96"],["8ce6","\uD84E\uDF1A\uD84D\uDD51\uD850\uDCEC\uD847\uDE23\uD840\uDDA4\uD85B\uDC41\uD840\uDE39\uD866\uDCFA"],["8d40","\uD842\uDF9F"],["8d42","\uD848\uDDC1\uD862\uDD6D\uD864\uDC79\uD868\uDDB5\uD85B\uDC46\uD861\uDEB2\uD85C\uDFFF\uD855\uDC9A\uD852\uDF0F"],["8da1","\uD862\uDDC0\uD84F\uDF41\uD840\uDF25\uD843\uDED8"],["8e40","\uD84F\uDED7\uD85B\uDED3\uD855\uDFE0\uD862\uDFE9\uD856\uDCE1\uD865\uDCD9\uD856\uDDAC\uD859\uDC8D\uD857\uDC01\uD854\uDF0E\uD857\uDCFE\uD856\uDFB4\uD85B\uDC7F\uD857\uDD20\uD857\uDC65\uD857\uDCC1\uD852\uDC82\uD851\uDD78"],["8ea1","\uD85B\uDE44\uD85B\uDED6\uD850\uDC57\uD858\uDC29\uD845\uDFF9\uD860\uDF6D\uD858\uDD21\uD858\uDD5A\uD858\uDED0\uD858\uDF51\uD845\uDE61\uD840\uDC68\uD84D\uDF66\uD860\uDF3A\uD859\uDC89\uD868\uDC87\uD85B\uDCC3\uD849\uDF14\uD859\uDE26\uD84F\uDDE3\uD859\uDEE8\uD862\uDE48\uD849\uDEF6\uD859\uDC98\uD853\uDFB8\uD845\uDC8A\uD846\uDC5E\uD852\uDE65\uD852\uDE95\uD842\uDF0D\uD85A\uDE52\uD84F\uDD7E\uD845\uDCFD\uD85A\uDF0A\uD852\uDDA7\uD84D\uDD30\uD845\uDF73\uD84F\uDDF8\uD87E\uDD94"],["8f40","\uD843\uDE16\uD845\uDFB4\uD84C\uDD7D\uD84D\uDD5A\uD84F\uDE8B\uD85B\uDDA3\uD85A\uDF05\uD85A\uDF97\uD84D\uDDCE\uD85B\uDDA5\uD85B\uDED4\uD85B\uDE42\uD84B\uDEEF\uD856\uDFE4\uD84F\uDCB5\uD85A\uDF96\uD85B\uDE77\uD85B\uDE43\uD857\uDC91\uD857\uDCC0\uD85B\uDE99"],["8fa1","\uD861\uDE25\uD861\uDE3B\uD85C\uDC88\uD845\uDD82\uD85C\uDCCD\uD87E\uDDB2\uD846\uDCA2\uD85C\uDF9A\uD868\uDCF8\uD84B\uDC27\uD85D\uDDE0\uD84F\uDDB9\uD85D\uDDE4\uD85D\uDF0F\uD862\uDE25\uD85E\uDD24\uD85E\uDEBD\uD85E\uDE59\uD85E\uDF3A\uD84F\uDF8F\uD85E\uDF38\uD855\uDC30\uD855\uDD65\uD852\uDE7A\uD845\uDEDF\uD85F\uDD54\uD85F\uDD8F\uD87E\uDDD4\uD85F\uDD53\uD85F\uDD98\uD85F\uDDBD\uD846\uDD10\uD853\uDCC9"],["9040","\uD860\uDC02\uD844\uDC14\uD852\uDD8A\uD860\uDDBC\uD85C\uDD0C\uD860\uDF65\uD861\uDC12\uD868\uDE9F\uD842\uDE50\uD862\uDDDE\uD861\uDD3D\uD84F\uDDBB\uD84C\uDE62\uD868\uDC14\uD861\uDEBC\uD861\uDD01\uD848\uDF25\uD85B\uDED7\uD861\uDD3C\uD85E\uDEBE\uD861\uDD6C\uD861\uDE0B\uD861\uDF13\uD861\uDEE6\uD862\uDD33\uD847\uDE89\uD855\uDDB9\uD862\uDEC6\uD84F\uDC9B\uD862\uDF0C\uD855\uDDDB"],["90a1","\uD843\uDD31\uD862\uDEE1\uD862\uDFEB\uD862\uDEE2\uD862\uDEE5\uD862\uDFEC\uD863\uDC39\uD862\uDFFF\uD849\uDE7A\uD861\uDED8\uD844\uDE7C\uD84F\uDE2E\uD85B\uDED5\uD862\uDEE0\uD85B\uDCB8\uD840\uDE74\uD859\uDC10\uD864\uDCAF\uD864\uDCE5\uD852\uDED1\uD846\uDD15\uD84C\uDF0A\uD852\uDEE9\uD864\uDDD5\uD864\uDDEB\uD84C\uDCB7\uD84C\uDCBC\uD855\uDC6C\uD865\uDC33\uD865\uDC1D\uD85E\uDD7A\uD85C\uDD75\uD841\uDE30\uD850\uDD5C"],["9140","\uD855\uDF06\uD85B\uDD27\uD845\uDED3\uD852\uDE29\uD866\uDC57\uD866\uDD05\uD855\uDF25\uD864\uDCB1\uD866\uDFD5\uD866\uDF05\uD861\uDE00\uD85A\uDDA8\uD84C\uDC7D\uD867\uDD3E\uD846\uDC63\uD850\uDE4B\uD867\uDE68\uD867\uDFB7\uD868\uDD92\uD868\uDDAB\uD868\uDCE1\uD868\uDD23\uD868\uDDDF\uD868\uDD34"],["91a1","\uD848\uDD5B\uD868\uDD93\uD868\uDE20\uD846\uDD3B\uD868\uDE33\uD868\uDCB9\uD868\uDEB4\uD850\uDF64\uD863\uDC2B\uD85B\uDDA2\uD864\uDC8B\uD852\uDD75\uD852\uDDBB\uD852\uDDF8\uD850\uDF48\uD852\uDE51\uD862\uDFDA\uD846\uDCFA\uD862\uDD7E\uD863\uDE36\uD862\uDE44\uD862\uDD6C\uD851\uDCB9\uD851\uDC73\uD850\uDFF8\uD845\uDFEF\uD846\uDCBE\uD84D\uDD99\uD846\uDC85\uD855\uDC2F\uD845\uDFF8\uD845\uDEFB\uD846\uDC39\uD845\uDF74\uD846\uDCD1\uD857\uDF4B\uD845\uDEC0\uD852\uDE25\uD844\uDFFE\uD844\uDEA8"],["9240","\uD844\uDFC6\uD845\uDCB6\uD84D\uDEA6\uD852\uDD94\uD85C\uDD65\uD84F\uDE31\uD855\uDD5C\uD84F\uDEFB\uD85C\uDC52\uD84D\uDEEE\uD866\uDD9D\uD85B\uDF26\uD846\uDD22\uD84D\uDF3F\uD850\uDCE1\uD850\uDC8B\uD850\uDD0F\uD85B\uDC21\uD859\uDEB1\uD843\uDFDF\uD842\uDFA8\uD843\uDE0D\uD862\uDF13\uD851\uDC36\uD841\uDC65\uD840\uDF7F\uD855\uDE51\uD840\uDDAB\uD840\uDFCB\uD840\uDF0A\uD841\uDC14\uD840\uDEC0\uD863\uDEB3\uD840\uDE75\uD840\uDE0C"],["92a1","\uD852\uDE0E\uD84F\uDE8A\uD84D\uDD95\uD84F\uDE39\uD84F\uDEBF\uD846\uDC84\uD84F\uDE89\uD841\uDDE0\uD841\uDCA3\uD841\uDC92\uD841\uDC91\uD862\uDE9C\uD841\uDF0E\uD842\uDC73\uD850\uDF8C\uD843\uDC20\uD852\uDDAC\uD844\uDCE4\uD843\uDE1D\uD852\uDEBC\uD850\uDC8D\uD850\uDCC9\uD840\uDF45\uD842\uDFC6\uD862\uDE46\uD845\uDEFA\uD845\uDF6F\uD845\uDF10\uD856\uDD46\uD846\uDDF3\uD846\uDC61\uD850\uDE95\uD857\uDE83"],["9340","\uD862\uDFD7\uD841\uDC13\uD844\uDF03\uD862\uDDFB\uD846\uDD96\uD846\uDD7C\uD84E\uDEEE\uD846\uDD03\uD846\uDD04\uD846\uDCA0\uD845\uDEFE\uD862\uDE47\uD847\uDDBA\uD84D\uDC72\uD862\uDDA8\uD846\uDD27\uD845\uDFAB\uD845\uDF3B\uD85D\uDDFD\uD84A\uDC60\uD849\uDE2B\uD849\uDDAF\uD849\uDDBE\uD864\uDC88\uD85B\uDF73\uD840\uDC3E\uD840\uDC46\uD849\uDE1B\uD84B\uDC9B\uD84B\uDD07\uD851\uDED4\uD864\uDD4D"],["93a1","\uD851\uDE65\uD84A\uDF6A\uD84A\uDF22\uD84D\uDC50\uD866\uDCEA\uD84B\uDE78\uD869\uDC5B\uD852\uDDE3\uD84B\uDD67\uD84B\uDCA1\uD84C\uDC8E\uD84C\uDEAD\uD852\uDD89\uD84C\uDEAB\uD84C\uDEE0\uD846\uDCD9\uD865\uDC3F\uD84C\uDE89\uD84C\uDDB3\uD855\uDD84\uD862\uDF22\uD855\uDD8F\uD845\uDEFC\uD855\uDD5B\uD855\uDC25\uD84C\uDD03\uD846\uDC2A\uD84C\uDE34\uD84C\uDE0F\uD84C\uDD82\uD850\uDEC9\uD85B\uDD24\uD85E\uDC70\uD847\uDDEB\uD84C\uDED2\uD84C\uDEE1\uD856\uDC72\uD84E\uDC3A\uD84D\uDFBC\uD84D\uDFA2\uD84C\uDFFE\uD851\uDE2A\uD84D\uDFD5\uD851\uDC87\uD846\uDD12\uD84F\uDFC0\uD84F\uDC9A\uD862\uDFEA\uD862\uDECB"],["9440","\uD860\uDC1E\uD862\uDDDC\uD852\uDDEC\uD84F\uDF7F\uD850\uDC3C\uD850\uDF1A\uD850\uDE76\uD851\uDF8F\uD851\uDF25\uD852\uDEA4\uD841\uDDEB\uD84F\uDEF8\uD84D\uDE5F\uD852\uDE4A\uD852\uDD17\uD857\uDFE1\uD852\uDEDF\uD863\uDC23\uD84F\uDF35\uD85B\uDDEA\uD853\uDCD9\uD853\uDD06\uD869\uDDC6\uD862\uDECC\uD852\uDDAB\uD852\uDD8E"],["94a1","\uD852\uDE4E\uD852\uDDC5\uD852\uDCF3\uD862\uDEE3\uD846\uDC64\uD854\uDE21\uD854\uDDE7\uD84C\uDE32\uD851\uDE97\uD84D\uDF81\uD852\uDCF0\uD852\uDEBA\uD852\uDEC7\uD852\uDE96\uD858\uDDAE\uD855\uDD81\uD85D\uDF41\uD855\uDEE3\uD84F\uDEFA\uD845\uDEE6\uD843\uDD4C\uD852\uDD8C\uD840\uDE99\uD84F\uDDBA\uD845\uDF6E\uD840\uDDD4\uD843\uDC0D\uD849\uDEF5\uD856\uDEAF\uD856\uDE9C\uD840\uDE5B\uD856\uDFC6\uD856\uDFB3\uD857\uDEBC\uD857\uDEA6\uD852\uDDF9\uD845\uDFB0\uD858\uDE61"],["9540","\uD858\uDD5C\uD85E\uDF48\uD857\uDE82\uD85A\uDF75\uD842\uDD16\uD840\uDC4E\uD84D\uDDCF\uD859\uDC12\uD858\uDFF8\uD852\uDD62\uD842\uDC2C\uD856\uDEE9\uD857\uDD43\uD857\uDE0E\uD84D\uDC3F\uD852\uDDF7\uD859\uDDAD\uD859\uDDA0\uD85C\uDD27\uD85B\uDCD1\uD859\uDFB4\uD85A\uDE42\uD85A\uDE51\uD85B\uDDA7\uD85C\uDE1B\uD846\uDC40\uD846\uDCA1\uD846\uDCD8\uD87E\uDDBC\uD84F\uDD8F\uD85D\uDC22"],["95a1","\uD855\uDE83\uD85D\uDF85\uD85D\uDF84\uD862\uDFF5\uD862\uDFD9\uD862\uDF9C\uD862\uDDF9\uD865\uDC48\uD850\uDE84\uD846\uDC45\uD85F\uDDDC\uD853\uDC09\uD848\uDF21\uD845\uDFDA\uD852\uDD2F\uD862\uDE4B\uD862\uDEFC\uD863\uDC1D\uD863\uDC3B\uD863\uDD34\uD852\uDCFF\uD852\uDE42\uD850\uDFEA\uD84C\uDE25\uD863\uDEE7\uD863\uDE66\uD863\uDE65\uD852\uDDED\uD852\uDE78\uD84F\uDFEE\uD864\uDCB0"],["9640","\uD864\uDC93\uD855\uDFDF\uD862\uDD89\uD863\uDC26\uD862\uDF2F\uD858\uDFBE\uD850\uDE1B\uD843\uDF26\uD862\uDFC5\uD852\uDEB2\uD865\uDCDA\uD865\uDDD7\uD862\uDF50\uD852\uDE67\uD862\uDF64\uD862\uDE45\uD85E\uDF06\uD862\uDF65\uD856\uDCC8\uD866\uDCF1\uD866\uDD48\uD844\uDF02\uD852\uDDB8"],["96a1","\uD845\uDCE8\uD849\uDF1F\uD84F\uDDB8\uD849\uDF81\uD84A\uDD6B\uD867\uDE2D\uD868\uDDF5\uD868\uDCFE\uD850\uDD04\uD868\uDDB4\uD868\uDCED\uD868\uDCF3\uD866\uDD2F\uD85B\uDE12\uD85B\uDFDF\uD85A\uDF82\uD85B\uDDA4\uD85B\uDE84\uD85B\uDDF0\uD85B\uDE00\uD84D\uDFD7\uD858\uDC64\uD84D\uDD9C\uD84D\uDE40\uD852\uDDDE\uD840\uDEBF\uD855\uDD5D\uD845\uDF57\uD84C\uDDC9\uD852\uDD41\uD850\uDDB5\uD850\uDDAC\uD85B\uDC40\uD853\uDF97\uD845\uDFB5\uD862\uDE49"],["9740","\uD851\uDC88\uD862\uDDFC\uD846\uDCD6\uD843\uDF1D\uD85B\uDCC0\uD845\uDC13\uD850\uDEFA\uD84B\uDC26\uD850\uDFC1\uD84F\uDDB7\uD859\uDF41\uD858\uDD5B\uD858\uDCA4\uD852\uDDB9\uD852\uDD8B\uD862\uDDFA\uD862\uDF63\uD846\uDC9F\uD852\uDEB3\uD852\uDE3E\uD852\uDE94\uD845\uDFD9\uD852\uDE66\uD840\uDFA7\uD845\uDC24\uD852\uDDE5\uD852\uDD16\uD852\uDD76\uD841\uDCFE\uD862\uDECE\uD862\uDE16\uD862\uDFE7\uD855\uDDD5\uD862\uDE82"],["97a1","\uD852\uDD43\uD843\uDCFF\uD841\uDE1A\uD842\uDFEB\uD843\uDCB8\uD845\uDFFA\uD845\uDEC2\uD852\uDE50\uD846\uDC52\uD862\uDEC0\uD852\uDDAD\uD846\uDCBF\uD846\uDC83\uD85D\uDC84\uD84F\uDD5B\uD862\uDE81\uD846\uDC62\uD842\uDEB4\uD844\uDF9C\uD860\uDE18\uD864\uDCE4\uD85F\uDE4F\uD84F\uDFED\uD84F\uDE2D\uD840\uDFF5\uD863\uDC1C\uD85A\uDFC0\uD845\uDC52\uD850\uDF62\uD852\uDE71\uD84B\uDFE3\uD844\uDEB0\uD848\uDFBD\uD844\uDF98\uD84D\uDCE5\uD85E\uDFF4\uD84D\uDEDF\uD862\uDE83\uD84D\uDFD6\uD84C\uDFFA\uD853\uDC9F\uD84D\uDEAD\uD85B\uDCB7"],["9840","\uD85B\uDD26\uD85B\uDD51\uD85B\uDC82\uD85B\uDFDE\uD85C\uDD09\uD845\uDF3A\uD85B\uDC80\uD85C\uDC53\uD845\uDFDB\uD845\uDFB3\uD846\uDD05\uD850\uDDFC\uD845\uDF3C\uD850\uDEA5\uD850\uDE93\uD84F\uDEF9\uD85D\uDF36\uD851\uDC5B\uD850\uDECA\uD850\uDE59\uD862\uDDE1\uD85B\uDD28\uD851\uDCCE\uD85F\uDE4D\uD850\uDFBD\uD850\uDE56\uD844\uDF04\uD850\uDFE9\uD87E\uDC25\uD852\uDE4F\uD852\uDE5D\uD845\uDFDF"],["98a1","\uD84E\uDEFA\uD84C\uDF00\uD840\uDE14\uD842\uDCD5\uD841\uDE19\uD847\uDF9E\uD868\uDEB6\uD864\uDD5B\uD862\uDE59\uD865\uDC20\uD85E\uDEF4\uD855\uDEF6\uD85E\uDF18\uD852\uDCF2\uD853\uDF5C\uD855\uDD35"],["9940","\uD843\uDCCF"],["99a1","\uD85E\uDD67"],["9a40","\uD846\uDFC2"],["9aa1","\uD840\uDC94\uD840\uDEB7\uD840\uDFA0\uD841\uDCD7\uD841\uDDD5\uD841\uDE15\uD841\uDE76\uD845\uDEBA\uD842\uDEC2\uD842\uDECD\uD842\uDFBF\uD87E\uDC3B\uD842\uDFCB\uD842\uDFFB\uD843\uDC3B\uD843\uDC53\uD843\uDC65\uD843\uDC7C\uD843\uDC8D\uD843\uDCB5\uD843\uDCDD\uD843\uDCED\uD843\uDD6F\uD843\uDDB2\uD843\uDDC8\uD843\uDE04\uD843\uDE0E\uD843\uDED7\uD843\uDF90\uD843\uDF2D\uD843\uDE73\uD843\uDFBC\uD844\uDC5C\uD844\uDC4F\uD844\uDC76\uD844\uDC7B\uD844\uDC88\uD844\uDC96\uD844\uDCBF\uD844\uDCD3\uD844\uDD2F\uD844\uDD3B\uD844\uDEE3\uD844\uDF75\uD844\uDF36\uD845\uDD77\uD845\uDE19\uD845\uDFC3\uD845\uDFC7\uD846\uDC2D\uD846\uDD6A"],["9b40","\uD846\uDE2D\uD846\uDE45\uD847\uDC2A\uD847\uDC70\uD847\uDCAC\uD847\uDEC8\uD847\uDED5\uD847\uDF15\uD848\uDC45\uD848\uDE7C\uD848\uDFD7\uD848\uDFFA\uD849\uDF2A\uD84A\uDC71\uD84A\uDD4F\uD84A\uDD67\uD84A\uDD93\uD84A\uDED5\uD84A\uDEE8\uD84A\uDF0E\uD84A\uDF3F\uD84B\uDC4C"],["9b62","\uD84B\uDC88\uD84B\uDCB7\uD856\uDFE8\uD84B\uDD08\uD84B\uDD12\uD84B\uDDB7\uD84B\uDD95\uD84B\uDE42\uD84B\uDF74\uD84B\uDFCC\uD84C\uDC33\uD84C\uDC66\uD84C\uDF1F\uD84C\uDFDE\uD85E\uDE79\uD84D\uDD67\uD84D\uDDF3\uD852\uDDBA\uD84D\uDE1A\uD84D\uDF16\uD840\uDF46"],["9ba1","\uD84E\uDEA7\uD85D\uDE57\uD857\uDFE2\uD84F\uDE11\uD84F\uDEB9\uD85D\uDDFE\uD848\uDC9A\uD850\uDD19\uD862\uDE9A\uD850\uDEEE\uD850\uDF0D\uD850\uDC3B\uD850\uDF34\uD850\uDF96\uD852\uDE45\uD841\uDDCA\uD841\uDE11\uD847\uDEA8\uD84F\uDCFF\uD851\uDC04\uD851\uDCD6\uD851\uDE74\uD851\uDF2F\uD861\uDDE8\uD866\uDDC9\uD848\uDDC3\uD862\uDF4E\uD852\uDC12\uD852\uDCFB\uD852\uDE15\uD852\uDEC0\uD843\uDC78\uD853\uDEA5\uD853\uDF86\uD841\uDF79\uD854\uDC2C\uD854\uDE99\uD855\uDC19\uD84F\uDF4A\uD852\uDEA7\uD855\uDC46\uD855\uDC6E\uD85A\uDF52\uD855\uDD3F\uD85D\uDE32\uD855\uDD5E\uD855\uDD62\uD855\uDD66\uD855\uDFC7\uD852\uDD3F\uD856\uDC5D\uD84C\uDFCC\uD856\uDD03\uD862\uDD48\uD856\uDEAE\uD856\uDF89\uD857\uDC06\uD847\uDD90\uD858\uDD02\uD85F\uDC12\uD858\uDDB2\uD853\uDF9A\uD859\uDC02\uD859\uDC4A"],["9c40","\uD85A\uDFF7\uD859\uDC84\uD846\uDD1C\uD852\uDDF6\uD859\uDC88\uD84F\uDFEF\uD859\uDD12\uD859\uDDBF\uD859\uDEB5\uD849\uDF1B\uD855\uDFE1\uD87E\uDCCD\uD851\uDD21\uD859\uDEFC\uD852\uDD34\uD85B\uDCBD\uD859\uDF99\uD85A\uDC6E\uD859\uDC11\uD85A\uDC5E\uD85A\uDCC7\uD864\uDCC0\uD842\uDE11\uD85A\uDD26\uD85A\uDD39\uD85A\uDDFA\uD85A\uDE2D\uD859\uDC69\uD840\uDC21\uD85A\uDE34\uD85A\uDF5B\uD84D\uDD19\uD85A\uDF9D\uD85B\uDCA4\uD85B\uDDAE"],["9ca1","\uD849\uDD8D\uD85C\uDC4B\uD85C\uDDCD\uD85C\uDE80\uD85C\uDE85\uD848\uDD7A\uD85C\uDE8B\uD85C\uDEE6\uD852\uDDD0\uD85D\uDC50\uD843\uDEF8\uD84A\uDD26\uD861\uDC73\uD845\uDFB1\uD852\uDE2A\uD846\uDC20\uD867\uDCAD\uD866\uDCA4\uD85D\uDFCC\uD85E\uDC58\uD845\uDE0A\uD84D\uDF2F\uD860\uDCE8\uD844\uDFC5\uD85E\uDDDD\uD864\uDDA8\uD85C\uDCAF\uD862\uDDAB\uD85E\uDDFD\uD85E\uDE0A\uD85E\uDF0B\uD85F\uDD66\uD850\uDD7A\uD860\uDC09\uD868\uDEDF\uD860\uDF18\uD85B\uDE07\uD860\uDD6F\uD860\uDC23\uD85A\uDDB5\uD844\uDFED\uD84C\uDE2F\uD860\uDC48\uD863\uDC30\uD860\uDC83\uD862\uDD49\uD852\uDD88\uD852\uDEA5\uD84F\uDF81\uD860\uDC90\uD860\uDCF4\uD860\uDD2E\uD847\uDFA1\uD860\uDD4F"],["9d40","\uD860\uDD89\uD860\uDDAF\uD860\uDE1A\uD860\uDF06\uD860\uDF2F\uD860\uDF8A\uD861\uDC68\uD861\uDEAA\uD862\uDD56\uD862\uDDB8\uD862\uDDE7\uD862\uDDE8\uD862\uDF46\uD862\uDFD4\uD863\uDC09\uD863\uDFC5\uD864\uDCEC\uD864\uDD10\uD864\uDD3C\uD864\uDD5E\uD852\uDECA\uD865\uDCE7\uD865\uDDE9\uD865\uDDB0\uD865\uDDB8\uD865\uDF32\uD866\uDCD1\uD866\uDD49\uD866\uDD6A\uD866\uDDC3\uD866\uDE28\uD866\uDF0E\uD867\uDD5A\uD867\uDD9B\uD867\uDEF8\uD867\uDF23\uD868\uDE93\uD868\uDEFF\uD869\uDDCB\uD843\uDC9C"],["9da1","\uD849\uDCB0\uD852\uDE93\uD862\uDF2C\uD85E\uDC9D\uD845\uDFF5\uD860\uDC24\uD862\uDF6C\uD862\uDF99\uD85E\uDE3E\uD859\uDEAF\uD85D\uDE55\uD84F\uDCB7\uD855\uDE35\uD856\uDD56\uD857\uDE81\uD858\uDE58\uD843\uDE6D\uD84F\uDE88\uD853\uDC9E\uD845\uDFF6\uD846\uDC7B\uD857\uDC4A\uD854\uDF11\uD867\uDD98\uD857\uDED8\uD84F\uDD40\uD843\uDFEA\uD843\uDD49\uD84D\uDEBA\uD843\uDE9D\uD860\uDEE2\uD843\uDC41\uD843\uDC96\uD854\uDD48\uD843\uDE76\uD84B\uDC62"],["9e40","\uD843\uDEA2\uD844\uDC75\uD84A\uDF43\uD84B\uDEB3\uD843\uDDA7\uD85A\uDC8A\uD844\uDCC1\uD851\uDF06\uD85A\uDC93\uD849\uDEF4\uD85F\uDD2F\uD850\uDDA3\uD85F\uDD73\uD85B\uDED0\uD85C\uDEB6\uD844\uDDD9\uD84F\uDCFC\uD869\uDEA9\uD843\uDEAC\uD843\uDEF9\uD847\uDCA2\uD853\uDFC2\uD85F\uDFF9\uD843\uDFEB"],["9ea1","\uD84B\uDDA0\uD851\uDFE0\uD867\uDD7C\uD843\uDFEC\uD843\uDE0A\uD85D\uDDA3\uD843\uDFED"],["9ead","\uD858\uDC48\uD844\uDD87\uD851\uDE18\uD852\uDF6E\uD856\uDE95\uD842\uDD79"],["9ec5","\uD849\uDC65\uD867\uDEAC\uD84F\uDCFE\uD867\uDF30\uD853\uDFA9\uD865\uDD9E\uD867\uDFDE\uD84F\uDDB6\uD85C\uDEB2\uD859\uDFB3\uD84D\uDF20\uD84F\uDEF7\uD84F\uDE2C\uD841\uDC8E\uD843\uDEB6\uD85F\uDF2E\uD869\uDC34\uD84C\uDCDA\uD850\uDFF2"],["9ef5","\uD844\uDEA9\uD852\uDD63\uD867\uDE06\uD85C\uDCAE"],["9f40","\uD845\uDF6C\uD865\uDCD0\uD858\uDF35\uD85C\uDD64\uD843\uDD28\uD85B\uDD22\uD852\uDEE2\uD843\uDD71"],["9f4f","\uD847\uDF0F\uD847\uDDD1\uD852\uDD3E"],["9fa1","\uD845\uDF6D"],["9fae",""],["9fb2","\uD863\uDE97\uD85B\uDD23\uD840\uDFFC\uD857\uDC21\uD84F\uDCFD"],["9fc1","\uD852\uDD19\uD843\uDCD4"],["9fc9","\uD840\uDDF2"],["9fdb",""],["9fe7",""],["9feb","\uD869\uDE4A"],["9ff0","\uD860\uDF7D\uD852\uDE77"],["a040","\uD862\uDE5A\uD868\uDEB2\uD87E\uDC40\uD852\uDEBB"],["a055","\uD846\uDC3B\uD85B\uDE05"],["a058","\uD849\uDD1B"],["a05b",""],["a063","\uD858\uDD59"],["a073","\uD84C\uDFF5"],["a0a1","\uD862\uDFC2\uD863\uDE39"],["a0a6","\uD847\uDD46\uD843\uDF3B"],["a0ae",""],["a0b0","\uD857\uDF1A\uD85D\uDC86\uD859\uDFCC\uD85B\uDED1"],["a0d4","\uD850\uDC11"],["a0e2","\uD862\uDF2D\uD84F\uDCC7\uD857\uDED7\uD85D\uDE56\uD855\uDD31\uD846\uDD44\uD844\uDEFE\uD866\uDD03\uD85B\uDDDC\uD85C\uDCAD\uD858\uDDAD\uD862\uDE0F\uD84D\uDE77\uD840\uDCEE\uD85A\uDC46\uD853\uDF0E\uD858\uDF4C\uD858\uDE6B"],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"\xa8",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,"\uD840\uDCCC\uD840\uDC8A"],["c8a1","\uD85D\uDE07"],["c8cd",""],["c8f5","\xf8"],["f9fe",""],["fa40","\uD841\uDD47\uD841\uDDDF\uD84F\uDFC5\uD852\uDD42\uD862\uDDE4\uD846\uDDDB\uD84F\uDCC8\uD852\uDD33\uD862\uDDAA\uD840\uDEA0\uD85A\uDFB3\uD844\uDF05\uD849\uDCED\uD85B\uDD29\uD85E\uDE84\uD84D\uDE00\uD852\uDEB1\uD849\uDD13\uD840\uDF7E\uD840\uDF80\uD840\uDF47\uD841\uDC1F\uD852\uDDA4\uD841\uDC87\uD84C\uDFB4\uD842\uDFFF\uD848\uDCFC\uD840\uDEE5\uD849\uDD30\uD841\uDD8E\uD84C\uDE33\uD846\uDD83\uD841\uDDB3\uD84F\uDC99"],["faa1","\uD852\uDEA6\uD84D\uDF2D\uD85A\uDF13\uD862\uDEDE\uD84F\uDF80\uD842\uDD54\uD84F\uDFEC\uD842\uDFE2\uD845\uDF26\uD845\uDEE8\uD861\uDEAB\uD845\uDD96\uD845\uDE13\uD862\uDE9B\uD855\uDF72\uD842\uDF8F\uD84F\uDFEB\uD84B\uDDA3\uD843\uDC77\uD85A\uDF53\uD843\uDD74\uD845\uDF0D\uD843\uDEDD\uD843\uDD4D"],["fb40","\uD862\uDDBC\uD849\uDE98\uD846\uDCD7\uD850\uDC3A\uD851\uDC35\uD844\uDCB4\uD84C\uDE8A\uD862\uDF66\uD844\uDE4F\uD850\uDDA5\uD85B\uDC7E\uD845\uDC16\uD845\uDC54\uD850\uDF63\uD852\uDFF5\uD844\uDE3C\uD868\uDD50\uD850\uDE78"],["fba1","\uD845\uDE3E\uD845\uDE92\uD843\uDD4E\uD85B\uDC81\uD85B\uDD2A\uD845\uDFDC\uD845\uDFFB\uD845\uDFB2\uD85B\uDDA6\uD846\uDC28\uD845\uDED5\uD85B\uDE45\uD852\uDDA9\uD85B\uDFA1\uD849\uDD54\uD846\uDD11\uD845\uDEB8\uD85E\uDE0E\uD840\uDE04\uD846\uDE34\uD856\uDDCC\uD841\uDDA5\uD846\uDF44\uD847\uDCA5\uD85A\uDF28\uD847\uDDF9\uD847\uDE37\uD847\uDEA4\uD852\uDD01\uD848\uDC49\uD848\uDD73\uD851\uDCBC\uD843\uDCD3\uD845\uDF71\uD861\uDC82"],["fc40","\uD840\uDDC1\uD87E\uDC94\uD844\uDF3A\uD85A\uDC88\uD848\uDFD0\uD849\uDC71\uD85B\uDE6E\uD862\uDE36\uD854\uDE50\uD847\uDF6A\uD85C\uDCF8\uD849\uDE68\uD840\uDE9E\uD862\uDE29\uD846\uDC77\uD849\uDFB4\uD852\uDD82\uD852\uDD8F\uD85E\uDE53\uD87E\uDCA6\uD85B\uDED2\uD841\uDE56\uD84F\uDFB7"],["fca1","\uD84A\uDC5F\uD862\uDF9D\uD866\uDD5D\uD84A\uDD80\uD84A\uDCC1\uD840\uDD18\uD845\uDF70\uD84B\uDE0D\uD852\uDDDF\uD844\uDF8E\uD845\uDFFC\uD84B\uDE36\uD850\uDC8C\uD855\uDF1D\uD852\uDE28\uD852\uDE23\uD84C\uDC7E\uD852\uDD40\uD846\uDC29\uD84D\uDC00\uD84C\uDDF7\uD84C\uDDF8\uD84C\uDDA4\uD84C\uDDA5\uD843\uDE75\uD854\uDDE6\uD847\uDE3D\uD84C\uDE31\uD861\uDDF4\uD84C\uDDC8\uD854\uDF13\uD84A\uDCF7\uD850\uDF9C\uD852\uDE21\uD84D\uDFC2\uD850\uDDCD\uD864\uDCED\uD84C\uDFE6\uD85B\uDDA0"],["fd40","\uD84D\uDC6F\uD862\uDEDF\uD84D\uDDCD\uD84D\uDE3C\uD862\uDE4A\uD840\uDFC9\uD84D\uDE59\uD848\uDD2A\uD84D\uDF03\uD864\uDD9C\uD842\uDD23\uD849\uDFCD\uD84E\uDEDB\uD840\uDFB5\uD846\uDD58\uD84E\uDF5A\uD84F\uDEFC\uD849\uDC8B\uD852\uDCF1\uD85A\uDF51\uD84F\uDDBC\uD84F\uDDBD\uD850\uDDA4\uD852\uDD0C\uD852\uDD00"],["fda1","\uD84F\uDCC9\uD843\uDD32\uD84C\uDDF9\uD849\uDC91\uD85B\uDD25\uD85B\uDDA1\uD85B\uDDEB\uD852\uDD7F\uD850\uDC85\uD85B\uDE72\uD85B\uDF74\uD862\uDF21\uD84F\uDE2F\uD84F\uDF82\uD84C\uDC4B\uD84F\uDE30\uD845\uDC97\uD850\uDC3D\uD864\uDD70\uD850\uDD44\uD850\uDC91\uD850\uDD55\uD850\uDC39\uD84F\uDFF0\uD84F\uDFB4\uD850\uDD3F\uD850\uDD56\uD850\uDD57\uD850\uDD40\uD858\uDDDD\uD850\uDE77\uD850\uDF65\uD850\uDEC1\uD851\uDC5A\uD852\uDE27\uD852\uDE22\uD862\uDFE8"],["fe40","\uD855\uDE05\uD852\uDD74\uD84C\uDC44\uD852\uDC23\uD862\uDC2B\uD862\uDC04\uD843\uDC3A\uD85A\uDE2E\uD850\uDDE2\uD845\uDEE7\uD852\uDE24\uD852\uDDB7\uD852\uDD8D\uD852\uDDFB\uD852\uDE26\uD841\uDDC3\uD84A\uDCAD\uD863\uDEB2\uD852\uDE8C"],["fea1","\uD850\uDD5F\uD852\uDE79\uD862\uDF8F\uD863\uDC03\uD846\uDC9E\uD846\uDD88\uD863\uDED9\uD846\uDE4B\uD863\uDEAC\uD853\uDF82\uD853\uDD13\uD858\uDFF5\uD85A\uDD11\uD85A\uDD0E\uD85B\uDF9F\uD854\uDC9D\uD854\uDD7D\uD847\uDE1C\uD854\uDE20\uD84C\uDEAC\uD862\uDD64\uD862\uDD68\uD845\uDEC1\uD844\uDF76\uD852\uDE12\uD855\uDDE0\uD85D\uDE0C\uD862\uDF2B\uD858\uDC83\uD849\uDE1C\uD856\uDC57\uD85E\uDF39\uD85C\uDD26\uD864\uDD0D"]]')},94392:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","\xb7\xa8",7,"\xb1\xd7\xf7\xb0\xa4\xa7"],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1","\xe1\xe0\xe9\xe8\xed\xec\xf3\xf2\xfa\xf9\xfc\xea"],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},89146:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"\xb7\xa8\xad",9,"\xb1\xd7\xf7\xb0\xa7"],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,"\xb4\xb8\xa1\xbf\xa4\xb6\xae"],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,"\xc6\xd0\xaa"],["a8a6",""],["a8a8","\xd8\xba\xde"],["a8b1","",27,"",25,"",14,"\xbd\xbc\xbe"],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"\xe6\xf0\xf8\xdf\xfe",27,"",25,"",14,"\xb9\xb2\xb3"],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},56204:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["a140","\xb7"],["a1a1","\xa7\xaf\xd7\xf7\xb1",4,""],["a240","\xb0",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},95250:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","\xb4\xa8",9,"\xb1\xd7\xf7\xb0\xa7"],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2","\xb6"],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af","\xb8\xaf"],["8fa2c2","\xa1\xa6\xbf"],["8fa2eb","\xba\xaa\xa9\xae\xa4"],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1","\xc6"],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab","\xd8"],["8fa9af","\xde"],["8fa9c1","\xe6\xf0\xf8\xdf\xfe"],["8faaa1","\xc1\xc0\xc4\xc2\xc5\xc3\xc7\xc9\xc8\xcb\xca"],["8faaba","\xcd\xcc\xcf\xce\xd1\xd3\xd2\xd6\xd4\xd5\xda\xd9\xdc\xdb\xdd"],["8faba1","\xe1\xe0\xe4\xe2\xe5\xe3\xe7\xe9\xe8\xeb\xea"],["8fabbd","\xed\xec\xef\xee"],["8fabc5","\xf1\xf3\xf2\xf6\xf4\xf5\xfa\xf9\xfc\xfb\xfd\xff"],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},93313:e=>{"use strict";e.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},8190:e=>{"use strict";e.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]]')},14747:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","\xb4\xa8",9,"\xb1\xd7"],["8180","\xf7\xb0\xa7"],["81b8",""],["81c8",""],["81da",""],["81f0","\xb6"],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},18209:e=>{"use strict";e.exports=JSON.parse('{"author":"Mike D Pilsbury <mike.pilsbury@gmail.com>","contributors":["Alex Robson","Arthur Schreiber","Bret Copeland <bret@atlantisflight.org> (https://github.com/bretcope)","Bryan Ross <bryan@rossipedia.com> (https://github.com/rossipedia)","Ciaran Jessup <ciaranj@gmail.com>","Cort Fritz <cfritz@caa.com>","lastonesky","Patrik Simek <patrik@patriksimek.cz>","Phil Dodderidge <pdodde@poyntz.com>","Zach Aller"],"name":"tedious","description":"A TDS driver, for connecting to MS SQLServer databases.","keywords":["sql","database","mssql","sqlserver","sql-server","tds","msnodesql","azure"],"homepage":"https://github.com/tediousjs/tedious","bugs":"https://github.com/tediousjs/tedious/issues","license":"MIT","version":"18.6.1","main":"./lib/tedious.js","types":"./lib/tedious.d.ts","repository":{"type":"git","url":"https://github.com/tediousjs/tedious.git"},"engines":{"node":">=18"},"publishConfig":{"tag":"next","provenance":true},"dependencies":{"@azure/core-auth":"^1.7.2","@azure/identity":"^4.2.1","@azure/keyvault-keys":"^4.4.0","@js-joda/core":"^5.6.1","@types/node":">=18","bl":"^6.0.11","iconv-lite":"^0.6.3","js-md4":"^0.3.2","native-duplexpair":"^1.0.0","sprintf-js":"^1.1.3"},"devDependencies":{"@babel/cli":"^7.23.9","@babel/core":"^7.23.9","@babel/node":"^7.23.9","@babel/preset-env":"^7.23.9","@babel/preset-typescript":"^7.23.3","@babel/register":"^7.23.7","@types/async":"^3.2.24","@types/bl":"^5.1.0","@types/chai":"^4.3.12","@types/depd":"^1.1.36","@types/lru-cache":"^5.1.1","@types/mocha":"^10.0.6","@types/sprintf-js":"^1.1.4","@typescript-eslint/eslint-plugin":"^7.0.2","@typescript-eslint/parser":"^7.0.2","async":"^3.2.5","babel-plugin-istanbul":"^6.1.1","chai":"^4.4.1","codecov":"^3.8.3","eslint":"^8.57.0","mitm":"^1.7.2","mocha":"^10.3.0","nyc":"^15.1.0","rimraf":"^5.0.5","semantic-release":"^19.0.3","sinon":"^15.2.0","typedoc":"^0.26.5","typescript":"^5.5.4"},"scripts":{"docs":"typedoc","lint":"eslint src test --ext .js,.ts && tsc","test":"mocha --forbid-only test/unit test/unit/token test/unit/tracking-buffer","test-integration":"mocha --forbid-only test/integration/","test-all":"mocha --forbid-only test/unit/ test/unit/token/ test/unit/tracking-buffer test/integration/","build:types":"tsc --project tsconfig.build-types.json","build":"rimraf lib && babel src --out-dir lib --extensions .js,.ts && npm run build:types","prepublish":"npm run build","semantic-release":"semantic-release"},"babel":{"sourceMaps":"both","ignore":["./src/**/*.d.ts"],"presets":[["@babel/preset-env",{"targets":{"node":18}}],["@babel/preset-typescript",{"allowDeclareFields":true}]],"plugins":[["@babel/transform-typescript",{"allowDeclareFields":true}]]},"mocha":{"require":"test/setup.js","timeout":5000,"extension":["js","ts"]},"nyc":{"sourceMap":false,"instrument":false,"extension":[".ts"]}}')}};