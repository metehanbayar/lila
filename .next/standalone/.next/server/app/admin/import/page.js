(()=>{var e={};e.id=462,e.ids=[462],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},3387:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=r(70260),n=r(28203),s=r(25155),i=r.n(s),o=r(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["admin",{children:["import",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,77993)),"C:\\Users\\PC\\Desktop\\qr men\xfc son hali\\lila\\src\\app\\admin\\import\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,99346)),"C:\\Users\\PC\\Desktop\\qr men\xfc son hali\\lila\\src\\app\\admin\\import\\layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"C:\\Users\\PC\\Desktop\\qr men\xfc son hali\\lila\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\PC\\Desktop\\qr men\xfc son hali\\lila\\src\\app\\admin\\import\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/admin/import/page",pathname:"/admin/import",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},45116:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,40802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,88921,23))},3260:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,57174,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,61365,23))},842:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16638,23)),Promise.resolve().then(r.bind(r,30998)),Promise.resolve().then(r.bind(r,12058))},40594:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,37882,23)),Promise.resolve().then(r.bind(r,22403)),Promise.resolve().then(r.bind(r,15974))},8859:(e,t,r)=>{Promise.resolve().then(r.bind(r,77993))},45651:(e,t,r)=>{Promise.resolve().then(r.bind(r,70205))},96487:()=>{},78335:()=>{},79334:(e,t,r)=>{"use strict";var a=r(58686);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},70205:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(45512),n=r(58009),s=r(79334),i=r(22403);function o(){let e=(0,s.useRouter)(),[t,r]=(0,n.useState)([]),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null),[m,p]=(0,n.useState)(""),u=async e=>{if(!e.target.files?.[0])return;let t=e.target.files[0];console.log("Se\xe7ilen dosya:",t.name),d(null),p("");try{p("XML dosyası okunuyor...");let e=new FileReader;e.onerror=e=>{console.error("Dosya okuma hatası:",e),d("Dosya okunurken bir hata oluştu")},e.onload=async e=>{try{console.log("Dosya başarıyla okundu");let t=e.target?.result;p("XML ayrıştırılıyor...");let a=new DOMParser().parseFromString(t,"text/xml");if(a.getElementsByTagName("parsererror").length>0)throw Error("Ge\xe7ersiz XML formatı");let n=a.getElementsByTagName("item");console.log("Bulunan item sayısı:",n.length);let s=[],i=0;p("\xdcr\xfcnler işleniyor...");for(let e=0;e<n.length;e++){let t=n[e],r=t.getElementsByTagName("wp:post_type")[0]?.textContent,a=t.getElementsByTagName("wp:status")[0]?.textContent;if("appetit_item"===r&&"publish"===a){i++,p(`${i}/${n.length} \xfcr\xfcn işleniyor...`);let e=t.getElementsByTagName("title")[0]?.textContent||"";console.log(`İşlenen \xfcr\xfcn (${i}/${n.length}):`,e);let r=t.getElementsByTagName("wp:postmeta"),a="";for(let e=0;e<r.length;e++){let t=r[e].getElementsByTagName("wp:meta_key")[0]?.textContent;if("appetit_item_meta"===t){a=r[e].getElementsByTagName("wp:meta_value")[0]?.textContent||"";break}}if(a)try{let e=a.replace(/^\[CDATA\[|\]\]$/g,""),r=e.match(/item_name_1";s:\d+:"([^"]+)/),i=e.match(/item_description_1";s:\d+:"([^"]+)/),o=e.match(/price";s:\d+:"(\d+\.\d+|\d+)"/),l=e.match(/product_variations";a:\d+:{([^]*)}}/m),c=[];if(l){let e;let t=l[1],r=/i:\d+;a:\d+:{([^}]*?)}/g;for(;null!==(e=r.exec(t));){let t=e[1],r=t.match(/price";s:\d+:"(\d+)"/),a=t.match(/variation_name_1";s:\d+:"([^"]+)"/),n=t.match(/ID";s:\d+:"([^"]+)"/);a&&r&&(c.push({id:n?.[1]||Math.random().toString(36).substr(2,9),name:a[1],price:r[1]}),console.log(`Varyasyon eklendi: ${a[1]} - ${r[1]}TL`))}console.log("Toplam bulunan varyasyonlar:",c.length,c)}if(r){let a=r[1],l=i?i[1]:"",d=c.length>0?c[0].price:o?o[1]:"0",m=t.getElementsByTagName("category"),p=[];for(let e=0;e<m.length;e++){let t=m[e].getAttribute("domain");if("appetit_items_category"===t){let t=m[e].textContent||"Genel";p.push(t)}}let u=p.length>0?p[0]:"Genel",h=e.match(/square_photo";s:\d+:"(\d+)"/),g=null;if(h){let e=h[1];for(let t=0;t<n.length;t++){let r=n[t];if(r.getElementsByTagName("wp:post_type")[0]?.textContent==="attachment"&&r.getElementsByTagName("wp:post_id")[0]?.textContent===e){g=r.getElementsByTagName("wp:attachment_url")[0]?.textContent||null;break}}}let x=u.toLowerCase().replace(/ğ/g,"g").replace(/ü/g,"u").replace(/ş/g,"s").replace(/ı/g,"i").replace(/ö/g,"o").replace(/ç/g,"c").replace(/[^a-z0-9]/g,"-"),y=g?`/dishes/${a.toLowerCase().replace(/ğ/g,"g").replace(/ü/g,"u").replace(/ş/g,"s").replace(/ı/g,"i").replace(/ö/g,"o").replace(/ç/g,"c").replace(/[^a-z0-9]/g,"-")}.jpg`:"/placeholder.jpg",f=`/categories/${x}.jpg`,b=[];p.length>1&&b.push({id:Math.random().toString(36).substr(2,9),icon:"\uD83C\uDFF7️",label:"Kategori",value:p.slice(1).join(", ")}),s.push({id:Math.random().toString(36).substr(2,9),name:a,description:l,price:d,category:u,image:y,categoryImage:f,imageUrl:g,features:b.length>0?b:[],variations:c.length>0?c:void 0}),console.log(`\xdcr\xfcn eklendi: ${a} (${c.length} varyasyon, ${p.length} kategori)`)}}catch(e){console.error(`Meta parse hatası:`,e)}}}console.log("Toplam bulunan \xfcr\xfcn sayısı:",s.length),p(`${s.length} \xfcr\xfcn bulundu`),r(s)}catch(e){console.error("XML işleme hatası:",e),d(e instanceof Error?e.message:"XML işlenirken bir hata oluştu")}},e.readAsText(t)}catch(e){console.error("Genel hata:",e),d("XML dosyası işlenirken bir hata oluştu")}},h=async()=>{if(t.length){l(!0),d(null),p("İ\xe7e aktarma başlatılıyor...");try{let r=[...new Set(t.map(e=>e.category))].map(e=>({id:Math.random().toString(36).substr(2,9),name:e,image:t.find(t=>t.category===e)?.categoryImage||"",description:`${e} kategorisindeki lezzetli \xfcr\xfcnlerimiz`}));for(let e of(p("Kategoriler kaydediliyor..."),r))if(!(await fetch("/api/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Kategori eklenirken bir hata oluştu");let a=[];for(let e of t){if(p(`${e.name} i\xe7in resimler indiriliyor...`),e.imageUrl)try{await fetch("/api/images",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:e.imageUrl,savePath:e.image})})}catch(t){console.error(`Resim indirme hatası (${e.name}):`,t)}if(!a.some(t=>t.category===e.category)&&e.imageUrl)try{await fetch("/api/images",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:e.imageUrl,savePath:e.categoryImage})})}catch(t){console.error(`Kategori resmi indirme hatası (${e.category}):`,t)}let t={id:e.id,name:e.name,description:e.description,price:e.price,category:e.category,image:e.image,categoryImage:e.categoryImage,features:e.features,variations:e.variations};a.push(t)}for(let e of(p("\xdcr\xfcnler kaydediliyor..."),a))if(!(await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("\xdcr\xfcn eklenirken bir hata oluştu");i.oR.success("İ\xe7e aktarma başarıyla tamamlandı"),e.push("/admin/menu")}catch(e){d("İ\xe7e aktarma sırasında bir hata oluştu"),console.error("İ\xe7e aktarma hatası:",e),i.oR.error("İ\xe7e aktarma sırasında bir hata oluştu")}finally{l(!1),p("")}}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsx)("header",{className:"bg-white shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"XML Import"}),(0,a.jsx)("button",{onClick:()=>e.back(),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50",children:"Geri"})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WordPress XML Dosyası"}),(0,a.jsx)("input",{type:"file",accept:".xml",onChange:u,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-100"})]}),c&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:c})}),m&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:(0,a.jsx)("p",{className:"text-sm text-blue-600",children:m})}),t.length>0&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900",children:["İ\xe7e Aktarılacak \xdcr\xfcnler (",t.length,")"]}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-md overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\xdcr\xfcn"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kategori"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fiyat"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Porsiyon Se\xe7enekleri"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.name}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.category}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.price," ₺"]}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.variations?.map(e=>a.jsxs("div",{className:"whitespace-nowrap",children:[e.name,": ",e.price," ₺"]},e.id))})]},t))})]})}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:h,disabled:o,className:"px-4 py-2 text-sm font-medium text-white bg-gray-900 rounded-md shadow-sm hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"İ\xe7e Aktarılıyor...":"İ\xe7e Aktar"})})]})]})})]})}},15974:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var a=r(45512),n=r(58009);let s=()=>{let[e,t]=(0,n.useState)(!1),[r,s]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{let e=localStorage.getItem("pwaPromptShown"),r=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");s(r),e||r||setTimeout(()=>{t(!0)},2e3)},[]),!e||r)?null:(0,a.jsx)("div",{className:"fixed bottom-4 left-4 right-4 bg-white rounded-lg shadow-lg p-4 z-50 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Daha İyi Deneyim İ\xe7in"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:"Bu siteyi ana ekranınıza ekleyerek tam ekran deneyimi yaşayabilirsiniz"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-500",children:[(0,a.jsx)("p",{children:"Nasıl eklenir:"}),(0,a.jsx)("p",{children:'1. Tarayıcı men\xfcs\xfcnden (⋮) "Ana Ekrana Ekle"yi se\xe7in'}),(0,a.jsx)("p",{children:'2. A\xe7ılan pencerede "Ekle"ye dokunun'})]})]}),(0,a.jsx)("button",{onClick:()=>{t(!1),localStorage.setItem("pwaPromptShown","true")},className:"ml-4 text-gray-400 hover:text-gray-500",children:(0,a.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}},99346:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>a});let a={title:"XML Import - Lila Coffee & Bistro",description:"Lila Coffee & Bistro XML import sayfası"};function n({children:e}){return e}},77993:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\PC\\\\Desktop\\\\qr men\xfc son hali\\\\lila\\\\src\\\\app\\\\admin\\\\import\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\PC\\Desktop\\qr men\xfc son hali\\lila\\src\\app\\admin\\import\\page.tsx","default")},71354:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,metadata:()=>d,viewport:()=>c});var a=r(62740),n=r(85041),s=r.n(n);r(61135);var i=r(30998),o=r(79847),l=r(12058);let c={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,viewportFit:"cover"},d={title:"Lila QR Menu",description:"QR Menu Uygulaması",manifest:"/manifest.json",themeColor:"#000000",viewport:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover, interactive-widget=resizes-content",other:{"mobile-web-app-capable":"yes","apple-mobile-web-app-capable":"yes","application-name":"QR Menu","apple-mobile-web-app-title":"QR Menu","apple-mobile-web-app-status-bar-style":"black-translucent","msapplication-starturl":"/","msapplication-navbutton-color":"#000000"}};function m({children:e}){return(0,a.jsxs)("html",{lang:"tr",children:[(0,a.jsxs)("head",{children:[(0,a.jsx)("link",{rel:"icon",href:"/logo.png"}),(0,a.jsx)("meta",{name:"application-name",content:"QR Menu"}),(0,a.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,a.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),(0,a.jsx)("meta",{name:"apple-mobile-web-app-title",content:"QR Menu"}),(0,a.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover, interactive-widget=resizes-content"}),(0,a.jsx)("meta",{name:"theme-color",content:"#000000",media:"(prefers-color-scheme: light)"}),(0,a.jsx)("meta",{name:"theme-color",content:"#000000",media:"(prefers-color-scheme: dark)"}),(0,a.jsx)("meta",{name:"full-screen",content:"yes"}),(0,a.jsx)("meta",{name:"browsermode",content:"application"}),(0,a.jsx)("meta",{name:"screen-orientation",content:"portrait"}),(0,a.jsx)("meta",{name:"x5-fullscreen",content:"true"}),(0,a.jsx)("meta",{name:"x5-page-mode",content:"app"}),(0,a.jsx)("meta",{name:"msapplication-navbutton-color",content:"#000000"}),(0,a.jsx)("meta",{name:"msapplication-starturl",content:"/"}),(0,a.jsx)("meta",{name:"mobile-agent",content:"format=html5"}),(0,a.jsx)("link",{rel:"apple-touch-icon",href:"/icons/icon-192x192.png"})]}),(0,a.jsxs)("body",{className:s().className,children:[(0,a.jsx)(i.Toaster,{position:"top-center"}),(0,a.jsx)(l.default,{}),(0,a.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-gray-50",children:e}),(0,a.jsx)(o.default,{id:"register-sw",strategy:"afterInteractive",children:`
            if ('serviceWorker' in navigator) {
              window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js', {
                  scope: '/'
                }).then(registration => {
                  console.log('SW registered:', registration);
                }).catch(error => {
                  console.log('SW registration failed:', error);
                });
              });
            }

            // Tam ekran modunu zorla
            function enterFullScreen() {
              const doc = window.document;
              const docEl = doc.documentElement;

              const requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen;
              
              if (requestFullScreen && !doc.fullscreenElement) {
                requestFullScreen.call(docEl);
              }
            }

            // Sayfa y\xfcklendiğinde ve kullanıcı etkileşiminde tam ekranı dene
            window.addEventListener('load', () => {
              document.addEventListener('click', enterFullScreen, { once: true });
              document.addEventListener('touchstart', enterFullScreen, { once: true });
            });
          `})]})]})}},12058:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\PC\\\\Desktop\\\\qr men\xfc son hali\\\\lila\\\\src\\\\components\\\\AddToHomeScreen.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\PC\\Desktop\\qr men\xfc son hali\\lila\\src\\components\\AddToHomeScreen.tsx","default")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(88077);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},61135:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[994,941,77],()=>r(3387));module.exports=a})();