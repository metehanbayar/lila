"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{4642:(e,t,r)=>{r.d(t,{A:()=>c});var s=r(5155),i=r(2115),l=r(5565),a=r(5683),n=r(3478);let o="https://placehold.co/600x400/gray/white?text=G\xf6rsel+Yok";function c(e){var t,r,c;let{product:d,allProducts:u=[],categoryProducts:x=[]}=e,[h,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(d),[f,v]=(0,i.useState)(!1),[b,w]=(0,i.useState)(!1),[j,y]=(0,i.useState)("right"),k=(0,i.useRef)(0),N=(0,i.useRef)(0),C=(0,i.useRef)(null);(0,i.useEffect)(()=>{v(JSON.parse(localStorage.getItem("favorites")||"[]").includes(d.id))},[d.id]);let L=e=>{e.stopPropagation();let t=JSON.parse(localStorage.getItem("favorites")||"[]");if(f){let e=t.filter(e=>e!==d.id);localStorage.setItem("favorites",JSON.stringify(e)),v(!1)}else t.push(d.id),localStorage.setItem("favorites",JSON.stringify(t)),v(!0)},S=(0,i.useCallback)(()=>{p(!1),g(d);let e=document.querySelector('[data-product-id="'.concat(m.id,'"]'));if(e){let t=document.querySelector("header"),r=t?t.getBoundingClientRect().height:0,s=document.querySelector(".category-bar"),i=r+(s?s.getBoundingClientRect().height:0);setTimeout(()=>{let t=e.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:t-i-20,behavior:"smooth"})},100)}},[m.id,d]);(0,i.useEffect)(()=>{let e=()=>{h&&S()};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[h,S]),(0,i.useEffect)(()=>{h&&window.history.pushState({modal:"product-detail"},"")},[h]);let E=x.length>0?x:u,M=E.findIndex(e=>e.id===m.id),z=M>0?E[M-1]:null,P=M<E.length-1?E[M+1]:null,T=(0,i.useCallback)(()=>{z&&(y("right"),g(z))},[z]),B=(0,i.useCallback)(()=>{P&&(y("left"),g(P))},[P]);return(0,i.useEffect)(()=>{let e=e=>{h&&("ArrowLeft"===e.key&&z?T():"ArrowRight"===e.key&&P?B():"Escape"===e.key&&S())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[h,z,P,S,B,T]),(0,i.useEffect)(()=>{if(h){w(!0);let e=setTimeout(()=>{w(!1)},2e3);return()=>clearTimeout(e)}},[h]),(0,i.useEffect)(()=>(h?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[h]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{onClick:()=>{g(d),p(!0)},className:"h-full bg-white rounded-xl cursor-pointer transition-all hover:shadow-lg flex flex-col relative","data-product-id":d.id,children:[(0,s.jsx)("button",{onClick:L,className:"absolute top-2 right-2 z-10 p-2 bg-white/90 backdrop-blur-sm rounded-full shadow-lg hover:bg-white transition-all group",children:(0,s.jsx)("svg",{className:"w-5 h-5 ".concat(f?"text-pink-500 fill-current":"text-gray-400 group-hover:text-pink-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),(0,s.jsx)("div",{className:"aspect-square relative overflow-hidden rounded-t-xl bg-gradient-to-br from-pink-100/50 to-white",children:(0,s.jsx)(l.default,{src:d.image||o,alt:d.name,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 50vw, 33vw",priority:!0})}),(0,s.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,s.jsx)("h3",{className:"px-3 pt-2 text-sm font-medium text-gray-900 line-clamp-2",children:d.name}),(0,s.jsx)("div",{className:"p-3 pt-1 mt-auto",children:(null===(t=d.variations)||void 0===t?void 0:t.length)?(0,s.jsx)("span",{className:"block w-full px-2 py-1 bg-[#b60575] text-white text-xs font-medium rounded-lg text-center",children:"\xc7eşitler i\xe7in tıklayın"}):(0,s.jsxs)("span",{className:"block w-full px-2 py-1 bg-[#b60575] text-white text-xs font-medium rounded-lg text-center",children:[d.price," ₺"]})})]})]}),(0,s.jsx)(a.N,{mode:"wait",children:h&&(0,s.jsx)(n.P.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-2 sm:p-4",onClick:S,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,s.jsxs)(n.P.div,{ref:C,className:"bg-white rounded-2xl w-full max-w-5xl h-[90vh] flex flex-col relative cursor-default overflow-hidden",onClick:e=>{e.stopPropagation(),e.preventDefault()},onTouchStart:e=>{e.target.closest(".aspect-square")&&(k.current=e.touches[0].clientX,N.current=e.touches[0].clientX)},onTouchMove:e=>{0!==k.current&&(N.current=e.touches[0].clientX)},onTouchEnd:()=>{if(k.current===N.current){k.current=0,N.current=0;return}let e=N.current-k.current;Math.abs(e)>50&&(e>0&&z?(y("right"),T()):e<0&&P&&(y("left"),B())),k.current=0,N.current=0},onMouseDown:e=>{e.target.closest(".aspect-square")&&(k.current=e.clientX,N.current=e.clientX)},onMouseMove:e=>{0!==k.current&&(N.current=e.clientX)},onMouseUp:()=>{if(k.current===N.current){k.current=0,N.current=0;return}if(0===k.current)return;let e=N.current-k.current;Math.abs(e)>50&&(e>0&&z?(y("right"),T()):e<0&&P&&(y("left"),B())),k.current=0,N.current=0},onMouseLeave:()=>{k.current=0,N.current=0},initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{type:"spring",stiffness:300,damping:30},children:[(0,s.jsx)(a.N,{children:b&&(0,s.jsxs)(s.Fragment,{children:[z&&(0,s.jsx)(n.P.div,{className:"absolute left-8 inset-y-0 z-40 pointer-events-none flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,s.jsx)(n.P.div,{className:"bg-white/10 backdrop-blur-sm text-white p-4 rounded-full",animate:{x:[-20,0,-20],scale:[1,1.1,1],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},children:(0,s.jsx)("span",{role:"img","aria-label":"swipe left",className:"text-3xl transform -rotate-90",children:"\uD83D\uDC46"})})}),P&&(0,s.jsx)(n.P.div,{className:"absolute right-8 inset-y-0 z-40 pointer-events-none flex items-center",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:(0,s.jsx)(n.P.div,{className:"bg-white/10 backdrop-blur-sm text-white p-4 rounded-full",animate:{x:[20,0,20],scale:[1,1.1,1],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},children:(0,s.jsx)("span",{role:"img","aria-label":"swipe right",className:"text-3xl transform rotate-90",children:"\uD83D\uDC46"})})})]})}),(0,s.jsx)("div",{className:"absolute top-4 left-4 z-30",children:(0,s.jsx)("button",{onClick:L,className:"p-2 bg-white/90 backdrop-blur-sm rounded-full shadow-lg hover:bg-white transition-all group",children:(0,s.jsx)("svg",{className:"w-5 h-5 ".concat(f?"text-pink-500 fill-current":"text-gray-400 group-hover:text-pink-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})}),(0,s.jsx)("div",{className:"absolute top-4 right-4 z-30",children:(0,s.jsx)("button",{onClick:S,className:"p-2 bg-white/90 backdrop-blur-sm rounded-full shadow-lg hover:bg-white transition-all",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),(0,s.jsxs)(n.P.div,{className:"grid lg:grid-cols-2 h-full",initial:{x:"left"===j?300:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:"left"===j?-300:300,opacity:0},transition:{type:"spring",stiffness:300,damping:30,mass:.8},children:[(0,s.jsx)("div",{className:"relative lg:h-full",children:(0,s.jsx)("div",{className:"aspect-square lg:aspect-auto lg:h-full relative overflow-hidden lg:rounded-l-2xl bg-gradient-to-br from-pink-100/50 to-white",children:(0,s.jsx)(l.default,{src:m.image||o,alt:m.name,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, 50vw",priority:!0})})}),(0,s.jsx)("div",{className:"p-6 lg:p-8 overflow-y-auto",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),!(null===(r=m.variations)||void 0===r?void 0:r.length)&&(0,s.jsxs)("span",{className:"text-xl font-bold text-[#b60575]",children:[m.price," ₺"]})]}),m.variations&&m.variations.length>0&&(0,s.jsxs)("div",{className:"pt-4",children:[(0,s.jsx)("h4",{className:"text-base font-medium text-gray-900 mb-3",children:"Fiyatlar"}),(0,s.jsx)("div",{className:"grid gap-2",children:m.variations.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-xl bg-pink-50 hover:bg-pink-100 transition-colors",children:[(0,s.jsx)("span",{className:"text-base font-medium text-gray-900",children:e.name}),(0,s.jsxs)("span",{className:"text-lg font-bold text-[#b60575]",children:[e.price," ₺"]})]},e.id))})]}),m.description&&(0,s.jsx)("p",{className:"text-gray-600 text-base",children:m.description}),(null===(c=m.features)||void 0===c?void 0:c.filter(e=>"En \xc7ok Satan"!==e.value).length)>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"\xd6zellikler"}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:m.features.filter(e=>"En \xc7ok Satan"!==e.value).map((e,t)=>(0,s.jsxs)("div",{className:"bg-pink-50 rounded-xl p-2 text-center hover:bg-pink-100 transition-colors",children:[(0,s.jsx)("span",{className:"text-xl block",role:"img","aria-label":e.label,children:e.icon}),(0,s.jsx)("span",{className:"text-xs font-medium text-gray-900",children:e.value})]},e.id||t))})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-gray-100 text-center",children:[(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[M+1," / ",E.length]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:m.category})]})]})})]},m.id),(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center",children:z&&(0,s.jsx)("button",{onClick:T,className:"bg-white/90 backdrop-blur-sm text-gray-800 p-2 rounded-r-xl shadow-lg hover:bg-white transition-all",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center",children:P&&(0,s.jsx)("button",{onClick:B,className:"bg-white/90 backdrop-blur-sm text-gray-800 p-2 rounded-l-xl shadow-lg hover:bg-white transition-all",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})})]})})})]})}}}]);