(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[836],{2435:(e,a,t)=>{Promise.resolve().then(t.bind(t,8989))},6046:(e,a,t)=>{"use strict";var r=t(6658);t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},8989:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var r=t(5155),l=t(2115),i=t(6046),s=t(5565),n=t(5037);let o=[{icon:"\uD83C\uDF36️",label:"Acı Seviyesi",values:["Az Acılı","Orta Acılı","\xc7ok Acılı"]},{icon:"⚖️",label:"Porsiyon",values:["K\xfc\xe7\xfck","Normal","B\xfcy\xfck"]},{icon:"\uD83E\uDD69",label:"Pişirme",values:["Az","Orta","İyi"]},{icon:"\uD83C\uDF31",label:"Diyet",values:["Vejetaryen","Vegan","Glutensiz"]},{icon:"\uD83E\uDD44",label:"Servis",values:["1 Kişilik","2 Kişilik","4 Kişilik"]},{icon:"\uD83D\uDD25",label:"Kalori",values:["300-400","400-600","600+"]},{icon:"⭐",label:"\xd6zellik",values:["Şefin \xd6nerisi","Yeni","Pop\xfcler"]},{icon:"\uD83E\uDD5C",label:"Alerjen",values:["Gluten","Fındık","S\xfct"]},{icon:"⏰",label:"Hazırlama",values:["10-15 dk","15-25 dk","25+ dk"]},{icon:"\uD83D\uDCAF",label:"Beğeni",values:["Trend","En \xc7ok Satan","Favori"]}];function c(){var e;let a=(0,i.useRouter)(),[t,c]=(0,l.useState)([]),[d,m]=(0,l.useState)(!0),[x,u]=(0,l.useState)(null),[p,h]=(0,l.useState)(null),[g,b]=(0,l.useState)(!1),[y,f]=(0,l.useState)(!1),[v,j]=(0,l.useState)(null),[N,k]=(0,l.useState)([]),[w,S]=(0,l.useState)(new Set),[_,z]=(0,l.useState)(!1),[E,C]=(0,l.useState)(""),[P,F]=(0,l.useState)("");(0,l.useEffect)(()=>{(async()=>{try{m(!0),u(null);let e=await fetch("/api/products",{cache:"no-store",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!e.ok)throw Error("\xdcr\xfcnler y\xfcklenirken bir hata oluştu");let a=await e.json();c(a)}catch(e){console.error("\xdcr\xfcnleri getirme hatası:",e),u(e instanceof Error?e.message:"Bir hata oluştu")}finally{m(!1)}})()},[]),(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/categories");if(!e.ok)throw Error("Kategoriler y\xfcklenirken bir hata oluştu");let a=await e.json();k(a.map(e=>e.name))}catch(e){console.error("Kategorileri getirme hatası:",e)}})()},[]);let T=[...new Set(t.map(e=>e.category))],R=async e=>{if(confirm("Bu \xfcr\xfcn\xfc silmek istediğinize emin misiniz?"))try{if(!(await fetch("/api/products/".concat(e),{method:"DELETE"})).ok)throw Error("\xdcr\xfcn silinirken bir hata oluştu");c(t.filter(a=>a.id!==e))}catch(e){console.error("\xdcr\xfcn silme hatası:",e),alert("\xdcr\xfcn silinirken bir hata oluştu")}},A=e=>{h(e),b(!0)},O=async e=>{try{var a,t,r,l;let i="/placeholder.jpg";if(v){let e=new FormData;if(e.append("file",v),!(await fetch("/api/upload",{method:"POST",body:e})).ok)throw Error("Resim y\xfcklenirken bir hata oluştu");i="/dishes/".concat(v.name)}let s=(null===(a=e.get("category"))||void 0===a?void 0:a.toString())||"",d=(null===(t=e.get("name"))||void 0===t?void 0:t.toString())||"",m=Math.random().toString(36).substr(2,9),x=o.map(a=>{var t;let r=null===(t=e.get("feature_".concat(a.label)))||void 0===t?void 0:t.toString();return r?{name:a.icon,value:r}:null}).filter(e=>null!==e),u=[],p=Array.from(e.entries()).filter(e=>{let[a]=e;return a.startsWith("variation_name_")||a.startsWith("variation_price_")}).reduce((e,a)=>{let[t,r]=a,l=t.split("_").pop();return l&&(e[l]||(e[l]={}),t.includes("name")&&(e[l].name=r.toString()),t.includes("price")&&(e[l].price=r.toString())),e},{});Object.values(p).forEach(e=>{e.name&&e.price&&u.push({id:Math.random().toString(36).substr(2,9),name:e.name,price:e.price})});let h={id:m,name:d,description:(null===(r=e.get("description"))||void 0===r?void 0:r.toString())||"",price:(null===(l=e.get("price"))||void 0===l?void 0:l.toString())||"0",category:s,image:i,categoryImage:"/categories/".concat(s.toLowerCase().replace(/[^a-z0-9]/g,"-"),".jpg"),features:x,mssqlProductName:d,variations:u};if(!(await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok)throw Error("\xdcr\xfcn eklenirken bir hata oluştu");c(e=>[...e,h]),f(!1),j(null),n.oR.success("\xdcr\xfcn başarıyla eklendi")}catch(e){console.error("\xdcr\xfcn ekleme hatası:",e),n.oR.error("\xdcr\xfcn eklenirken bir hata oluştu")}},K=async e=>{if(p)try{let a=p.image||"/placeholder.jpg";if(v){let e=new FormData;if(e.append("file",v),!(await fetch("/api/upload",{method:"POST",body:e})).ok)throw Error("Resim y\xfcklenirken bir hata oluştu");a="/dishes/".concat(v.name)}let t=o.map(a=>{var t;let r=null===(t=e.get("feature_".concat(a.label)))||void 0===t?void 0:t.toString();return r?{name:a.icon,value:r}:null}).filter(e=>null!==e),r=[],l=Array.from(e.entries()).filter(e=>{let[a]=e;return a.startsWith("variation_name_")||a.startsWith("variation_price_")}).reduce((e,a)=>{let[t,r]=a,l=t.split("_").pop();return l&&(e[l]||(e[l]={}),t.includes("name")&&(e[l].name=r.toString()),t.includes("price")&&(e[l].price=r.toString())),e},{});Object.values(l).forEach(e=>{e.name&&e.price&&r.push({id:Math.random().toString(36).substr(2,9),name:e.name,price:e.price})});let i={...p,name:e.get("name"),description:e.get("description"),price:e.get("price"),category:e.get("category"),image:a,features:t,variations:r.length>0?r:void 0};if(!(await fetch("/api/products/".concat(i.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)throw Error("\xdcr\xfcn g\xfcncellenirken bir hata oluştu");c(e=>e.map(e=>e.id===i.id?i:e)),b(!1),h(null),j(null),n.oR.success("\xdcr\xfcn başarıyla g\xfcncellendi")}catch(e){console.error("\xdcr\xfcn g\xfcncelleme hatası:",e),n.oR.error("\xdcr\xfcn g\xfcncellenirken bir hata oluştu")}},M=async()=>{if(confirm("Se\xe7ili ".concat(w.size," \xfcr\xfcn\xfc silmek istediğinize emin misiniz?")))try{for(let e of w)await fetch("/api/products/".concat(e),{method:"DELETE"});c(t.filter(e=>!w.has(e.id))),S(new Set),n.oR.success("Se\xe7ili \xfcr\xfcnler başarıyla silindi")}catch(e){console.error("Toplu silme hatası:",e),n.oR.error("\xdcr\xfcnler silinirken bir hata oluştu")}},q=async()=>{if(E&&confirm("Se\xe7ili ".concat(w.size,' \xfcr\xfcn\xfcn kategorisini "').concat(E,'" olarak değiştirmek istediğinize emin misiniz?')))try{let e=[];for(let a of t)if(w.has(a.id)){let t={...a,category:E,categoryImage:"/categories/".concat(E.toLowerCase().replace(/[^a-z0-9]/g,"-"),".jpg")};await fetch("/api/products/".concat(a.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),e.push(t)}else e.push(a);c(e),S(new Set),C(""),n.oR.success("Kategoriler başarıyla g\xfcncellendi")}catch(e){console.error("Toplu kategori g\xfcncelleme hatası:",e),n.oR.error("Kategoriler g\xfcncellenirken bir hata oluştu")}},B=async()=>{if(!P)return;let e=parseFloat(P);if(!isNaN(e)&&confirm("Se\xe7ili ".concat(w.size," \xfcr\xfcn\xfcn fiyatını %").concat(e," oranında artırmak istediğinize emin misiniz?")))try{let a=[];for(let r of t)if(w.has(r.id)){let t=(parseFloat(r.price)*(1+e/100)).toFixed(2),l={...r,price:t};await fetch("/api/products/".concat(r.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),a.push(l)}else a.push(r);c(a),S(new Set),F(""),n.oR.success("Fiyatlar başarıyla g\xfcncellendi")}catch(e){console.error("Toplu fiyat g\xfcncelleme hatası:",e),n.oR.error("Fiyatlar g\xfcncellenirken bir hata oluştu")}},D=async()=>{try{m(!0);let a=await fetch("/api/mssql-products");if(!a.ok)throw Error("MSSQL \xfcr\xfcnleri alınamadı");let r=await a.json();console.log("MSSQL \xfcr\xfcnleri alındı:",r.length);let l=t.filter(e=>e.mssqlProductName);if(console.log("Eşleştirilmiş \xfcr\xfcnler:",l.length),0===l.length){n.oR.error("Eşleştirilmiş \xfcr\xfcn bulunamadı");return}let i=0,s=[...t];for(let a of l)try{var e;let t=r.filter(e=>e.name===a.mssqlProductName);if(console.log("".concat(a.name," i\xe7in eşleşen MSSQL \xfcr\xfcnleri:"),t.length),0===t.length)continue;let l=s.findIndex(e=>e.id===a.id);if(-1===l)continue;let n={...a};if(null===(e=a.variations)||void 0===e?void 0:e.length){let e=!1;n.variations=a.variations.map(a=>{let r=t.find(e=>e.portion===a.name);return r?(e=!0,{...a,price:r.price.toString()}):a}),e&&n.variations[0]&&(n.price=n.variations[0].price)}else{let e=t[0];e&&(n.price=e.price.toString())}let o=await fetch("/api/products/".concat(a.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});o.ok?(s[l]=n,i++,console.log("".concat(a.name," g\xfcncellendi"))):console.error("".concat(a.name," g\xfcncellenemedi:"),await o.text())}catch(e){console.error("".concat(a.name," g\xfcncellenirken hata:"),e)}c(s),i>0?n.oR.success("".concat(i," \xfcr\xfcn\xfcn fiyatı g\xfcncellendi")):n.oR.error("Hi\xe7bir \xfcr\xfcn g\xfcncellenemedi")}catch(e){console.error("Fiyat g\xfcncelleme hatası:",e),n.oR.error("Fiyat g\xfcncelleme işlemi başarısız oldu")}finally{m(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,r.jsx)("header",{className:"bg-white shadow",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Men\xfc Y\xf6netimi"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{onClick:()=>f(!0),className:"bg-[#b60575] text-white px-4 py-2 rounded-md hover:bg-[#8c0459] transition-colors",children:"Yeni \xdcr\xfcn Ekle"}),(0,r.jsx)("button",{onClick:D,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Fiyatları G\xfcncelle"}),(0,r.jsx)("button",{onClick:()=>a.push("/admin/match"),className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",children:"\xdcr\xfcn Eşleştirme"}),(0,r.jsx)("button",{onClick:()=>a.back(),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50",children:"Geri"})]})]})})}),(0,r.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-gray-300 border-t-gray-900"}),(0,r.jsx)("p",{className:"mt-4 text-gray-500",children:"\xdcr\xfcnler y\xfckleniyor..."})]}):x?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-red-500",children:x}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-gray-900 text-white rounded-full hover:bg-gray-800 transition-colors",children:"Tekrar Dene"})]}):(0,r.jsxs)(r.Fragment,{children:[T.map(e=>{var a;return(0,r.jsxs)("div",{className:"mb-16",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4 mb-8",children:[(0,r.jsx)("div",{className:"relative w-16 h-16 rounded-full overflow-hidden",children:(0,r.jsx)(s.default,{src:(null===(a=t.find(a=>a.category===e))||void 0===a?void 0:a.categoryImage)||"/placeholder.jpg",alt:e,fill:!0,className:"object-cover"})}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:e})]}),(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.filter(a=>a.category===e).map(e=>{var a;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute top-4 left-4 z-10",children:(0,r.jsx)("input",{type:"checkbox",checked:w.has(e.id),onChange:a=>{let t=new Set(w);a.target.checked?t.add(e.id):t.delete(e.id),S(t)},className:"w-5 h-5 rounded border-gray-300 text-[#b60575] focus:ring-pink-500"})}),(0,r.jsxs)("div",{className:"group bg-white rounded-2xl shadow-sm hover:shadow-md transition-all overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative h-48 w-full",children:[(0,r.jsx)(s.default,{src:e.image,alt:e.name,fill:!0,className:"object-cover transform group-hover:scale-105 transition-transform duration-300"}),(0,r.jsx)("div",{className:"absolute top-4 right-4",children:(0,r.jsxs)("span",{className:"bg-white/90 backdrop-blur-sm text-gray-900 px-3 py-1 rounded-full font-semibold shadow-lg",children:[e.price," ₺"]})})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.name}),(0,r.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e.description}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 mb-4",children:null===(a=e.features)||void 0===a?void 0:a.map((e,a)=>(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[(0,r.jsx)("span",{className:"text-2xl mb-1 block",role:"img","aria-label":e.name,children:e.name}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.value})]},e.name||a))}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)("button",{onClick:()=>A(e),className:"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"D\xfczenle"}),(0,r.jsx)("button",{onClick:()=>R(e.id),className:"px-3 py-1 text-sm font-medium text-red-700 bg-red-100 rounded-md hover:bg-red-200",children:"Sil"})]})]})]})]},e.id)})})]},e)}),0===t.length&&(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500",children:"Hen\xfcz \xfcr\xfcn eklenmemiş"})})]})}),y&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-lg w-full p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Yeni \xdcr\xfcn Ekle"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),O(new FormData(e.currentTarget))},className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"\xdcr\xfcn Adı"}),(0,r.jsx)("input",{type:"text",name:"name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"A\xe7ıklama"}),(0,r.jsx)("textarea",{name:"description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"Fiyat (₺)"}),(0,r.jsx)("input",{type:"number",name:"price",required:!0,step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"Kategori"}),(0,r.jsx)("select",{name:"category",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900",children:N.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"\xdcr\xfcn G\xf6rseli"}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var a;return j((null===(a=e.target.files)||void 0===a?void 0:a[0])||null)},className:"w-full text-gray-900"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"\xd6zellikler"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:o.map(e=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium ".concat("Beğeni"===e.label?"text-[#b60575]":"text-gray-800"),children:[(0,r.jsx)("span",{children:e.icon}),(0,r.jsx)("span",{children:e.label}),"Beğeni"===e.label&&(0,r.jsx)("span",{className:"text-xs bg-pink-100 text-[#b60575] px-2 py-0.5 rounded-full",children:'\xc7ok satanlar i\xe7in "En \xc7ok Satan" se\xe7in'})]}),(0,r.jsxs)("select",{name:"feature_".concat(e.label),className:"w-full px-3 py-2 border rounded-md text-sm text-gray-900 ".concat("Beğeni"===e.label?"border-pink-200 bg-pink-50/50 focus:border-[#b60575] focus:ring-pink-200":"border-gray-300"),children:[(0,r.jsx)("option",{value:"",children:"Se\xe7iniz"}),e.values.map(e=>(0,r.jsx)("option",{value:e,className:"En \xc7ok Satan"===e?"font-medium text-[#b60575]":"",children:e},e))]})]},e.label))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"Porsiyon Se\xe7enekleri"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("input",{type:"text",name:"variation_name_1",placeholder:"Porsiyon Adı",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-900"}),(0,r.jsx)("input",{type:"number",name:"variation_price_1",placeholder:"Fiyat",step:"0.01",className:"w-32 px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-900"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("input",{type:"text",name:"variation_name_2",placeholder:"Porsiyon Adı",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-900"}),(0,r.jsx)("input",{type:"number",name:"variation_price_2",placeholder:"Fiyat",step:"0.01",className:"w-32 px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-900"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("input",{type:"text",name:"variation_name_3",placeholder:"Porsiyon Adı",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-900"}),(0,r.jsx)("input",{type:"number",name:"variation_price_3",placeholder:"Fiyat",step:"0.01",className:"w-32 px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-900"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{f(!1),j(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"İptal"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-[#b60575] rounded-md hover:bg-pink-700",children:"Ekle"})]})]})]})}),g&&p&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:(0,r.jsx)("div",{className:"bg-white rounded-lg max-w-lg w-full p-6 my-8",children:(0,r.jsxs)("div",{className:"max-h-[calc(100vh-8rem)] overflow-y-auto pr-2",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 sticky top-0 bg-white py-2 z-10",children:"\xdcr\xfcn D\xfczenle"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),K(new FormData(e.currentTarget))},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"\xdcr\xfcn Adı"}),(0,r.jsx)("input",{type:"text",name:"name",defaultValue:p.name,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"A\xe7ıklama"}),(0,r.jsx)("textarea",{name:"description",defaultValue:p.description,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"Fiyat (₺)"}),(0,r.jsx)("input",{type:"number",name:"price",defaultValue:p.price,required:!0,step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"Kategori"}),(0,r.jsx)("select",{name:"category",defaultValue:p.category,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900",children:N.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"Mevcut G\xf6rsel"}),(0,r.jsx)("div",{className:"relative w-32 h-32 rounded-lg overflow-hidden",children:(0,r.jsx)(s.default,{src:p.image,alt:p.name,fill:!0,className:"object-cover"})}),(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mt-4 mb-1",children:"Yeni G\xf6rsel Y\xfckle"}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var a;return j((null===(a=e.target.files)||void 0===a?void 0:a[0])||null)},className:"w-full text-gray-900"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"\xd6zellikler"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:o.map(e=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium ".concat("Beğeni"===e.label?"text-[#b60575]":"text-gray-800"),children:[(0,r.jsx)("span",{children:e.icon}),(0,r.jsx)("span",{children:e.label}),"Beğeni"===e.label&&(0,r.jsx)("span",{className:"text-xs bg-pink-100 text-[#b60575] px-2 py-0.5 rounded-full",children:'\xc7ok satanlar i\xe7in "En \xc7ok Satan" se\xe7in'})]}),(0,r.jsxs)("select",{name:"feature_".concat(e.label),className:"w-full px-3 py-2 border rounded-md text-sm text-gray-900 ".concat("Beğeni"===e.label?"border-pink-200 bg-pink-50/50 focus:border-[#b60575] focus:ring-pink-200":"border-gray-300"),children:[(0,r.jsx)("option",{value:"",children:"Se\xe7iniz"}),e.values.map(e=>(0,r.jsx)("option",{value:e,className:"En \xc7ok Satan"===e?"font-medium text-[#b60575]":"",children:e},e))]})]},e.label))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-1",children:"Porsiyon Se\xe7enekleri"}),(0,r.jsxs)("div",{className:"space-y-3",children:[null==p?void 0:null===(e=p.variations)||void 0===e?void 0:e.map((e,a)=>(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("input",{type:"text",name:"variation_name_".concat(a+1),placeholder:"Porsiyon Adı",defaultValue:e.name,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-900"}),(0,r.jsx)("input",{type:"number",name:"variation_price_".concat(a+1),placeholder:"Fiyat",defaultValue:e.price,step:"0.01",className:"w-32 px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-900"})]},e.id)),(0,r.jsxs)("button",{type:"button",onClick:()=>{let e={id:Math.random().toString(36).substr(2,9),name:"",price:""};h(a=>({...a,variations:[...(null==a?void 0:a.variations)||[],e]}))},className:"mt-2 w-full px-3 py-2 text-sm font-medium text-[#b60575] bg-pink-50 rounded-md hover:bg-pink-100 transition-colors flex items-center justify-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Yeni Porsiyon Ekle"]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"MSSQL \xdcr\xfcn Adı"}),(0,r.jsx)("input",{type:"text",name:"mssqlProductName",defaultValue:(null==p?void 0:p.mssqlProductName)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#b60575] text-gray-900",placeholder:"MSSQL veritabanındaki \xfcr\xfcn adı"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Bu alan, MSSQL veritabanındaki \xfcr\xfcn adıyla eşleştirme i\xe7in kullanılacaktır."})]})]}),(0,r.jsx)("div",{className:"sticky bottom-0 bg-white pt-4 mt-4 border-t",children:(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{b(!1),h(null),j(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"İptal"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-[#b60575] rounded-md hover:bg-pink-700",children:"Kaydet"})]})})]})]})})}),w.size>0&&(0,r.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-40",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[w.size," \xfcr\xfcn se\xe7ildi"]}),(0,r.jsx)("button",{onClick:()=>S(new Set),className:"text-sm text-gray-500 hover:text-gray-700",children:"Se\xe7imi Temizle"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{onClick:()=>z(!_),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:_?"İşlemleri Gizle":"İşlemleri G\xf6ster"}),(0,r.jsx)("button",{onClick:M,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Se\xe7ilenleri Sil"})]})]}),_&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("select",{value:E,onChange:e=>C(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-900",children:[(0,r.jsx)("option",{value:"",children:"Kategori Se\xe7in"}),N.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsx)("button",{onClick:q,disabled:!E,className:"px-4 py-2 text-sm font-medium text-white bg-[#b60575] rounded-md hover:bg-pink-700 disabled:opacity-50",children:"Kategori G\xfcncelle"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,r.jsx)("input",{type:"number",value:P,onChange:e=>F(e.target.value),placeholder:"Artış Oranı (%)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-900"}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"%"})]}),(0,r.jsx)("button",{onClick:B,disabled:!P,className:"px-4 py-2 text-sm font-medium text-white bg-[#b60575] rounded-md hover:bg-pink-700 disabled:opacity-50",children:"Fiyat G\xfcncelle"})]})]})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[37,565,441,517,358],()=>a(2435)),_N_E=e.O()}]);